{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome to the MZmine 3 wiki! \u00b6 Here you can find general processing guides, module documentations and video tutorials. Main window overview Performance options LC-MS workflow LC-IMS-MS workflow Raw data visualisation Acknowledgements Libraries in MZmine \u00b6 Apache XML Graphics - EPS image export Chemistry Development Kit - Isotope pattern and molecular calculations Freehep - EMF image export Google Guava - Utility classes JavaHelp - Help system JChemPaint - 2D molecule visualization JFreeChart - TIC, Spectra and 2D visualizers JMol - 3D molecule visualization jmzml - mzML file import jmzTab - mzTab file import and export NetCDF-Java - NetCDF file import VisAD - 3D visualizer WEKA - Clustering and other machine learning algorithms Bruker TDF SDK - Native tdf/tdf file import (requires VC++ 2017 redist.) Thermo raw file parser - Native Thermo raw import","title":"Home page"},{"location":"#welcome-to-the-mzmine-3-wiki","text":"Here you can find general processing guides, module documentations and video tutorials. Main window overview Performance options LC-MS workflow LC-IMS-MS workflow Raw data visualisation Acknowledgements","title":"Welcome to the MZmine 3 wiki!"},{"location":"#libraries-in-mzmine","text":"Apache XML Graphics - EPS image export Chemistry Development Kit - Isotope pattern and molecular calculations Freehep - EMF image export Google Guava - Utility classes JavaHelp - Help system JChemPaint - 2D molecule visualization JFreeChart - TIC, Spectra and 2D visualizers JMol - 3D molecule visualization jmzml - mzML file import jmzTab - mzTab file import and export NetCDF-Java - NetCDF file import VisAD - 3D visualizer WEKA - Clustering and other machine learning algorithms Bruker TDF SDK - Native tdf/tdf file import (requires VC++ 2017 redist.) Thermo raw file parser - Native Thermo raw import","title":"Libraries in MZmine"},{"location":"Contribute/","text":"How to contribute \u00b6 Contribute to the MZmine documentation \u00b6 1. Make a GitHub Account You'll need to make a GitHub Account . 2. Click Edit Button on Page You Want to Edit 3. Fork the Repository When Prompted (only the first time) 4. Make the Edits in MarkDown 5. Propose Changes Please describe the change you are making. 6. Create Pull Request 7. Finalize Pull Request with Description Page Contributors \u00b6 SteffenHeu This page was adapted from the GNPS documentation .","title":"Contribute"},{"location":"Contribute/#how-to-contribute","text":"","title":"How to contribute"},{"location":"Contribute/#contribute-to-the-mzmine-documentation","text":"1. Make a GitHub Account You'll need to make a GitHub Account . 2. Click Edit Button on Page You Want to Edit 3. Fork the Repository When Prompted (only the first time) 4. Make the Edits in MarkDown 5. Propose Changes Please describe the change you are making. 6. Create Pull Request 7. Finalize Pull Request with Description","title":"Contribute to the MZmine documentation"},{"location":"Contribute/#page-contributors","text":"SteffenHeu This page was adapted from the GNPS documentation .","title":"Page Contributors"},{"location":"Main-window-overview/","text":"Main window overview \u00b6 The MZmine 3 man window is made up of mainly four important building blocks. MS data files and feature lists tab \u00b6 [1]: The (raw) ms data and feature list tabs. Here you can find your imported data files and processed feature lists. Hint: you can also import files by dragging & dropping them to the ms data tab. Main content pane \u00b6 [2]: The main content pane. Visualisations such as a raw data overview or a feature list can be viewed here. This pane can also contain multiple tabs. Every tab can also be opened in a new seperate window by right clicking on the header. Main menu \u00b6 [3]: The main menu. Here you can find methods to import and process your data files and feature lists and visualise the results. Furthermore, projects can be saved and preferences can be set. Task overview \u00b6 [4]: The task overview. Current tasks are displayed and their status and progress are indicated. Tasks can also be canceled by right clicking on a task. Page Contributors \u00b6 SteffenHeu","title":"Main window overview"},{"location":"Main-window-overview/#main-window-overview","text":"The MZmine 3 man window is made up of mainly four important building blocks.","title":"Main window overview"},{"location":"Main-window-overview/#ms-data-files-and-feature-lists-tab","text":"[1]: The (raw) ms data and feature list tabs. Here you can find your imported data files and processed feature lists. Hint: you can also import files by dragging & dropping them to the ms data tab.","title":"MS data files and feature lists tab"},{"location":"Main-window-overview/#main-content-pane","text":"[2]: The main content pane. Visualisations such as a raw data overview or a feature list can be viewed here. This pane can also contain multiple tabs. Every tab can also be opened in a new seperate window by right clicking on the header.","title":"Main content pane"},{"location":"Main-window-overview/#main-menu","text":"[3]: The main menu. Here you can find methods to import and process your data files and feature lists and visualise the results. Furthermore, projects can be saved and preferences can be set.","title":"Main menu"},{"location":"Main-window-overview/#task-overview","text":"[4]: The task overview. Current tasks are displayed and their status and progress are indicated. Tasks can also be canceled by right clicking on a task.","title":"Task overview"},{"location":"Main-window-overview/#page-contributors","text":"SteffenHeu","title":"Page Contributors"},{"location":"Raw-data-visualisation/","text":"Raw data visualisation \u00b6 Raw data overview (LC-MS) \u00b6 Ion mobility raw data overview (LC-IMS-MS) \u00b6 Chromatogram plot \u00b6 Spectrum plot \u00b6 Page Contributors \u00b6 SteffenHeu","title":"Raw data visualisation"},{"location":"Raw-data-visualisation/#raw-data-visualisation","text":"","title":"Raw data visualisation"},{"location":"Raw-data-visualisation/#raw-data-overview-lc-ms","text":"","title":"Raw data overview (LC-MS)"},{"location":"Raw-data-visualisation/#ion-mobility-raw-data-overview-lc-ims-ms","text":"","title":"Ion mobility raw data overview (LC-IMS-MS)"},{"location":"Raw-data-visualisation/#chromatogram-plot","text":"","title":"Chromatogram plot"},{"location":"Raw-data-visualisation/#spectrum-plot","text":"","title":"Spectrum plot"},{"location":"Raw-data-visualisation/#page-contributors","text":"SteffenHeu","title":"Page Contributors"},{"location":"performance/","text":"This section contains information on how to tune MZmine 3 for different systems. Preferences \u00b6 The preferences can be changed in MZmine's graphical user interface by accessing File/Set preferences from the menu. The choices will be stored in a (hidden) .mzmine3.conf file in the user's home directory (Windows: C:\\Users\\USERNAME ) once MZmine is closed. Important preferences Memory options Logs \u00b6 Currently, the logs are written to an mzmine_0_0.log file in the user's home directory. Please submit your log files together with any issues on GitHub . Command-line arguments \u00b6 Command-line arguments offer a variety of options that generally override the corresponding parameters in the preferences. Windows An easy way to start MZMine with arguments is to create a shortcut to the MZmine.exe, right-click, and define the target with additional arguments. This example runs MZMine in batch mode (headless), imports the specified batch file, overrides the memory management to none (which is the default), effectively using memory mapping to store and access spectral, centroid, and feature data from temporary files stored in the defined temp directory. By leaving out the memory or temp arguments, the values stored in the current preferences file will be used, or the default values if no preferences file was found. Start MZmine batch with memory mapping ( DEFAULT ) \"C:\\Program Files\\MZmine\\MZmine.exe\" -batch \"D:\\batch\\my_batch_file.xml\" -memory none -temp \"D:\\tmpmzmine\" Start MZmine batch on machines with enough memory (RAM) with -memory all \"C:\\Program Files\\MZmine\\MZmine.exe\" -batch \"D:\\batch\\my_batch_file.xml\" -memory all -temp \"D:\\tmpmzmine\" Argument table \u00b6 Argument Options ( default ) Description -batch a path, e.g. \"D:\\batch.xml\" Path to batch file -memory none , all, features, centroids, raw, masses_features Defines what data is kept in memory (RAM) or otherwise memory mapped to the temp directory. Generally this setting should be none . If memory is no issue this option might be set to all process all spectral and feature data in memory. The option masses_features keeps centroid mass lists and features in memory while memory mapping raw spectral data. -temp a path, e.g., \"-temp \"D:\\tmpmzmine\\\" The defined directory should be on a fast drive (usually SSD > HDD > network drive) with enough free space. Local drives are usually preferred. MZmine uses memory mapping to efficiently store and access spectral and feature data. This can lead to a considerable temporary consumption of disk space. Make sure that the selected drive has enough space (maybe 20 GB + 1 GB/10 files; generously over estimated).","title":"Performance options"},{"location":"performance/#preferences","text":"The preferences can be changed in MZmine's graphical user interface by accessing File/Set preferences from the menu. The choices will be stored in a (hidden) .mzmine3.conf file in the user's home directory (Windows: C:\\Users\\USERNAME ) once MZmine is closed. Important preferences Memory options","title":"Preferences"},{"location":"performance/#logs","text":"Currently, the logs are written to an mzmine_0_0.log file in the user's home directory. Please submit your log files together with any issues on GitHub .","title":"Logs"},{"location":"performance/#command-line-arguments","text":"Command-line arguments offer a variety of options that generally override the corresponding parameters in the preferences. Windows An easy way to start MZMine with arguments is to create a shortcut to the MZmine.exe, right-click, and define the target with additional arguments. This example runs MZMine in batch mode (headless), imports the specified batch file, overrides the memory management to none (which is the default), effectively using memory mapping to store and access spectral, centroid, and feature data from temporary files stored in the defined temp directory. By leaving out the memory or temp arguments, the values stored in the current preferences file will be used, or the default values if no preferences file was found. Start MZmine batch with memory mapping ( DEFAULT ) \"C:\\Program Files\\MZmine\\MZmine.exe\" -batch \"D:\\batch\\my_batch_file.xml\" -memory none -temp \"D:\\tmpmzmine\" Start MZmine batch on machines with enough memory (RAM) with -memory all \"C:\\Program Files\\MZmine\\MZmine.exe\" -batch \"D:\\batch\\my_batch_file.xml\" -memory all -temp \"D:\\tmpmzmine\"","title":"Command-line arguments"},{"location":"performance/#argument-table","text":"Argument Options ( default ) Description -batch a path, e.g. \"D:\\batch.xml\" Path to batch file -memory none , all, features, centroids, raw, masses_features Defines what data is kept in memory (RAM) or otherwise memory mapped to the temp directory. Generally this setting should be none . If memory is no issue this option might be set to all process all spectral and feature data in memory. The option masses_features keeps centroid mass lists and features in memory while memory mapping raw spectral data. -temp a path, e.g., \"-temp \"D:\\tmpmzmine\\\" The defined directory should be on a fast drive (usually SSD > HDD > network drive) with enough free space. Local drives are usually preferred. MZmine uses memory mapping to efficiently store and access spectral and feature data. This can lead to a considerable temporary consumption of disk space. Make sure that the selected drive has enough space (maybe 20 GB + 1 GB/10 files; generously over estimated).","title":"Argument table"},{"location":"wikiacknowledgements/","text":"Acknowledgements \u00b6 We would like to point out that this wiki was set up in tight collaboration with the GNPS staff. We highly appreciate your help!","title":"Acknowledgements"},{"location":"wikiacknowledgements/#acknowledgements","text":"We would like to point out that this wiki was set up in tight collaboration with the GNPS staff. We highly appreciate your help!","title":"Acknowledgements"},{"location":"module_docs/ccs_calibration/ccs_calibration/","text":"CCS Calibration and calculation \u00b6 Accurate determination of CCS values requires a valid CCS calibration and molecule charge states to be detected. timsTOF raw data can be recalibrated using data analysis and imported in MZmine. The recalibrated data will be used by default. (see Calulating CCS values ) mzML raw data requires the determination of a calibration function from the raw data (e.g. as detected features) or as import from an external file. ( see Creating or importing a CCS calibration Creating or importing a CCS calibration \u00b6 Importing a CCS calibration \u00b6 Agilent calibration data can be imported from the \"OverrideImsCal.xml\" file in the Agilent raw data folder. The calibration import is accessed via Feature list methods -> Processing -> External CCS Calibration . Then select the calibration \"OverrideImsCal.xml\" from the raw data folder, and select the raw data files the calibration should be applied to. Reference CSS calibration \u00b6 If a mobility calibrant is infused during an HPLC run of every sample, a CCS calibration can be calculated on a per-raw file basis. Otherwise, a single run can be used to calibrate multiple files. The calibration module can be accessed via Feature list methods -> Processing -> Internal reference calibration . Set to additional raw files If a calibration calculated from a single feature list shall be applied to multiple other raw files, the raw files can be selected here. This requires only a single raw file to be selected. Feature list (with reference compounds) Specifies (a) feature list(s) that contains the reference compounds. If multiple feature lists are selected, every feature list will be searched for reference compounds, and the calibration will be used for the raw data files in the particular feature list. This means that no raw data file may be selected. (Cannot set multiple calibrations to a single raw file.) If a single feature list is selected, the calibration may be applied to additional raw data files via the Set to additional raw files parameter. Reference list Specifies a \".csv\" reference list of for CCS calibrant ions. Must contain the columns \" mz\", \"mobility\", \"ccs\", \"charge\". Columns must be separated by \";\". The ion mode may be specified via the charge of the ion, e.g., as 1 or -1. Only the correct polarity will be used to calculate the calibration. m/z tolerance The m/z tolerance for the reference compounds. Mobility tolerance the mobiltiy tolerance to detect the reference compounds. Calibration segment RT Range Specifies the rt range that shall be searched for calibrant ions. Usually either the beginning or end of a HPLC run. Minimum height A minimum intensity for reference compounds to be used as calibrant signals for determination of the calibration. Calculating CCS values \u00b6 After a calibration as been set (Agilent/Waters/Bruker mzML) (Bruker tdf works out-of-the-box) CCS values can be calculated via Feature list methods -> Processing -> Calculate CCS values . Here, a default charge state may be set, in case it could not be determined. Otherwise, the charge state determined via the isotope pattern will be used.","title":"CCS calibration"},{"location":"module_docs/ccs_calibration/ccs_calibration/#ccs-calibration-and-calculation","text":"Accurate determination of CCS values requires a valid CCS calibration and molecule charge states to be detected. timsTOF raw data can be recalibrated using data analysis and imported in MZmine. The recalibrated data will be used by default. (see Calulating CCS values ) mzML raw data requires the determination of a calibration function from the raw data (e.g. as detected features) or as import from an external file. ( see Creating or importing a CCS calibration","title":"CCS Calibration and calculation"},{"location":"module_docs/ccs_calibration/ccs_calibration/#creating-or-importing-a-ccs-calibration","text":"","title":"Creating or importing a CCS calibration"},{"location":"module_docs/ccs_calibration/ccs_calibration/#importing-a-ccs-calibration","text":"Agilent calibration data can be imported from the \"OverrideImsCal.xml\" file in the Agilent raw data folder. The calibration import is accessed via Feature list methods -> Processing -> External CCS Calibration . Then select the calibration \"OverrideImsCal.xml\" from the raw data folder, and select the raw data files the calibration should be applied to.","title":"Importing a CCS calibration"},{"location":"module_docs/ccs_calibration/ccs_calibration/#reference-css-calibration","text":"If a mobility calibrant is infused during an HPLC run of every sample, a CCS calibration can be calculated on a per-raw file basis. Otherwise, a single run can be used to calibrate multiple files. The calibration module can be accessed via Feature list methods -> Processing -> Internal reference calibration . Set to additional raw files If a calibration calculated from a single feature list shall be applied to multiple other raw files, the raw files can be selected here. This requires only a single raw file to be selected. Feature list (with reference compounds) Specifies (a) feature list(s) that contains the reference compounds. If multiple feature lists are selected, every feature list will be searched for reference compounds, and the calibration will be used for the raw data files in the particular feature list. This means that no raw data file may be selected. (Cannot set multiple calibrations to a single raw file.) If a single feature list is selected, the calibration may be applied to additional raw data files via the Set to additional raw files parameter. Reference list Specifies a \".csv\" reference list of for CCS calibrant ions. Must contain the columns \" mz\", \"mobility\", \"ccs\", \"charge\". Columns must be separated by \";\". The ion mode may be specified via the charge of the ion, e.g., as 1 or -1. Only the correct polarity will be used to calculate the calibration. m/z tolerance The m/z tolerance for the reference compounds. Mobility tolerance the mobiltiy tolerance to detect the reference compounds. Calibration segment RT Range Specifies the rt range that shall be searched for calibrant ions. Usually either the beginning or end of a HPLC run. Minimum height A minimum intensity for reference compounds to be used as calibrant signals for determination of the calibration.","title":"Reference CSS calibration"},{"location":"module_docs/ccs_calibration/ccs_calibration/#calculating-ccs-values","text":"After a calibration as been set (Agilent/Waters/Bruker mzML) (Bruker tdf works out-of-the-box) CCS values can be calculated via Feature list methods -> Processing -> Calculate CCS values . Here, a default charge state may be set, in case it could not be determined. Otherwise, the charge state determined via the isotope pattern will be used.","title":"Calculating CCS values"},{"location":"wf_featuredetection/Ion-mobility-data-processing-workflow/","text":"LC-IMS-MS Workflow Overview \u00b6 Supported formats \u00b6 Vendor formats: .tdf (Native Bruker LC-IMS-MS and MALDI-IMS-MSI format) .tsf (Native Bruker MALDI-IMS-MS (single shot) format) .mzML Created via MSConvert from native Bruker data Created via MSConvert from native Waters/Agilent data Background information and terminology \u00b6 Raw data processing \u00b6 Raw data import \u00b6 Data import Mass detection \u00b6 Mass detection Mobility scan merging \u00b6 This step is not required when importing native Bruker .tdf or .tsf data from .d folders. Mobility scan mering Feature detection workflows \u00b6 Ion mobility data can be processed in MZmine 3 in two ways. The first few steps are different for the two workflows. LC-IMS-MS workflow via ADAP Chromatogram builder and IMS expander (recommended) build extracted ion chromatograms (rt dimension) from frame spectra requires merged frame spectra (see mobility scan merging ) smoothing (optional) resolve retention time dimension expand features into mobility dimension smoothing (optional) resolve mobility dimension smoothing (optional) LC-IMS-MS workflow via Ion mobility trace builder / Recursive IMS builder directly build ion mobility traces (rt and mobility dimension) smoothing (optional) resolve retention time dimension smoothing (optional) resolve mobility dimension smoothing (optional) While these lists might seem fairly similar, there are some differences in the processing approach. The LC-IMS-MS workflow builds ion mobility traces from the data in the mobility scans, whilst the LC-MS workflow builds EICs from the summed frames. Imagine setting the noise level to 200 and occurs in 15 mobility scans with an intensity of 180 and in 20 with > 200, but the ion mobility trace builder required at least 25 data points. At the same time, the ADAP chromatogram builder was set to a minimum highest intensity of 1000 in a frame, which might have been reached due to summed intensities. Since intensities are summed to build frames, the LC-MS workflow can be more sensitive to less abundant compounds whilst the LC-IMS-MS workflow will directly detect ion mobility traces and be less susceptible to noise. For .mzML data, this might not make a significant impact, because the frame is built from the thresholded mass list. This means that the main impact on sensitivity for low intense compounds is made by the user's noise level selection. However, for native Bruker raw data, the summed frame is automatically built via the functionality of the vendor library without the user's influence. Therefore, the more low abundant compounds might be detected, if the LC-MS workflow is chosen. LC-MS workflow (recommended) \u00b6 LC-IMS-MS data can also be processed via the regular LC-MS modules. If necessary, detected features can be expanded into the mobility dimension. For this workflow, generation of summed frame spectra via the Mobility scan merging module is a mandatory step, if the data was imported from an .mzML file (automatically generated via native Bruker import). ADAP chromatogram builder \u00b6 ADAP Chromatogram builder Smoothing in retention time dimension (optional) \u00b6 Smoothing Resolving in retention time dimension \u00b6 Local minimum resolver Expanding EICs in mobility dimension \u00b6 IMS expander Smoothing in mobility dimension (optional) \u00b6 Smoothing Resolving in mobility dimension \u00b6 Local minimum resolver (Mobility dimension) Smoothing in rt and mobility dimension (optional) \u00b6 Some recognised features might have rather noisy signals (in rt and mobility dimension) after the mobility resolving step. If smoother shapes are required, the smoothing can be reapplied afterwards. In that case, smoothing can be applied to both dimensions at once. Smoothing LC-IMS-MS workflow \u00b6 The LC-IMS-MS workflow will directly build ion mobility traces from the raw data in the mobility scans. This workflow does not necessarily require summed frame spectra. However, if extracted ion chromatograms shall be visualized via the Chromatogram visualizer , the frame intensities are used. In case these are not present, the chromatograms will be blank. Note that feature intensities from the LC-IMS-MS workflow might not exactly match the frame chromatograms due to summing being executed prior to thresholding (for native Bruker data). Furthermore, multiple isomers might hide behind a single chromatographic peak. Ion mobility trace builder \u00b6 Ion mobility trace builder Smoothing in retention time dimension (optional) \u00b6 Smoothing Resolving in retention time dimension \u00b6 Local minimum resolver Smoothing in mobility dimension (optional) \u00b6 Smoothing Resolving in mobility dimension \u00b6 Local minimum resolver (Mobility dimension) Smoothing in rt and mobility dimension (optional) \u00b6 Some recognised features might have rather noisy signals (in rt and mobility dimension) after the mobility resolving step. If smoother shapes are required, the smoothing can be reapplied afterwards. In that case, smoothing can be applied to both dimensions at once. Smoothing Graphical comparison of LC-MS and LC-IMS-MS data \u00b6 Data comparison Page Contributors \u00b6 SteffenHeu","title":"LC-IMS-MS workflow"},{"location":"wf_featuredetection/Ion-mobility-data-processing-workflow/#lc-ims-ms-workflow-overview","text":"","title":"LC-IMS-MS Workflow Overview"},{"location":"wf_featuredetection/Ion-mobility-data-processing-workflow/#supported-formats","text":"Vendor formats: .tdf (Native Bruker LC-IMS-MS and MALDI-IMS-MSI format) .tsf (Native Bruker MALDI-IMS-MS (single shot) format) .mzML Created via MSConvert from native Bruker data Created via MSConvert from native Waters/Agilent data","title":"Supported formats"},{"location":"wf_featuredetection/Ion-mobility-data-processing-workflow/#background-information-and-terminology","text":"","title":"Background information and terminology"},{"location":"wf_featuredetection/Ion-mobility-data-processing-workflow/#raw-data-processing","text":"","title":"Raw data processing"},{"location":"wf_featuredetection/Ion-mobility-data-processing-workflow/#raw-data-import","text":"Data import","title":"Raw data import"},{"location":"wf_featuredetection/Ion-mobility-data-processing-workflow/#mass-detection","text":"Mass detection","title":"Mass detection"},{"location":"wf_featuredetection/Ion-mobility-data-processing-workflow/#mobility-scan-merging","text":"This step is not required when importing native Bruker .tdf or .tsf data from .d folders. Mobility scan mering","title":"Mobility scan merging"},{"location":"wf_featuredetection/Ion-mobility-data-processing-workflow/#feature-detection-workflows","text":"Ion mobility data can be processed in MZmine 3 in two ways. The first few steps are different for the two workflows. LC-IMS-MS workflow via ADAP Chromatogram builder and IMS expander (recommended) build extracted ion chromatograms (rt dimension) from frame spectra requires merged frame spectra (see mobility scan merging ) smoothing (optional) resolve retention time dimension expand features into mobility dimension smoothing (optional) resolve mobility dimension smoothing (optional) LC-IMS-MS workflow via Ion mobility trace builder / Recursive IMS builder directly build ion mobility traces (rt and mobility dimension) smoothing (optional) resolve retention time dimension smoothing (optional) resolve mobility dimension smoothing (optional) While these lists might seem fairly similar, there are some differences in the processing approach. The LC-IMS-MS workflow builds ion mobility traces from the data in the mobility scans, whilst the LC-MS workflow builds EICs from the summed frames. Imagine setting the noise level to 200 and occurs in 15 mobility scans with an intensity of 180 and in 20 with > 200, but the ion mobility trace builder required at least 25 data points. At the same time, the ADAP chromatogram builder was set to a minimum highest intensity of 1000 in a frame, which might have been reached due to summed intensities. Since intensities are summed to build frames, the LC-MS workflow can be more sensitive to less abundant compounds whilst the LC-IMS-MS workflow will directly detect ion mobility traces and be less susceptible to noise. For .mzML data, this might not make a significant impact, because the frame is built from the thresholded mass list. This means that the main impact on sensitivity for low intense compounds is made by the user's noise level selection. However, for native Bruker raw data, the summed frame is automatically built via the functionality of the vendor library without the user's influence. Therefore, the more low abundant compounds might be detected, if the LC-MS workflow is chosen.","title":"Feature detection workflows"},{"location":"wf_featuredetection/Ion-mobility-data-processing-workflow/#lc-ms-workflow-recommended","text":"LC-IMS-MS data can also be processed via the regular LC-MS modules. If necessary, detected features can be expanded into the mobility dimension. For this workflow, generation of summed frame spectra via the Mobility scan merging module is a mandatory step, if the data was imported from an .mzML file (automatically generated via native Bruker import).","title":"LC-MS workflow (recommended)"},{"location":"wf_featuredetection/Ion-mobility-data-processing-workflow/#adap-chromatogram-builder","text":"ADAP Chromatogram builder","title":"ADAP chromatogram builder"},{"location":"wf_featuredetection/Ion-mobility-data-processing-workflow/#smoothing-in-retention-time-dimension-optional","text":"Smoothing","title":"Smoothing in retention time dimension (optional)"},{"location":"wf_featuredetection/Ion-mobility-data-processing-workflow/#resolving-in-retention-time-dimension","text":"Local minimum resolver","title":"Resolving in retention time dimension"},{"location":"wf_featuredetection/Ion-mobility-data-processing-workflow/#expanding-eics-in-mobility-dimension","text":"IMS expander","title":"Expanding EICs in mobility dimension"},{"location":"wf_featuredetection/Ion-mobility-data-processing-workflow/#smoothing-in-mobility-dimension-optional","text":"Smoothing","title":"Smoothing  in mobility dimension (optional)"},{"location":"wf_featuredetection/Ion-mobility-data-processing-workflow/#resolving-in-mobility-dimension","text":"Local minimum resolver (Mobility dimension)","title":"Resolving in mobility dimension"},{"location":"wf_featuredetection/Ion-mobility-data-processing-workflow/#smoothing-in-rt-and-mobility-dimension-optional","text":"Some recognised features might have rather noisy signals (in rt and mobility dimension) after the mobility resolving step. If smoother shapes are required, the smoothing can be reapplied afterwards. In that case, smoothing can be applied to both dimensions at once. Smoothing","title":"Smoothing in rt and mobility dimension (optional)"},{"location":"wf_featuredetection/Ion-mobility-data-processing-workflow/#lc-ims-ms-workflow","text":"The LC-IMS-MS workflow will directly build ion mobility traces from the raw data in the mobility scans. This workflow does not necessarily require summed frame spectra. However, if extracted ion chromatograms shall be visualized via the Chromatogram visualizer , the frame intensities are used. In case these are not present, the chromatograms will be blank. Note that feature intensities from the LC-IMS-MS workflow might not exactly match the frame chromatograms due to summing being executed prior to thresholding (for native Bruker data). Furthermore, multiple isomers might hide behind a single chromatographic peak.","title":"LC-IMS-MS workflow"},{"location":"wf_featuredetection/Ion-mobility-data-processing-workflow/#ion-mobility-trace-builder","text":"Ion mobility trace builder","title":"Ion mobility trace builder"},{"location":"wf_featuredetection/Ion-mobility-data-processing-workflow/#smoothing-in-retention-time-dimension-optional_1","text":"Smoothing","title":"Smoothing in retention time dimension (optional)"},{"location":"wf_featuredetection/Ion-mobility-data-processing-workflow/#resolving-in-retention-time-dimension_1","text":"Local minimum resolver","title":"Resolving in retention time dimension"},{"location":"wf_featuredetection/Ion-mobility-data-processing-workflow/#smoothing-in-mobility-dimension-optional_1","text":"Smoothing","title":"Smoothing  in mobility dimension (optional)"},{"location":"wf_featuredetection/Ion-mobility-data-processing-workflow/#resolving-in-mobility-dimension_1","text":"Local minimum resolver (Mobility dimension)","title":"Resolving in mobility dimension"},{"location":"wf_featuredetection/Ion-mobility-data-processing-workflow/#smoothing-in-rt-and-mobility-dimension-optional_1","text":"Some recognised features might have rather noisy signals (in rt and mobility dimension) after the mobility resolving step. If smoother shapes are required, the smoothing can be reapplied afterwards. In that case, smoothing can be applied to both dimensions at once. Smoothing","title":"Smoothing in rt and mobility dimension (optional)"},{"location":"wf_featuredetection/Ion-mobility-data-processing-workflow/#graphical-comparison-of-lc-ms-and-lc-ims-ms-data","text":"Data comparison","title":"Graphical comparison of LC-MS and LC-IMS-MS data"},{"location":"wf_featuredetection/Ion-mobility-data-processing-workflow/#page-contributors","text":"SteffenHeu","title":"Page Contributors"},{"location":"wf_featuredetection/adap-chromatogram-builder/","text":"ADAP chromatogram builder \u00b6 Scan selection \u00b6 The scan selection parameter specifies the scans that shall be processed for feature detection. Usually, setting the ms level to 1 is sufficient. If a calibration segment is present, it can be cut out via the retention time filter in the scan selection. Min group size in # of scans \u00b6 This parameter specifies the number of consecutive detections of the same m/z value in a chromatographic peak (rt dimension). This means that a single m/z has to be detected in, e.g, 5 scans with an intensity higher than zero. This parameter helps to filter noise. Usually no less than 5 should be set here if the MS1 acquisition rate is sufficient. Group intensity threshold \u00b6 Specifies a minimum intensity that the number specified by min group size have to exceed. In this example, the intensity in at least 5 scans must be above 5E2. Minimum highest intensity \u00b6 The highest point of a potential EIC must exceed this value. Scan to scan accuracy (m/z) \u00b6 The m/z tolerance specifies the scan-to-scan tolerance for EICs. This tolerance depends on the mass accuracy and resolution of the instrument. Usually, a good starting point for optimisations are 0.005 and 5-10 ppm for Orbitrap instruments, while 0.005 and 10-15 ppm can be used for TOF instruments.","title":"ADAP Chromatogram builder"},{"location":"wf_featuredetection/adap-chromatogram-builder/#adap-chromatogram-builder","text":"","title":"ADAP chromatogram builder"},{"location":"wf_featuredetection/adap-chromatogram-builder/#scan-selection","text":"The scan selection parameter specifies the scans that shall be processed for feature detection. Usually, setting the ms level to 1 is sufficient. If a calibration segment is present, it can be cut out via the retention time filter in the scan selection.","title":"Scan selection"},{"location":"wf_featuredetection/adap-chromatogram-builder/#min-group-size-in-of-scans","text":"This parameter specifies the number of consecutive detections of the same m/z value in a chromatographic peak (rt dimension). This means that a single m/z has to be detected in, e.g, 5 scans with an intensity higher than zero. This parameter helps to filter noise. Usually no less than 5 should be set here if the MS1 acquisition rate is sufficient.","title":"Min group size in # of scans"},{"location":"wf_featuredetection/adap-chromatogram-builder/#group-intensity-threshold","text":"Specifies a minimum intensity that the number specified by min group size have to exceed. In this example, the intensity in at least 5 scans must be above 5E2.","title":"Group intensity threshold"},{"location":"wf_featuredetection/adap-chromatogram-builder/#minimum-highest-intensity","text":"The highest point of a potential EIC must exceed this value.","title":"Minimum highest intensity"},{"location":"wf_featuredetection/adap-chromatogram-builder/#scan-to-scan-accuracy-mz","text":"The m/z tolerance specifies the scan-to-scan tolerance for EICs. This tolerance depends on the mass accuracy and resolution of the instrument. Usually, a good starting point for optimisations are 0.005 and 5-10 ppm for Orbitrap instruments, while 0.005 and 10-15 ppm can be used for TOF instruments.","title":"Scan to scan accuracy (m/z)"},{"location":"wf_featuredetection/data-import/","text":"Data import \u00b6 LC-MS data \u00b6 Raw data can be imported via the main menu Raw data methods \u2192 Raw data import . Note that multiple data files/folders can be dropped into the MS data (advanced) dialog. If individual modules are used, folder based formats can only imported as one folder at a time. When using the MS data (advanced) dialog, inexperienced users should deactivate the direct mass detection steps, since they alter the raw data on the import. Mass detection is then performend, when the scans are loaded and only peaks above the noise level are imported. Alternatively, you can simply drag & drop the raw data into the raw data list of the main window. LC-IMS-MS data \u00b6 As any other data format, ion mobility data can be imported via the main menu Raw data methods \u2192 Raw data import . Note that multiple .tdf data folders can be dropped into the MS data (advanced) dialog. The Bruker TDF import can only select a single folder. When using the MS data (advanced) dialog, inexperienced users should deactivate the direct mass detection steps, since they alter the raw data on the import. Mass detection is then performend, when the scans are loaded and only peaks above the noise level are imported. Alternatively, you can simply drag & drop the raw data into the raw data list of the main window.","title":"Data import"},{"location":"wf_featuredetection/data-import/#data-import","text":"","title":"Data import"},{"location":"wf_featuredetection/data-import/#lc-ms-data","text":"Raw data can be imported via the main menu Raw data methods \u2192 Raw data import . Note that multiple data files/folders can be dropped into the MS data (advanced) dialog. If individual modules are used, folder based formats can only imported as one folder at a time. When using the MS data (advanced) dialog, inexperienced users should deactivate the direct mass detection steps, since they alter the raw data on the import. Mass detection is then performend, when the scans are loaded and only peaks above the noise level are imported. Alternatively, you can simply drag & drop the raw data into the raw data list of the main window.","title":"LC-MS data"},{"location":"wf_featuredetection/data-import/#lc-ims-ms-data","text":"As any other data format, ion mobility data can be imported via the main menu Raw data methods \u2192 Raw data import . Note that multiple .tdf data folders can be dropped into the MS data (advanced) dialog. The Bruker TDF import can only select a single folder. When using the MS data (advanced) dialog, inexperienced users should deactivate the direct mass detection steps, since they alter the raw data on the import. Mass detection is then performend, when the scans are loaded and only peaks above the noise level are imported. Alternatively, you can simply drag & drop the raw data into the raw data list of the main window.","title":"LC-IMS-MS data"},{"location":"wf_featuredetection/ims-background-terminology/","text":"Ion mobility data \u00b6 Since ion mobility spectrometry (IMS) resolved data is more complex due to the additional dimension when compared to regular LC-MS data, some terms shall be clarified before going into details of the processing steps. Mobility separation and data format \u00b6 Ion mobility separation usually occurs on the millisecond timescale, fitting nicely in-between liquid chromatography (LC) (few seconds per chromatographic peak) and mass spectra acquisition of TOF instruments (several micro seconds). Therefore, the mobility dimension can be resolved by acquiring multiple spectra during a mobility separation (e.g. 1000 spectra per 100 ms). This leads to multiple mass spectra acquired at one IMS accumulation. Thus, at one retention time, multiple spectra are acquired. A detailed comparison of LC-MS and LC-IMS-MS raw data can be found here . Terminology \u00b6 Frames and Mobility Scans \u00b6 During one IMS accumulation and separation, multiple mass spectra are acquired to resolve the mobility dimension. All mass spectra acquired during one mobility separation are termed \" mobility scans \" in MZmine. The agglomerate of all mobility scans for one IMS accumulation are called \" frame \". All mobility scans of a single frame can be summed, to represent a single mass spectrum as in classic LC-MS. Mobilograms \u00b6 A \" mobilogram \" represents the intensity of an m/z or m/z range along the mobility axis. A mobilogram may be build from multiple frames and summed or built from a single frame. Ion mobility traces \u00b6 An \" ion mobility trace \" basically represents a mobility resolved extracted ion chromatogram (EIC).","title":"Ion mobility data"},{"location":"wf_featuredetection/ims-background-terminology/#ion-mobility-data","text":"Since ion mobility spectrometry (IMS) resolved data is more complex due to the additional dimension when compared to regular LC-MS data, some terms shall be clarified before going into details of the processing steps.","title":"Ion mobility data"},{"location":"wf_featuredetection/ims-background-terminology/#mobility-separation-and-data-format","text":"Ion mobility separation usually occurs on the millisecond timescale, fitting nicely in-between liquid chromatography (LC) (few seconds per chromatographic peak) and mass spectra acquisition of TOF instruments (several micro seconds). Therefore, the mobility dimension can be resolved by acquiring multiple spectra during a mobility separation (e.g. 1000 spectra per 100 ms). This leads to multiple mass spectra acquired at one IMS accumulation. Thus, at one retention time, multiple spectra are acquired. A detailed comparison of LC-MS and LC-IMS-MS raw data can be found here .","title":"Mobility separation and data format"},{"location":"wf_featuredetection/ims-background-terminology/#terminology","text":"","title":"Terminology"},{"location":"wf_featuredetection/ims-background-terminology/#frames-and-mobility-scans","text":"During one IMS accumulation and separation, multiple mass spectra are acquired to resolve the mobility dimension. All mass spectra acquired during one mobility separation are termed \" mobility scans \" in MZmine. The agglomerate of all mobility scans for one IMS accumulation are called \" frame \". All mobility scans of a single frame can be summed, to represent a single mass spectrum as in classic LC-MS.","title":"Frames and Mobility Scans"},{"location":"wf_featuredetection/ims-background-terminology/#mobilograms","text":"A \" mobilogram \" represents the intensity of an m/z or m/z range along the mobility axis. A mobilogram may be build from multiple frames and summed or built from a single frame.","title":"Mobilograms"},{"location":"wf_featuredetection/ims-background-terminology/#ion-mobility-traces","text":"An \" ion mobility trace \" basically represents a mobility resolved extracted ion chromatogram (EIC).","title":"Ion mobility traces"},{"location":"wf_featuredetection/ims-expander/","text":"Ion mobility spectrometry expander \u00b6 TODO","title":"Ion mobility expander"},{"location":"wf_featuredetection/ims-expander/#ion-mobility-spectrometry-expander","text":"TODO","title":"Ion mobility spectrometry expander"},{"location":"wf_featuredetection/ion-mobility-trace-builder/","text":"Ion mobility trace builder \u00b6 The Ion mobility trace builder will build ion mobility traces from the raw data. Alternatively, the Recursive IMS builder can be used, which requires less ram but takes longer. The Ion mobility trace builder is found under Feature detection \u2192 LC-IMS-MS \u2192 Ion mobility trace builder . Scan selection \u00b6 The scan selection parameter specifies the scans that shall be processed for feature detection. Usually, setting the ms level to 1 is sufficient. If a calibration segment is present, it can be cut out via the retention time filter in the scan selection. m/z tolerance \u00b6 The m/z tolerance specifies the scan-to-scan tolerance for ion mobility traces. This tolerance window may need to be set higher that for classic LC-MS feature detection (e.g. to 0.005 m/z and 15-20 ppm instead of 10 ppm) due to lower intensities therefore less accuracy in individual mobility scans compared to LC-MS scans. Note that the overall accuracy is achieved via LC-IMS-MS is the same due to the higher number of scans. Minimum consecutive retention time data points \u00b6 This parameter specifies the number of consecutive detections of the same m/z value in a chromatographic peak (rt dimension only). This means that a single m/z has to be detected in, e.g, 5 frames with an intensity higher than zero. This parameter helps to filter noise. Consecutive detections in the mobility dimension do not affect this parameter. Usually no less than 5 should be set here if the MS1 acquisition rate is sufficient. Minimum total signals \u00b6 Specifies the total number of peaks in the mobility dimension in all mobility scans. Every \"dot\" in an ion mobility trace represents a single datapoint. ( see ion mobility traces ) Advanced parameters \u00b6 For most applications, these parameters do not need to set/altered. For high mobility resolved data the mobilograms might become noisy due to less ions reaching the detector at the same time. By default, the number of binned scans is set to cover about 0.0008 Vs/cm^2 per bin. The effect of binning can be seen here . If you are unsure about the nature of your data, you can perform trace building with the standard parameters and apply/preview the binning afterwards via the Feature detection \u2192 Mobilogram binning module. Processing result \u00b6 After performing ion mobiltiy trace detection, a feature list is created in the feature list tab (see feature lists tab ). In the feature table, multiple columns are created. The displayed columns can be set via the button on the right of the feature table ([1]). The shapes displays an EIC of the ion mobility trace (intensities summed in rt dimension). The mobilograms column shows a mobilogram for the ion mobility trace (intensities summed in mobility dimension). The shapes and projections can be smoothed and resolved. However, the ion mobility trace is always represented by the raw data and remains unaltered. After resolving, the shapes and mobilograms have to be recalculated from the raw data, which is why the smoothing is lost after resolving.","title":"Ion mobility trace builder"},{"location":"wf_featuredetection/ion-mobility-trace-builder/#ion-mobility-trace-builder","text":"The Ion mobility trace builder will build ion mobility traces from the raw data. Alternatively, the Recursive IMS builder can be used, which requires less ram but takes longer. The Ion mobility trace builder is found under Feature detection \u2192 LC-IMS-MS \u2192 Ion mobility trace builder .","title":"Ion mobility trace builder"},{"location":"wf_featuredetection/ion-mobility-trace-builder/#scan-selection","text":"The scan selection parameter specifies the scans that shall be processed for feature detection. Usually, setting the ms level to 1 is sufficient. If a calibration segment is present, it can be cut out via the retention time filter in the scan selection.","title":"Scan selection"},{"location":"wf_featuredetection/ion-mobility-trace-builder/#mz-tolerance","text":"The m/z tolerance specifies the scan-to-scan tolerance for ion mobility traces. This tolerance window may need to be set higher that for classic LC-MS feature detection (e.g. to 0.005 m/z and 15-20 ppm instead of 10 ppm) due to lower intensities therefore less accuracy in individual mobility scans compared to LC-MS scans. Note that the overall accuracy is achieved via LC-IMS-MS is the same due to the higher number of scans.","title":"m/z tolerance"},{"location":"wf_featuredetection/ion-mobility-trace-builder/#minimum-consecutive-retention-time-data-points","text":"This parameter specifies the number of consecutive detections of the same m/z value in a chromatographic peak (rt dimension only). This means that a single m/z has to be detected in, e.g, 5 frames with an intensity higher than zero. This parameter helps to filter noise. Consecutive detections in the mobility dimension do not affect this parameter. Usually no less than 5 should be set here if the MS1 acquisition rate is sufficient.","title":"Minimum consecutive retention time data points"},{"location":"wf_featuredetection/ion-mobility-trace-builder/#minimum-total-signals","text":"Specifies the total number of peaks in the mobility dimension in all mobility scans. Every \"dot\" in an ion mobility trace represents a single datapoint. ( see ion mobility traces )","title":"Minimum total signals"},{"location":"wf_featuredetection/ion-mobility-trace-builder/#advanced-parameters","text":"For most applications, these parameters do not need to set/altered. For high mobility resolved data the mobilograms might become noisy due to less ions reaching the detector at the same time. By default, the number of binned scans is set to cover about 0.0008 Vs/cm^2 per bin. The effect of binning can be seen here . If you are unsure about the nature of your data, you can perform trace building with the standard parameters and apply/preview the binning afterwards via the Feature detection \u2192 Mobilogram binning module.","title":"Advanced parameters"},{"location":"wf_featuredetection/ion-mobility-trace-builder/#processing-result","text":"After performing ion mobiltiy trace detection, a feature list is created in the feature list tab (see feature lists tab ). In the feature table, multiple columns are created. The displayed columns can be set via the button on the right of the feature table ([1]). The shapes displays an EIC of the ion mobility trace (intensities summed in rt dimension). The mobilograms column shows a mobilogram for the ion mobility trace (intensities summed in mobility dimension). The shapes and projections can be smoothed and resolved. However, the ion mobility trace is always represented by the raw data and remains unaltered. After resolving, the shapes and mobilograms have to be recalculated from the raw data, which is why the smoothing is lost after resolving.","title":"Processing result"},{"location":"wf_featuredetection/lc-ms-and-lc-ims-ms-data-comparison/","text":"Graphical comparison of LC-MS and LC-IMS-MS data \u00b6 Classic LC-MS data consists of three dimensions: m/z, intensity, and retention time. At every retention time, a whole mass spectrum is acquired (yellow). Putting all scans together creates a three-dimensional plane. By slicing the three-dimensional data at a single m/z (+- a tolerance), EICs can be created (green). On the other hand, ion mobility resolved data consists of a three-dimensional data plane at each retention time. The three dimensions being m/z, intentsity, and mobility (as drift time (ms) or inverse reduced mobility 1/k0 [Vs/(cm^2)]). The 3D projection of regular LC-MS data can be created by summing all mobility scans of a frame to create a frame spectrum. (see Mobility scan merging )","title":"Lc ms and lc ims ms data comparison"},{"location":"wf_featuredetection/lc-ms-and-lc-ims-ms-data-comparison/#graphical-comparison-of-lc-ms-and-lc-ims-ms-data","text":"Classic LC-MS data consists of three dimensions: m/z, intensity, and retention time. At every retention time, a whole mass spectrum is acquired (yellow). Putting all scans together creates a three-dimensional plane. By slicing the three-dimensional data at a single m/z (+- a tolerance), EICs can be created (green). On the other hand, ion mobility resolved data consists of a three-dimensional data plane at each retention time. The three dimensions being m/z, intentsity, and mobility (as drift time (ms) or inverse reduced mobility 1/k0 [Vs/(cm^2)]). The 3D projection of regular LC-MS data can be created by summing all mobility scans of a frame to create a frame spectrum. (see Mobility scan merging )","title":"Graphical comparison of LC-MS and LC-IMS-MS data"},{"location":"wf_featuredetection/lcms-workflow/","text":"LC-MS Workflow \u00b6 Raw data processing \u00b6 Raw data import \u00b6 Data import Mass detection \u00b6 Mass detection Feature processing \u00b6 After raw data processing, the first step of feature detection is building extracted ion chromatograms (EICs). This step can be executed by the ADAP chromatogram builder or Grid mass . ADAP chromatogram builder \u00b6 ADAP Documentation Smoothing in retention time dimension (optional) \u00b6 Smoothing Feature resolving \u00b6 Local minimum resolver Page Contributors \u00b6 SteffenHeu","title":"LC-MS workflow"},{"location":"wf_featuredetection/lcms-workflow/#lc-ms-workflow","text":"","title":"LC-MS Workflow"},{"location":"wf_featuredetection/lcms-workflow/#raw-data-processing","text":"","title":"Raw data processing"},{"location":"wf_featuredetection/lcms-workflow/#raw-data-import","text":"Data import","title":"Raw data import"},{"location":"wf_featuredetection/lcms-workflow/#mass-detection","text":"Mass detection","title":"Mass detection"},{"location":"wf_featuredetection/lcms-workflow/#feature-processing","text":"After raw data processing, the first step of feature detection is building extracted ion chromatograms (EICs). This step can be executed by the ADAP chromatogram builder or Grid mass .","title":"Feature processing"},{"location":"wf_featuredetection/lcms-workflow/#adap-chromatogram-builder","text":"ADAP Documentation","title":"ADAP chromatogram builder"},{"location":"wf_featuredetection/lcms-workflow/#smoothing-in-retention-time-dimension-optional","text":"Smoothing","title":"Smoothing in retention time dimension (optional)"},{"location":"wf_featuredetection/lcms-workflow/#feature-resolving","text":"Local minimum resolver","title":"Feature resolving"},{"location":"wf_featuredetection/lcms-workflow/#page-contributors","text":"SteffenHeu","title":"Page Contributors"},{"location":"wf_featuredetection/local-minimum-resolver/","text":"Local Minimum Resolver \u00b6 Resolving traces/chromatograms into individual features, is one of the most crucial steps of data processing. Well optimised parameters [1] can lead to recognition of all good features in a \"good\" EICs [2] and to few noise recognised as feature in EIC that also contains chromatographic noise [3]. On the other hand, poorly optimised parameters [4] can still lead to recognition of all features in a good EIC [5], but recognise a lot of noise as feature in a noisy EIC [6]. Therefore, we recommend optimising the parameters on good EICs and checking the results of these parameters with a noisy EIC. Most of the time, a noisy EIC can be found by sorting the feature table by decreasing area. Parameter settings \u00b6 MS/MS scan paring \u00b6 Selecting this parameter will pair DDA MS/MS spectra to the resolved features. This is optional at this stage, because it will be executed again during resolving in the mobility dimension. Dimension \u00b6 The dimension to be resolved can be selected here. Select Retention time . Chromatographic threshold \u00b6 This parameter is crucial for removing noise from chromatograms. If this parameter is set to, e.g., 50, the lowest 50 % of intensities will be removed. Since the all retention time in the data file are used for this determination, this value should be rather high (e.g., 95 %) to begin with and only lowered if necessary. Search minimum rt range (min) \u00b6 Determines the step size that will be scanned for individual peaks. Setting this value too low, can cause peak edges to be cut off, setting it too high might lead to incomplete separation of narrowly eluting compounds. Minimum relative height \u00b6 Determines the minimum relative intensity of a individual feature in relation to the highest intensity in the chromatogram. May lead to discrimination of low intensity features. Minimum absolute height \u00b6 Determines the minimum absolute intensity of a feature to be recognised by the algorithm. This parameter depends on what you want to detect, the instrument and detector type. Usually, Orbitrap instruments report higher intensities that TOF instruments. However, the noise level is also higher for Orbitrap than for TOF instruments. For TOF instruments 1E3 or even 5E2 can be appropriate, whilst Orbitraps can require 1E5 or 5E4. Min ration of peak top/edge \u00b6 Describes the minimum ratio of the highest point of a peak to the lowest point of a peak. This mostly affects detection of low intensity and not-baseline-resolved signals and should be optimised using such a signal as an example. Peak duration range \u00b6 Describes valid peak lengths. Can be used to filter out very short or long noise signals. Minimum number of data points \u00b6 Can be used in addition to Peak duration range to filter out noise. Should be set no lower than 5 in most cases. Ion mobility data \u00b6 In general, the same principles apply as in the retention time resolving step. However, a few differences shall be noted. In the screenshot you can also see, that the resolved mobilograms are recalculated from the raw data and previously apply smoothing steps are therefore lost and must be reapplied if necessary. Dimension \u00b6 Mobility has to be selected as a dimension to resolve mobilograms [1]. Chromatographic threshold \u00b6 Since there are less scans in mobility dimension (e.g., 400 - >1000 per frame, depending on the instrument type and setting) than in rt dimension (e.g. 5000 for LC-MS depending on acquisition rate), the threshold should be lowered to 80 or less. Search minimum range \u00b6 This value determines the search range in mobility dimension. Therefore, this value has to be set lower when resolving a TIMS (Bruker data) mobilogram, because the absolute numerical values are smaller (e.g., 0.01). When resolving mobilograms from Waters or Agilent data (mobility as drift time in ms), the values are higher and must therefore be increased. Other parameters such as minimum intensities or minimum number of data points should be adjusted depending on what you want to detect.","title":"Resolving"},{"location":"wf_featuredetection/local-minimum-resolver/#local-minimum-resolver","text":"Resolving traces/chromatograms into individual features, is one of the most crucial steps of data processing. Well optimised parameters [1] can lead to recognition of all good features in a \"good\" EICs [2] and to few noise recognised as feature in EIC that also contains chromatographic noise [3]. On the other hand, poorly optimised parameters [4] can still lead to recognition of all features in a good EIC [5], but recognise a lot of noise as feature in a noisy EIC [6]. Therefore, we recommend optimising the parameters on good EICs and checking the results of these parameters with a noisy EIC. Most of the time, a noisy EIC can be found by sorting the feature table by decreasing area.","title":"Local Minimum Resolver"},{"location":"wf_featuredetection/local-minimum-resolver/#parameter-settings","text":"","title":"Parameter settings"},{"location":"wf_featuredetection/local-minimum-resolver/#msms-scan-paring","text":"Selecting this parameter will pair DDA MS/MS spectra to the resolved features. This is optional at this stage, because it will be executed again during resolving in the mobility dimension.","title":"MS/MS scan paring"},{"location":"wf_featuredetection/local-minimum-resolver/#dimension","text":"The dimension to be resolved can be selected here. Select Retention time .","title":"Dimension"},{"location":"wf_featuredetection/local-minimum-resolver/#chromatographic-threshold","text":"This parameter is crucial for removing noise from chromatograms. If this parameter is set to, e.g., 50, the lowest 50 % of intensities will be removed. Since the all retention time in the data file are used for this determination, this value should be rather high (e.g., 95 %) to begin with and only lowered if necessary.","title":"Chromatographic threshold"},{"location":"wf_featuredetection/local-minimum-resolver/#search-minimum-rt-range-min","text":"Determines the step size that will be scanned for individual peaks. Setting this value too low, can cause peak edges to be cut off, setting it too high might lead to incomplete separation of narrowly eluting compounds.","title":"Search minimum rt range (min)"},{"location":"wf_featuredetection/local-minimum-resolver/#minimum-relative-height","text":"Determines the minimum relative intensity of a individual feature in relation to the highest intensity in the chromatogram. May lead to discrimination of low intensity features.","title":"Minimum relative height"},{"location":"wf_featuredetection/local-minimum-resolver/#minimum-absolute-height","text":"Determines the minimum absolute intensity of a feature to be recognised by the algorithm. This parameter depends on what you want to detect, the instrument and detector type. Usually, Orbitrap instruments report higher intensities that TOF instruments. However, the noise level is also higher for Orbitrap than for TOF instruments. For TOF instruments 1E3 or even 5E2 can be appropriate, whilst Orbitraps can require 1E5 or 5E4.","title":"Minimum absolute height"},{"location":"wf_featuredetection/local-minimum-resolver/#min-ration-of-peak-topedge","text":"Describes the minimum ratio of the highest point of a peak to the lowest point of a peak. This mostly affects detection of low intensity and not-baseline-resolved signals and should be optimised using such a signal as an example.","title":"Min ration of peak top/edge"},{"location":"wf_featuredetection/local-minimum-resolver/#peak-duration-range","text":"Describes valid peak lengths. Can be used to filter out very short or long noise signals.","title":"Peak duration range"},{"location":"wf_featuredetection/local-minimum-resolver/#minimum-number-of-data-points","text":"Can be used in addition to Peak duration range to filter out noise. Should be set no lower than 5 in most cases.","title":"Minimum number of data points"},{"location":"wf_featuredetection/local-minimum-resolver/#ion-mobility-data","text":"In general, the same principles apply as in the retention time resolving step. However, a few differences shall be noted. In the screenshot you can also see, that the resolved mobilograms are recalculated from the raw data and previously apply smoothing steps are therefore lost and must be reapplied if necessary.","title":"Ion mobility data"},{"location":"wf_featuredetection/local-minimum-resolver/#dimension_1","text":"Mobility has to be selected as a dimension to resolve mobilograms [1].","title":"Dimension"},{"location":"wf_featuredetection/local-minimum-resolver/#chromatographic-threshold_1","text":"Since there are less scans in mobility dimension (e.g., 400 - >1000 per frame, depending on the instrument type and setting) than in rt dimension (e.g. 5000 for LC-MS depending on acquisition rate), the threshold should be lowered to 80 or less.","title":"Chromatographic threshold"},{"location":"wf_featuredetection/local-minimum-resolver/#search-minimum-range","text":"This value determines the search range in mobility dimension. Therefore, this value has to be set lower when resolving a TIMS (Bruker data) mobilogram, because the absolute numerical values are smaller (e.g., 0.01). When resolving mobilograms from Waters or Agilent data (mobility as drift time in ms), the values are higher and must therefore be increased. Other parameters such as minimum intensities or minimum number of data points should be adjusted depending on what you want to detect.","title":"Search minimum range"},{"location":"wf_featuredetection/mass-detection/","text":"Mass detection \u00b6 LC-MS data \u00b6 The mass detection steps perform noise filtering (by a threshold) and centroiding of profile raw data. The raw data format can either be centroided or in profile mode. If the data is centroided, the centroid mass detector can be used. Profile data requires a different mass detector such as exact mass . The mass detection is launched via Raw data methods \u2192 Mass detection \u2192 Mass detection ([1] in the figure). In the dropdown menu [2], an applicable mass detector should be chosen and configured via the Setup button [2]. By selecting the Show preview checkbox, a scan can be selected to adjust the noise level. The output of the mass detection step, can be referred to as mass list , since it will only contain a list of selected m/z values. Setting the noise level \u00b6 Choose the noise level to detect (= red dot) actual peaks but filter out detector noise. The detector noise is usually determined by a lot of signals of the same intensity. LC-IMS-MS data \u00b6 The mass detection steps perform noise filtering (by a threshold) and centroiding of profile raw data. Native Bruker raw data is already centroided, therefore the centroid mass detector should be used. Waters .mzML raw data might come as profile data, which requires a different mass detector such as exact mass . The mass detection is launched via Raw data methods \u2192 Mass detection \u2192 Mass detection ([1] in the figure). In the dropdown menu [2], an applicable mass detector should be chosen and configured via the Setup button [2]. By selecting the Show preview checkbox, a scan can be selected to adjust the noise level. Note that a mobility scan should be selected to determine the noise level. However, the same noise level will be applied to frames, too. The output of the mass detection step, can be referred to as mass list , since it will only contain a list of selected m/z values. Setting the noise level \u00b6 Choose the noise level to detect (= red dot) actual peaks but filter out detector noise. The detector noise is usually determined by a lot of signals of the same intensity.","title":"Mass detection"},{"location":"wf_featuredetection/mass-detection/#mass-detection","text":"","title":"Mass detection"},{"location":"wf_featuredetection/mass-detection/#lc-ms-data","text":"The mass detection steps perform noise filtering (by a threshold) and centroiding of profile raw data. The raw data format can either be centroided or in profile mode. If the data is centroided, the centroid mass detector can be used. Profile data requires a different mass detector such as exact mass . The mass detection is launched via Raw data methods \u2192 Mass detection \u2192 Mass detection ([1] in the figure). In the dropdown menu [2], an applicable mass detector should be chosen and configured via the Setup button [2]. By selecting the Show preview checkbox, a scan can be selected to adjust the noise level. The output of the mass detection step, can be referred to as mass list , since it will only contain a list of selected m/z values.","title":"LC-MS data"},{"location":"wf_featuredetection/mass-detection/#setting-the-noise-level","text":"Choose the noise level to detect (= red dot) actual peaks but filter out detector noise. The detector noise is usually determined by a lot of signals of the same intensity.","title":"Setting the noise level"},{"location":"wf_featuredetection/mass-detection/#lc-ims-ms-data","text":"The mass detection steps perform noise filtering (by a threshold) and centroiding of profile raw data. Native Bruker raw data is already centroided, therefore the centroid mass detector should be used. Waters .mzML raw data might come as profile data, which requires a different mass detector such as exact mass . The mass detection is launched via Raw data methods \u2192 Mass detection \u2192 Mass detection ([1] in the figure). In the dropdown menu [2], an applicable mass detector should be chosen and configured via the Setup button [2]. By selecting the Show preview checkbox, a scan can be selected to adjust the noise level. Note that a mobility scan should be selected to determine the noise level. However, the same noise level will be applied to frames, too. The output of the mass detection step, can be referred to as mass list , since it will only contain a list of selected m/z values.","title":"LC-IMS-MS data"},{"location":"wf_featuredetection/mass-detection/#setting-the-noise-level_1","text":"Choose the noise level to detect (= red dot) actual peaks but filter out detector noise. The detector noise is usually determined by a lot of signals of the same intensity.","title":"Setting the noise level"},{"location":"wf_featuredetection/mobility-scan-merging/","text":"Mobility scan merging \u00b6 If a .mzML file is imported, the merged frame spectrum must be created via the File merging \u2192 Mobility scan merging module. This is required to gain access to MZmine's regular LC-MS functionality. This step uses the centroided and thresholded data produced by the mass detection step. This step is not required when importing native Bruker .tdf or .tsf data from .d folders. When importing native Bruker data, a merged spectrum for the frame is created automatically by the vendor library.","title":"Mobility scan merging"},{"location":"wf_featuredetection/mobility-scan-merging/#mobility-scan-merging","text":"If a .mzML file is imported, the merged frame spectrum must be created via the File merging \u2192 Mobility scan merging module. This is required to gain access to MZmine's regular LC-MS functionality. This step uses the centroided and thresholded data produced by the mass detection step. This step is not required when importing native Bruker .tdf or .tsf data from .d folders. When importing native Bruker data, a merged spectrum for the frame is created automatically by the vendor library.","title":"Mobility scan merging"},{"location":"wf_featuredetection/smoothing/","text":"Smoothing \u00b6 Retention time dimension \u00b6 Smoothing chromatograms is optional. The necessity of smoothing in RT dimension is determined by the noisiness of chromatographic peaks. These can be influenced by the overall spray stability, instrument accumulation times, transfer efficiency and many more. The number of data points to be smoothed in rt dimension can be set at [1]. Note that the correct preview dimension is selected at [2]. For large batch modes, the Remove original feature list parameter should be selected. While parameters are being optimised, this is not recommended, because removing a feature list cannot be undone. Mobility dimension \u00b6 After resolving a feature in RT dimension, the mobilograms will be recalculated from the from the raw data (the resolved ion mobility trace). Therefore, a smoothing step is necessary if the data requires it. The smoothing dialog is opened via Feature detection \u2192 Smoothing Select to smooth the mobility dimension [1] and select it as preview dimension [2]. The filter with depends on the number of spectra acquired in the observed mobility range. Usually, a value between 5 and 15 should be appropriate.","title":"Smoothing"},{"location":"wf_featuredetection/smoothing/#smoothing","text":"","title":"Smoothing"},{"location":"wf_featuredetection/smoothing/#retention-time-dimension","text":"Smoothing chromatograms is optional. The necessity of smoothing in RT dimension is determined by the noisiness of chromatographic peaks. These can be influenced by the overall spray stability, instrument accumulation times, transfer efficiency and many more. The number of data points to be smoothed in rt dimension can be set at [1]. Note that the correct preview dimension is selected at [2]. For large batch modes, the Remove original feature list parameter should be selected. While parameters are being optimised, this is not recommended, because removing a feature list cannot be undone.","title":"Retention time dimension"},{"location":"wf_featuredetection/smoothing/#mobility-dimension","text":"After resolving a feature in RT dimension, the mobilograms will be recalculated from the from the raw data (the resolved ion mobility trace). Therefore, a smoothing step is necessary if the data requires it. The smoothing dialog is opened via Feature detection \u2192 Smoothing Select to smooth the mobility dimension [1] and select it as preview dimension [2]. The filter with depends on the number of spectra acquired in the observed mobility range. Usually, a value between 5 and 15 should be appropriate.","title":"Mobility dimension"}]}