{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"index.html","text":"Welcome to the MZmine 3 wiki! \u00b6 MZmine 3 is an open-source and platform-independent software for mass spectrometry (MS) data processing and visualization. It enables large-scale metabolomics and lipidomics research by spectral preprocessing, feature detection, and various options for compound identification, including spectral library querying and creation. Since the introduction of MZmine 2 in 2010, the project has matured into a community-driven, highly collaborative platform and its functions continue to expand based on the users' needs and feedbacks. This has also enabled the tight integration of the MZmine ecosystem with popular third-party software for MS data analysis, such as the SIRIUS suite for in silico metabolite annotation, the GNPS platform with Ion Identity Molecular Networking, the MetaboAnalyst web app for univariate and multivariate statistical anlysis, etc. Such a great progress was made possible by the invaluable contribution of many developers from research labs distributed all over the world! Want to get started with MZmine 3? Check out our getting started page! What's new compared to MZmine 2? \u00b6 MZmine 3 comes with a redesigned and fully customizable GUI based on the JavaFX technology that allow an interactive visualization and validation of results from every processing step. A completely new data structure provides the flexibility to process any type of mass spectrometry, including LC-MS, GC-MS and MS-imaging. Moreover, MZmine 3 now supports ion mobility, with a dedicated LC-IM-MS data visualization module and feature detection algorithms. Finally, significant effort was devoted to trace memory issues and bottlenecks, resulting in an unprecendent processing performance and scalability. COMING SOON! We are implementing the Mass Spec Query Langauge (MassQL) to explore your MS data with human-readable, succinct queries! The project is suppported by the Google Summer of Code program. About this documentation \u00b6 Here you can find documentation for both processing and visualization modules in MZmine 3. Moreover, data processing pipelines for untargeted LC-MS and LC-IMS-MS feature detection are described and general recommendations are given. COMING SOON! We are currently working on a series of short videotutorials to help get you started with the main features of MZmine 3! How to contribute \u00b6 The MZmine community is always welcoming new developers and contributions! You can contribute by improving existing modules or even adding new featurs in MZmine 3! Please, check out our brief tutorial . You can also contribute to this wiki and help new users to get started with MZmine 3! See here how to contribute to the documentation.","title":"Home page"},{"location":"index.html#welcome-to-the-mzmine-3-wiki","text":"MZmine 3 is an open-source and platform-independent software for mass spectrometry (MS) data processing and visualization. It enables large-scale metabolomics and lipidomics research by spectral preprocessing, feature detection, and various options for compound identification, including spectral library querying and creation. Since the introduction of MZmine 2 in 2010, the project has matured into a community-driven, highly collaborative platform and its functions continue to expand based on the users' needs and feedbacks. This has also enabled the tight integration of the MZmine ecosystem with popular third-party software for MS data analysis, such as the SIRIUS suite for in silico metabolite annotation, the GNPS platform with Ion Identity Molecular Networking, the MetaboAnalyst web app for univariate and multivariate statistical anlysis, etc. Such a great progress was made possible by the invaluable contribution of many developers from research labs distributed all over the world! Want to get started with MZmine 3? Check out our getting started page!","title":"Welcome to the MZmine 3 wiki!"},{"location":"index.html#whats-new-compared-to-mzmine-2","text":"MZmine 3 comes with a redesigned and fully customizable GUI based on the JavaFX technology that allow an interactive visualization and validation of results from every processing step. A completely new data structure provides the flexibility to process any type of mass spectrometry, including LC-MS, GC-MS and MS-imaging. Moreover, MZmine 3 now supports ion mobility, with a dedicated LC-IM-MS data visualization module and feature detection algorithms. Finally, significant effort was devoted to trace memory issues and bottlenecks, resulting in an unprecendent processing performance and scalability. COMING SOON! We are implementing the Mass Spec Query Langauge (MassQL) to explore your MS data with human-readable, succinct queries! The project is suppported by the Google Summer of Code program.","title":"What's new compared to MZmine 2?"},{"location":"index.html#about-this-documentation","text":"Here you can find documentation for both processing and visualization modules in MZmine 3. Moreover, data processing pipelines for untargeted LC-MS and LC-IMS-MS feature detection are described and general recommendations are given. COMING SOON! We are currently working on a series of short videotutorials to help get you started with the main features of MZmine 3!","title":"About this documentation"},{"location":"index.html#how-to-contribute","text":"The MZmine community is always welcoming new developers and contributions! You can contribute by improving existing modules or even adding new featurs in MZmine 3! Please, check out our brief tutorial . You can also contribute to this wiki and help new users to get started with MZmine 3! See here how to contribute to the documentation.","title":"How to contribute"},{"location":"commandline_tool.html","text":"Command-line arguments \u00b6 Command-line arguments offer a variety of options that generally override the corresponding parameters in the preferences. Windows An easy way to start MZmine with arguments is to create a shortcut to the MZmine.exe, right-click, and define the target with additional arguments. This example runs MZMine in batch mode (headless), imports the specified batch file, overrides the memory management to none (which is the default), effectively using memory mapping to store and access spectral, centroid, and feature data from temporary files stored in the defined temp directory. By leaving out the memory or temp arguments, the values stored in the current preferences file will be used, or the default values if no preferences file was found. Start MZmine batch with memory mapping ( DEFAULT ) \"C:\\Program Files\\MZmine\\MZmine.exe\" -batch \"D:\\batch\\my_batch_file.xml\" -memory none -temp \"D:\\tmpmzmine\" Start MZmine batch on machines with enough memory (RAM) with -memory all \"C:\\Program Files\\MZmine\\MZmine.exe\" -batch \"D:\\batch\\my_batch_file.xml\" -memory all -temp \"D:\\tmpmzmine\" Argument table \u00b6 Argument Options ( default ) Description -batch a path, e.g. \"D:\\batch.xml\" Path to batch file -memory none , all, features, centroids, raw, masses_features Defines what data is kept in memory (RAM) or otherwise memory mapped to the temp directory. Generally this setting should be none . If memory is no issue this option might be set to all process all spectral and feature data in memory. The option masses_features keeps centroid mass lists and features in memory while memory mapping raw spectral data. -temp a path, e.g., \"-temp \"D:\\tmpmzmine\\\" The defined directory should be on a fast drive (usually SSD > HDD > network drive) with enough free space. Local drives are usually preferred. MZmine uses memory mapping to efficiently store and access spectral and feature data. This can lead to a considerable temporary consumption of disk space. Make sure that the selected drive has enough space (maybe 20 GB + 1 GB/10 files; generously over estimated).","title":"Command line tool (batch mode)"},{"location":"commandline_tool.html#command-line-arguments","text":"Command-line arguments offer a variety of options that generally override the corresponding parameters in the preferences. Windows An easy way to start MZmine with arguments is to create a shortcut to the MZmine.exe, right-click, and define the target with additional arguments. This example runs MZMine in batch mode (headless), imports the specified batch file, overrides the memory management to none (which is the default), effectively using memory mapping to store and access spectral, centroid, and feature data from temporary files stored in the defined temp directory. By leaving out the memory or temp arguments, the values stored in the current preferences file will be used, or the default values if no preferences file was found. Start MZmine batch with memory mapping ( DEFAULT ) \"C:\\Program Files\\MZmine\\MZmine.exe\" -batch \"D:\\batch\\my_batch_file.xml\" -memory none -temp \"D:\\tmpmzmine\" Start MZmine batch on machines with enough memory (RAM) with -memory all \"C:\\Program Files\\MZmine\\MZmine.exe\" -batch \"D:\\batch\\my_batch_file.xml\" -memory all -temp \"D:\\tmpmzmine\"","title":"Command-line arguments"},{"location":"commandline_tool.html#argument-table","text":"Argument Options ( default ) Description -batch a path, e.g. \"D:\\batch.xml\" Path to batch file -memory none , all, features, centroids, raw, masses_features Defines what data is kept in memory (RAM) or otherwise memory mapped to the temp directory. Generally this setting should be none . If memory is no issue this option might be set to all process all spectral and feature data in memory. The option masses_features keeps centroid mass lists and features in memory while memory mapping raw spectral data. -temp a path, e.g., \"-temp \"D:\\tmpmzmine\\\" The defined directory should be on a fast drive (usually SSD > HDD > network drive) with enough free space. Local drives are usually preferred. MZmine uses memory mapping to efficiently store and access spectral and feature data. This can lead to a considerable temporary consumption of disk space. Make sure that the selected drive has enough space (maybe 20 GB + 1 GB/10 files; generously over estimated).","title":"Argument table"},{"location":"contribute.html","text":"How to contribute \u00b6 Contribute to the MZmine documentation \u00b6 1. Make a GitHub Account You'll need to make a GitHub Account . 2. Click Edit Button on Page You Want to Edit 3. Fork the Repository When Prompted (only the first time) 4. Make the Edits in MarkDown 5. Propose Changes Please describe the change you are making. 6. Create Pull Request 7. Finalize Pull Request with Description Creating a new page \u00b6 Follow steps 1 - 3. Navigate to mzmine_documentation/docs in your fork and create a new file Follow steps 4 - 7. Page Contributors \u00b6 SteffenHeu This page was adapted from the GNPS documentation .","title":"Contribute"},{"location":"contribute.html#how-to-contribute","text":"","title":"How to contribute"},{"location":"contribute.html#contribute-to-the-mzmine-documentation","text":"1. Make a GitHub Account You'll need to make a GitHub Account . 2. Click Edit Button on Page You Want to Edit 3. Fork the Repository When Prompted (only the first time) 4. Make the Edits in MarkDown 5. Propose Changes Please describe the change you are making. 6. Create Pull Request 7. Finalize Pull Request with Description","title":"Contribute to the MZmine documentation"},{"location":"contribute.html#creating-a-new-page","text":"Follow steps 1 - 3. Navigate to mzmine_documentation/docs in your fork and create a new file Follow steps 4 - 7.","title":"Creating a new page"},{"location":"contribute.html#page-contributors","text":"SteffenHeu This page was adapted from the GNPS documentation .","title":"Page Contributors"},{"location":"contribute_intellij.html","text":"Development in IntelliJ \u00b6 Set up \u00b6 Fork the mzmine (https://github.com/mzmine/mzmine3) GitHub repository (needs free GitHub account) (See https://help.github.com/en/github/getting-started-with-github/fork-a-repo) Download & Install IntelliJ IDEA (there is a free educational license for students and teachers) from https://www.jetbrains.com/idea/download/ Download & Install the current JDK. We recommend the OpenJDK. However, you can also use any other distribution, e.g., the Oracle JDK. This can be done from within IntelliJ. Open File/Project Structure (CTRL+ALT+SHIFT+S) and select SDKs and add the latest JDK with the +button: 4. Add your GitHub account via Settings/Version Control/GitHub +button. Below exemplified with the Log in with Token... option: - Log in with Token\u2026 Generate - redirects to GitHub - Make sure to select the Workflow scope to avoid conflicts that arise from changing GitHub actions 5. Clone GitHub project via version control: File/New/Project from version control use your user name to get your fork: https://github.com/YOUR USERNAME/mzmine3.git Make sure that gradle runs and updates the project. Otherwise, click on Reload Gradle Project . Now the project structure (CTRL+SHIFT+ALT+S) should show the source, test, and resource folders which are described in the build.gradle. Click on Add a Configuration. Select \u201cApplication\u201d from the template list). via the + button (don\u2019t just edit the template): Main class: io.github.mzmine.main.MZmineCore Environment var: -Djava.util.logging.config.class=io.github.mzmine.main.MZmineLoggingConfiguration -Xmx12G Run or debug with this configuration Code formatter \u00b6 The code formatter is important for contributions to the main version of MZmine and each java file should contain the license header. 1. Import the style format from mzmine-intellij-code-formater.xml 2. Apply format to any file with CTRL+ALT+L 3. Can also be applied on each file saved or each commited change (see below) 4. Better exclude specific file formats from being formatted (see below screenshot 2) Copyright header \u00b6 Add the license header to each file - the easiest way is to add the copyright profile to intelliJ Import the copyright from mzmine_intellij_licence_header.xml or create a new one with the exact text specified in license_header.txt Add a new scope for all project files Apply after file save or commit operation or run the Update copyright... action Useful settings \u00b6 Faster building \u00b6 Activate auto building (consumes more resources) Set Settings/Gradle/build and run to IntelliJ Activate HotSwap to automatically load changed classes during debugging Save and commit actions: Apply copyright, format, etc \u00b6 Select any actions to perform when a file is saved or committed. Live templates \u00b6 Live templates are used to add custom entries to the code completion, e.g., to quickly create a class-specific logger. Access Settings/Editor/Live Templates (CTRL+ALT+S on Windows) and add a new template (+ button). Define the abbreviation to trigger autocompletion at this statement, define the template text, and change the target context (\u201c Java \u201d) at the bottom. The template below generates a logger after typing log and pressing CTRL+SPACE. The variable \\(CLASS_NAME\\) was set to represent the current className() under Edit variable . The template: private static final java . util . logging . Logger logger = java . util . logging . Logger . getLogger ( $CLASSNAME$ . class . getName ()); Generates the output in class Scan: private static final Logger logger = Logger . getLogger ( Scan . class . getName ()); Another example to create Javadoc links for @l . The variable (here \\(target\\) ) places the cursor. Troubleshooting \u00b6 Correct JDK selection \u00b6 Make sure the correct JDK is set in these places: 1. File/Project Structure/SDKs 2. File/Settings/Build, Execution, Deployment/Build Tools \u2192 Gradle \u2192 Gradle JVM \u2192 \u201cProject SDK\u201d this will update automatically if the project SDK changes. 3. File/Settings/Build, Execution, Deployment/Java Compiler \u2192 Project Bytecode version \u2192 17 (for JDK 17) Correct run configuration: Select Default JRE (this will update with the project sdk) or select the correct one manually. Could not target platform \u00b6 Error: When building via gradlew: \u201cCould not target platform: 'Java SE 17' using tool chain: 'JDK 13 (13)'\u201d Solution (Windows): Set the JAVA_HOME environment variable to the JDK 17 root directory. See https://docs.oracle.com/cd/E19182-01/821-0917/inst_jdk_javahome_t/index.html Gradle project not imported \u00b6 If gradle tool window is not shown: 1. To import the Gradle project navigate to the build.gradle in the project tool window right click \u2192 import gradle project. The gradle tool window should now be visible. 2. To update the imports click the update gradle project button in the gradle tool window","title":"MZmine development (in IntelliJ)"},{"location":"contribute_intellij.html#development-in-intellij","text":"","title":"Development in IntelliJ"},{"location":"contribute_intellij.html#set-up","text":"Fork the mzmine (https://github.com/mzmine/mzmine3) GitHub repository (needs free GitHub account) (See https://help.github.com/en/github/getting-started-with-github/fork-a-repo) Download & Install IntelliJ IDEA (there is a free educational license for students and teachers) from https://www.jetbrains.com/idea/download/ Download & Install the current JDK. We recommend the OpenJDK. However, you can also use any other distribution, e.g., the Oracle JDK. This can be done from within IntelliJ. Open File/Project Structure (CTRL+ALT+SHIFT+S) and select SDKs and add the latest JDK with the +button: 4. Add your GitHub account via Settings/Version Control/GitHub +button. Below exemplified with the Log in with Token... option: - Log in with Token\u2026 Generate - redirects to GitHub - Make sure to select the Workflow scope to avoid conflicts that arise from changing GitHub actions 5. Clone GitHub project via version control: File/New/Project from version control use your user name to get your fork: https://github.com/YOUR USERNAME/mzmine3.git Make sure that gradle runs and updates the project. Otherwise, click on Reload Gradle Project . Now the project structure (CTRL+SHIFT+ALT+S) should show the source, test, and resource folders which are described in the build.gradle. Click on Add a Configuration. Select \u201cApplication\u201d from the template list). via the + button (don\u2019t just edit the template): Main class: io.github.mzmine.main.MZmineCore Environment var: -Djava.util.logging.config.class=io.github.mzmine.main.MZmineLoggingConfiguration -Xmx12G Run or debug with this configuration","title":"Set up"},{"location":"contribute_intellij.html#code-formatter","text":"The code formatter is important for contributions to the main version of MZmine and each java file should contain the license header. 1. Import the style format from mzmine-intellij-code-formater.xml 2. Apply format to any file with CTRL+ALT+L 3. Can also be applied on each file saved or each commited change (see below) 4. Better exclude specific file formats from being formatted (see below screenshot 2)","title":"Code formatter"},{"location":"contribute_intellij.html#copyright-header","text":"Add the license header to each file - the easiest way is to add the copyright profile to intelliJ Import the copyright from mzmine_intellij_licence_header.xml or create a new one with the exact text specified in license_header.txt Add a new scope for all project files Apply after file save or commit operation or run the Update copyright... action","title":"Copyright header"},{"location":"contribute_intellij.html#useful-settings","text":"","title":"Useful settings"},{"location":"contribute_intellij.html#faster-building","text":"Activate auto building (consumes more resources) Set Settings/Gradle/build and run to IntelliJ Activate HotSwap to automatically load changed classes during debugging","title":"Faster building"},{"location":"contribute_intellij.html#save-and-commit-actions-apply-copyright-format-etc","text":"Select any actions to perform when a file is saved or committed.","title":"Save and commit actions: Apply copyright, format, etc"},{"location":"contribute_intellij.html#live-templates","text":"Live templates are used to add custom entries to the code completion, e.g., to quickly create a class-specific logger. Access Settings/Editor/Live Templates (CTRL+ALT+S on Windows) and add a new template (+ button). Define the abbreviation to trigger autocompletion at this statement, define the template text, and change the target context (\u201c Java \u201d) at the bottom. The template below generates a logger after typing log and pressing CTRL+SPACE. The variable \\(CLASS_NAME\\) was set to represent the current className() under Edit variable . The template: private static final java . util . logging . Logger logger = java . util . logging . Logger . getLogger ( $CLASSNAME$ . class . getName ()); Generates the output in class Scan: private static final Logger logger = Logger . getLogger ( Scan . class . getName ()); Another example to create Javadoc links for @l . The variable (here \\(target\\) ) places the cursor.","title":"Live templates"},{"location":"contribute_intellij.html#troubleshooting","text":"","title":"Troubleshooting"},{"location":"contribute_intellij.html#correct-jdk-selection","text":"Make sure the correct JDK is set in these places: 1. File/Project Structure/SDKs 2. File/Settings/Build, Execution, Deployment/Build Tools \u2192 Gradle \u2192 Gradle JVM \u2192 \u201cProject SDK\u201d this will update automatically if the project SDK changes. 3. File/Settings/Build, Execution, Deployment/Java Compiler \u2192 Project Bytecode version \u2192 17 (for JDK 17) Correct run configuration: Select Default JRE (this will update with the project sdk) or select the correct one manually.","title":"Correct JDK selection"},{"location":"contribute_intellij.html#could-not-target-platform","text":"Error: When building via gradlew: \u201cCould not target platform: 'Java SE 17' using tool chain: 'JDK 13 (13)'\u201d Solution (Windows): Set the JAVA_HOME environment variable to the JDK 17 root directory. See https://docs.oracle.com/cd/E19182-01/821-0917/inst_jdk_javahome_t/index.html","title":"Could not target platform"},{"location":"contribute_intellij.html#gradle-project-not-imported","text":"If gradle tool window is not shown: 1. To import the Gradle project navigate to the build.gradle in the project tool window right click \u2192 import gradle project. The gradle tool window should now be visible. 2. To update the imports click the update gradle project button in the gradle tool window","title":"Gradle project not imported"},{"location":"getting_started.html","text":"Getting Started \u00b6 Download \u00b6 Download MZmine 3 portable versions or installers from GitHub: https://github.com/mzmine/mzmine3/releases/latest Installation \u00b6 On Windows and Linux the installers and portable versions should function directly. Windows users might be warned that MZmine is not signed or from a trusted source and have to click run anyways. Before creating your first project, we recommend to set the preferences . On macOS \u00b6 Currently, MZmine 3 lacks a signature for macOS. While we are working on this, user can allow MZmine in the macOS Gatekeeper protection by running the following command in the terminal from the Applications folder. Download MZmine and click the MZmine.dmg installer - Drag and drop MZmine into the Applications folder Open the Applciations folder, right click (CTRL click) anywhere, e.g., on the MZmine icon, and choose \"New Terminal at folder\" from the context menu Run the provided command to tell macOS to trust the installed version of MZmine. The terminal directory has to be the Applications folder. (Depending on the actual folder use or omit the ../ to jump to the parent directory). Approve command with user password Start MZmine sudo xattr -cr ../MZmine.app # if this fails try sudo xattr -cr MZmine.app The Terminal does not output any log or message. Before creating your first project, we recommend to set the preferences . Set User Preferences \u00b6 Before creating your first project, we recommend setting up some things. Set a temporary file directory. Go to Project \u2192 Set preferences \u2192 Temporary file directory . This requires a restart to take effect. We recommend setting the directory to an SSD with enough space for fast processing and visualizations. On Windows, old temporary files are deleted when a new session is started. MZmine 2 projects cannot be imported due to changes in the data structure. MZmine 2 batch files cannot be imported due to parameter optimizations. You can get familiar with the new GUI here: Main window overview A quick insight to data processing workflows can be found here: LC-MS workflow or LC-IMS-IMS workflow You can also check out the new processing wizard under Processing wizard in the main menu.","title":"Getting started"},{"location":"getting_started.html#getting-started","text":"","title":"Getting Started"},{"location":"getting_started.html#download","text":"Download MZmine 3 portable versions or installers from GitHub: https://github.com/mzmine/mzmine3/releases/latest","title":"Download"},{"location":"getting_started.html#installation","text":"On Windows and Linux the installers and portable versions should function directly. Windows users might be warned that MZmine is not signed or from a trusted source and have to click run anyways. Before creating your first project, we recommend to set the preferences .","title":"Installation"},{"location":"getting_started.html#on-macos","text":"Currently, MZmine 3 lacks a signature for macOS. While we are working on this, user can allow MZmine in the macOS Gatekeeper protection by running the following command in the terminal from the Applications folder. Download MZmine and click the MZmine.dmg installer - Drag and drop MZmine into the Applications folder Open the Applciations folder, right click (CTRL click) anywhere, e.g., on the MZmine icon, and choose \"New Terminal at folder\" from the context menu Run the provided command to tell macOS to trust the installed version of MZmine. The terminal directory has to be the Applications folder. (Depending on the actual folder use or omit the ../ to jump to the parent directory). Approve command with user password Start MZmine sudo xattr -cr ../MZmine.app # if this fails try sudo xattr -cr MZmine.app The Terminal does not output any log or message. Before creating your first project, we recommend to set the preferences .","title":"On macOS"},{"location":"getting_started.html#set-user-preferences","text":"Before creating your first project, we recommend setting up some things. Set a temporary file directory. Go to Project \u2192 Set preferences \u2192 Temporary file directory . This requires a restart to take effect. We recommend setting the directory to an SSD with enough space for fast processing and visualizations. On Windows, old temporary files are deleted when a new session is started. MZmine 2 projects cannot be imported due to changes in the data structure. MZmine 2 batch files cannot be imported due to parameter optimizations. You can get familiar with the new GUI here: Main window overview A quick insight to data processing workflows can be found here: LC-MS workflow or LC-IMS-IMS workflow You can also check out the new processing wizard under Processing wizard in the main menu.","title":"Set User Preferences"},{"location":"main-window-overview.html","text":"Main window overview \u00b6 The MZmine 3 man window is made up of mainly four important building blocks. MS data files and feature lists tab \u00b6 [1]: The (raw) ms data and feature list tabs. Here you can find your imported data files and processed feature lists. Hint: you can also import files by dragging & dropping them to the ms data tab. Main content pane \u00b6 [2]: The main content pane. Visualisations such as a raw data overview or a feature list can be viewed here. This pane can also contain multiple tabs. Every tab can also be opened in a new separate window by right-clicking on the header. Main menu \u00b6 [3]: The main menu. Here you can find methods to import and process your data files and feature lists and visualise the results. Furthermore, projects can be saved and preferences can be set. Task overview \u00b6 [4]: The task overview. Current tasks are displayed and their status and progress are indicated. Tasks can also be canceled by right clicking on a task. Page Contributors \u00b6 SteffenHeu","title":"Main window overview"},{"location":"main-window-overview.html#main-window-overview","text":"The MZmine 3 man window is made up of mainly four important building blocks.","title":"Main window overview"},{"location":"main-window-overview.html#ms-data-files-and-feature-lists-tab","text":"[1]: The (raw) ms data and feature list tabs. Here you can find your imported data files and processed feature lists. Hint: you can also import files by dragging & dropping them to the ms data tab.","title":"MS data files and feature lists tab"},{"location":"main-window-overview.html#main-content-pane","text":"[2]: The main content pane. Visualisations such as a raw data overview or a feature list can be viewed here. This pane can also contain multiple tabs. Every tab can also be opened in a new separate window by right-clicking on the header.","title":"Main content pane"},{"location":"main-window-overview.html#main-menu","text":"[3]: The main menu. Here you can find methods to import and process your data files and feature lists and visualise the results. Furthermore, projects can be saved and preferences can be set.","title":"Main menu"},{"location":"main-window-overview.html#task-overview","text":"[4]: The task overview. Current tasks are displayed and their status and progress are indicated. Tasks can also be canceled by right clicking on a task.","title":"Task overview"},{"location":"main-window-overview.html#page-contributors","text":"SteffenHeu","title":"Page Contributors"},{"location":"performance.html","text":"This section contains information on how to tune MZmine 3 for different systems. Preferences \u00b6 The preferences can be changed in MZmine's graphical user interface by accessing File/Set preferences from the menu. The choices will be stored in a (hidden) .mzmine3.conf file in the user's home directory (Windows: C:\\Users\\USERNAME ) once MZmine is closed. Temporary files \u00b6 MZmine will create multiple temporary files at various times of the processing stage, e.g., when importing spectral data, running mass detection, or creating feature lists. These files will be stored in a folder that can be specified in the preferences. We recommend putting this folder on an SSD drive, ideally an M.2 for the best performance. The temporary files will be deleted when MZmine is closed (Mac & Linux) or when a new session is started (Windows). Memory options \u00b6 The parameter Keep in Memory defines what data is kept in memory (RAM) or otherwise memory mapped to the temp directory. Generally this setting should be none ( default ). If memory is no issue this option might be set to all process all spectral and feature data in memory. The option masses_features keeps centroid mass lists and features in memory while memory mapping raw spectral data. The option mass_lists will keep only mass lists in RAM, while memory mapping the raw spectral data and features. Logs \u00b6 Currently, the logs are written to an mzmine_0_0.log file in the user's home directory. Please submit your log files together with any issues on GitHub . Maximum memory \u00b6 The maximum Java heap size (the main part of the RAM available to MZmine) is set to 80%. This is usually a good value, considering that MZmine and its Java Virtual Machine (JVM) will use memory extending over this 80% threshold for specific tasks. There is one way to change the maximum heap size before starting MZmine, however, it requires administrator access. Find the MZmine/app/MZmine.cfg file in the MZmine install directory or portable version. Under Window, this file is write protected, which needs to be changed under File/Properties/Security/ select Users and click Edit to grant write access. Now change the MaxRAMPercentage to grant more RAM. java-options=-XX:InitialRAMPercentage=10 java-options=-XX:MaxRAMPercentage=80","title":"Performance options"},{"location":"performance.html#preferences","text":"The preferences can be changed in MZmine's graphical user interface by accessing File/Set preferences from the menu. The choices will be stored in a (hidden) .mzmine3.conf file in the user's home directory (Windows: C:\\Users\\USERNAME ) once MZmine is closed.","title":"Preferences"},{"location":"performance.html#temporary-files","text":"MZmine will create multiple temporary files at various times of the processing stage, e.g., when importing spectral data, running mass detection, or creating feature lists. These files will be stored in a folder that can be specified in the preferences. We recommend putting this folder on an SSD drive, ideally an M.2 for the best performance. The temporary files will be deleted when MZmine is closed (Mac & Linux) or when a new session is started (Windows).","title":"Temporary files"},{"location":"performance.html#memory-options","text":"The parameter Keep in Memory defines what data is kept in memory (RAM) or otherwise memory mapped to the temp directory. Generally this setting should be none ( default ). If memory is no issue this option might be set to all process all spectral and feature data in memory. The option masses_features keeps centroid mass lists and features in memory while memory mapping raw spectral data. The option mass_lists will keep only mass lists in RAM, while memory mapping the raw spectral data and features.","title":"Memory options"},{"location":"performance.html#logs","text":"Currently, the logs are written to an mzmine_0_0.log file in the user's home directory. Please submit your log files together with any issues on GitHub .","title":"Logs"},{"location":"performance.html#maximum-memory","text":"The maximum Java heap size (the main part of the RAM available to MZmine) is set to 80%. This is usually a good value, considering that MZmine and its Java Virtual Machine (JVM) will use memory extending over this 80% threshold for specific tasks. There is one way to change the maximum heap size before starting MZmine, however, it requires administrator access. Find the MZmine/app/MZmine.cfg file in the MZmine install directory or portable version. Under Window, this file is write protected, which needs to be changed under File/Properties/Security/ select Users and click Edit to grant write access. Now change the MaxRAMPercentage to grant more RAM. java-options=-XX:InitialRAMPercentage=10 java-options=-XX:MaxRAMPercentage=80","title":"Maximum memory"},{"location":"wikiacknowledgements.html","text":"Acknowledgements \u00b6 We would like to point out that this wiki was set up in tight collaboration with the GNPS staff. We highly appreciate your help! Related projects \u00b6 GNPS SIRIUS Libraries we use in MZmine \u00b6 Apache XML Graphics - EPS image export Chemistry Development Kit - Isotope pattern and molecular calculations Freehep - EMF image export Google Guava - Utility classes JDK Documentation JChemPaint - 2D molecule visualization JFreeChart - TIC, Spectra and 2D visualizers JMol - 3D molecule visualization jmzml - mzML file import jmzTab - mzTab file import and export NetCDF-Java - NetCDF file import VisAD - 3D visualizer WEKA - Clustering and other machine learning algorithms Bruker TDF SDK - Native tdf/tdf file import (requires VC++ 2017 redist.) Thermo raw file parser - Native Thermo raw import","title":"Acknowledgements"},{"location":"wikiacknowledgements.html#acknowledgements","text":"We would like to point out that this wiki was set up in tight collaboration with the GNPS staff. We highly appreciate your help!","title":"Acknowledgements"},{"location":"wikiacknowledgements.html#related-projects","text":"GNPS SIRIUS","title":"Related projects"},{"location":"wikiacknowledgements.html#libraries-we-use-in-mzmine","text":"Apache XML Graphics - EPS image export Chemistry Development Kit - Isotope pattern and molecular calculations Freehep - EMF image export Google Guava - Utility classes JDK Documentation JChemPaint - 2D molecule visualization JFreeChart - TIC, Spectra and 2D visualizers JMol - 3D molecule visualization jmzml - mzML file import jmzTab - mzTab file import and export NetCDF-Java - NetCDF file import VisAD - 3D visualizer WEKA - Clustering and other machine learning algorithms Bruker TDF SDK - Native tdf/tdf file import (requires VC++ 2017 redist.) Thermo raw file parser - Native Thermo raw import","title":"Libraries we use in MZmine"},{"location":"module_docs/Duplicate_feature_filter/duplicate_feature_filter.html","text":"Duplicate feature filter \u00b6 This filter might be very helpful to eliminate misaligned feature list rows after the gap-filling process. It is found under Feature list method \u2192 Feature list filtering \u2192 Duplicate feature filter . It has three different modes: Old average (the old filter) : Keeps only the feature list row with the maximum average area. Checks for average m/z and RT. New average : Two peaks are considered duplicates when their average m/z and retention time differences are lower than the tolerances set by the user. When two (or more) duplicates are found, a consensus row is created with the lowest row ID of all duplicates. For this consensus row, all DETECTED features are favored over ESTIMATED (gap-filled) and ESTIMATED are favored over UNKNOWN. Furthermore, if there are only ESTIMATED features in a raw data file, the highest is chosen. Single feature : Marks rows as duplicates if they share one feature within the RT and m/z tolerance in the same raw data file. Creates a consensus row. Parameters \u00b6 Name sufix \u00b6 This is the suffix to identify the new aligned peak list. Filter mode: \u00b6 Old average: Compares rows with the average m/z and RT (like the old algorithm) New average: Compares rows with the average m/z and RT and creates a consensus row. Single feature: Compares rows on a raw data file basis. Marks rows as duplicates if two rows share a feature in a raw data file with the same RT and m/z (and identity/charge state). m/z tolerance \u00b6 Maximum m/z difference between duplicate peaks. RT tolerance \u00b6 Maximum retention time difference between duplicate peaks. Require same identification \u00b6 If the checkbox is selected duplicate peaks must have the same identification. Original feature list \u00b6 Can be either processed in place of, kept or replaced.","title":"Duplicate feature filter"},{"location":"module_docs/Duplicate_feature_filter/duplicate_feature_filter.html#duplicate-feature-filter","text":"This filter might be very helpful to eliminate misaligned feature list rows after the gap-filling process. It is found under Feature list method \u2192 Feature list filtering \u2192 Duplicate feature filter . It has three different modes: Old average (the old filter) : Keeps only the feature list row with the maximum average area. Checks for average m/z and RT. New average : Two peaks are considered duplicates when their average m/z and retention time differences are lower than the tolerances set by the user. When two (or more) duplicates are found, a consensus row is created with the lowest row ID of all duplicates. For this consensus row, all DETECTED features are favored over ESTIMATED (gap-filled) and ESTIMATED are favored over UNKNOWN. Furthermore, if there are only ESTIMATED features in a raw data file, the highest is chosen. Single feature : Marks rows as duplicates if they share one feature within the RT and m/z tolerance in the same raw data file. Creates a consensus row.","title":"Duplicate feature filter"},{"location":"module_docs/Duplicate_feature_filter/duplicate_feature_filter.html#parameters","text":"","title":"Parameters"},{"location":"module_docs/Duplicate_feature_filter/duplicate_feature_filter.html#name-sufix","text":"This is the suffix to identify the new aligned peak list.","title":"Name sufix"},{"location":"module_docs/Duplicate_feature_filter/duplicate_feature_filter.html#filter-mode","text":"Old average: Compares rows with the average m/z and RT (like the old algorithm) New average: Compares rows with the average m/z and RT and creates a consensus row. Single feature: Compares rows on a raw data file basis. Marks rows as duplicates if two rows share a feature in a raw data file with the same RT and m/z (and identity/charge state).","title":"Filter mode:"},{"location":"module_docs/Duplicate_feature_filter/duplicate_feature_filter.html#mz-tolerance","text":"Maximum m/z difference between duplicate peaks.","title":"m/z tolerance"},{"location":"module_docs/Duplicate_feature_filter/duplicate_feature_filter.html#rt-tolerance","text":"Maximum retention time difference between duplicate peaks.","title":"RT tolerance"},{"location":"module_docs/Duplicate_feature_filter/duplicate_feature_filter.html#require-same-identification","text":"If the checkbox is selected duplicate peaks must have the same identification.","title":"Require same identification"},{"location":"module_docs/Duplicate_feature_filter/duplicate_feature_filter.html#original-feature-list","text":"Can be either processed in place of, kept or replaced.","title":"Original feature list"},{"location":"module_docs/GNPS_export/gnps_export.html","text":"Recommended Citations IIMN: Schmid R., Petras D., Nothias LF, et al. Ion Identity Molecular Networking for mass spectrometry-based metabolomics in the GNPS Environment . Nat. Comm. 12, 3832 (2021). FBMN: Nothias, L.-F., Petras, D., Schmid, R. et al. Feature-based molecular networking in the GNPS analysis environment . Nat. Methods 17, 905\u2013908 (2020). GNPS: Wang, M. et al. Sharing and community curation of mass spectrometry data with Global Natural Products Social Molecular Networking . Nat. Biotechnol. 34, 828\u2013837 (2016). GNPS-FBMN/IIMN export \u00b6 This module connects MZmine feature finding results to the GNPS workflows for Feature-based Molecular Networking (FBMN) and Ion Identity Molecular Networking (IIMN) . The export module is found under Feature list methods \u2192 Export feature lists \u2192 GNPS - feature based molecular networking . Using this module, the user can export the feature list needed for the manual submission to GNPS' feature based molecular networking (GNPS FBMN) or directly submit the job to the GNPS platform from MZmine. In both cases, two files are created: Quantification table (CSV file) which contains the features and their associated information (e.g., average m/z, retention time, and each feature's area or height). MS/MS spectral summary (.MGF file) which contains one representative MS/MS spectrum for each row in the feature list. A supplementary edges file with related ion identities (if ion identity networking was performed). Parameters \u00b6 Filename \u00b6 Name to be given to the output files (.MGF and .CSV). In this field, the user can either write the path where they want to save the file, or click \"select\", navigate into the desired output folder, write the output name in the \"file name\" field and click save. Once that is done, the path should be visible in the Filename field in the GNPS export module. Merge MS/MS (experimental) \u00b6 If checked, high quality MS/MS spectra that correspond to one feature are merged, instead of exporting only the most intense MS/MS spectrum. See MS/MS merger for additional information. Filter rows \u00b6 In the final output files, the user can select to export all the rows without any filters applied, rows only with MS/MS spectra, rows with MS/MS and Ion Identity (it gives MS/MS and the adduct information) and rows with MS/MS or Ion Identity. Normally, for FBMN you want to retain features with MS/MS spectra. Feature intensity \u00b6 The user can either select peak area or peak height which will then be displayed in the quantification table. CSV export \u00b6 The user can choose between simple , comprehensive , or all . Difference is in the amount of information that is present in the quantification table. Simple resembles the legacy format from the MZmine 2 export. Both options can be used for FBMN in GNPS other tools might rely on the simple MZmine 2 style output. Submit to GNPS \u00b6 This option allows any user to directly submit FBMN/IIMN jobs to GNPS. The password and user name are optional and are sent without encryption (until the server has moved to its final location with https). The input files uploaded to GNPS with the \"Submit to GNPS\" option are not saved on your GNPS user account. These files are deleted on monthly basis, which prevent future cloning of the job and retrieval of the files. Use the \"standard\" interface of FBMN for persistant jobs and more options. Or log into your GNPS account and click on Clone to latest version for a job submitted via direct interface. Open folder \u00b6 Opens the export folder.","title":"Export to GNPS-FBMN/IIMN"},{"location":"module_docs/GNPS_export/gnps_export.html#gnps-fbmniimn-export","text":"This module connects MZmine feature finding results to the GNPS workflows for Feature-based Molecular Networking (FBMN) and Ion Identity Molecular Networking (IIMN) . The export module is found under Feature list methods \u2192 Export feature lists \u2192 GNPS - feature based molecular networking . Using this module, the user can export the feature list needed for the manual submission to GNPS' feature based molecular networking (GNPS FBMN) or directly submit the job to the GNPS platform from MZmine. In both cases, two files are created: Quantification table (CSV file) which contains the features and their associated information (e.g., average m/z, retention time, and each feature's area or height). MS/MS spectral summary (.MGF file) which contains one representative MS/MS spectrum for each row in the feature list. A supplementary edges file with related ion identities (if ion identity networking was performed).","title":"GNPS-FBMN/IIMN export"},{"location":"module_docs/GNPS_export/gnps_export.html#parameters","text":"","title":"Parameters"},{"location":"module_docs/GNPS_export/gnps_export.html#filename","text":"Name to be given to the output files (.MGF and .CSV). In this field, the user can either write the path where they want to save the file, or click \"select\", navigate into the desired output folder, write the output name in the \"file name\" field and click save. Once that is done, the path should be visible in the Filename field in the GNPS export module.","title":"Filename"},{"location":"module_docs/GNPS_export/gnps_export.html#merge-msms-experimental","text":"If checked, high quality MS/MS spectra that correspond to one feature are merged, instead of exporting only the most intense MS/MS spectrum. See MS/MS merger for additional information.","title":"Merge MS/MS (experimental)"},{"location":"module_docs/GNPS_export/gnps_export.html#filter-rows","text":"In the final output files, the user can select to export all the rows without any filters applied, rows only with MS/MS spectra, rows with MS/MS and Ion Identity (it gives MS/MS and the adduct information) and rows with MS/MS or Ion Identity. Normally, for FBMN you want to retain features with MS/MS spectra.","title":"Filter rows"},{"location":"module_docs/GNPS_export/gnps_export.html#feature-intensity","text":"The user can either select peak area or peak height which will then be displayed in the quantification table.","title":"Feature intensity"},{"location":"module_docs/GNPS_export/gnps_export.html#csv-export","text":"The user can choose between simple , comprehensive , or all . Difference is in the amount of information that is present in the quantification table. Simple resembles the legacy format from the MZmine 2 export. Both options can be used for FBMN in GNPS other tools might rely on the simple MZmine 2 style output.","title":"CSV export"},{"location":"module_docs/GNPS_export/gnps_export.html#submit-to-gnps","text":"This option allows any user to directly submit FBMN/IIMN jobs to GNPS. The password and user name are optional and are sent without encryption (until the server has moved to its final location with https). The input files uploaded to GNPS with the \"Submit to GNPS\" option are not saved on your GNPS user account. These files are deleted on monthly basis, which prevent future cloning of the job and retrieval of the files. Use the \"standard\" interface of FBMN for persistant jobs and more options. Or log into your GNPS account and click on Clone to latest version for a job submitted via direct interface.","title":"Submit to GNPS"},{"location":"module_docs/GNPS_export/gnps_export.html#open-folder","text":"Opens the export folder.","title":"Open folder"},{"location":"module_docs/GNPS_export/merge_ms2_kai.html","text":"Merge MS/MS (experimental) \u00b6 This option is available in the GNPS FBMN export and the SIRIUS export. If checked, high quality MS/MS spectra that correspond to one feature are merged, instead of exporting only the most intense MS/MS spectrum. Parameters \u00b6 Select spectra to merge \u00b6 The users can select to merge the MS/MS spectra: Across samples , which will merge all MS/MS spectra that belong to the same feature, and as such is the most convenient option. Same sample , which will merge MS/MS spectra for the same feature within one sample, and can be used if the user is not confident about the alignment algorithm. Consecutive scans , which will merge MS/MS spectra if they are triggered in a row. m/z merge mode \u00b6 This option allows you to select the way to merge the fragments' m/z values associated with a similar precursor value. \"Most intense\" will always pick the m/z of the best feature, which is a very safe and conservative option. However, \"weighted average (remove outliers)\" will often yield better result. Intensity merge mode \u00b6 Options on how to merge the intensity values of features from different spectra with similar mass. Sum intensities is a convenient option that will increase the intensities of feature that occur consistently in many fragment scans. However, this will make intensities between merged and unmerged spectra incomparable. Use max intensity to preserve intensity values Expected mass deviation \u00b6 Expected mass deviation between different spectra of the same feature of your measurement in ppm (parts per million) or Da(larger value is used). We reccommend to use a rather large values, e.g. 10ppm for Orbitrap, 15 ppm for Q-ToF, 100 ppm for QQQ. Cosine treshold \u00b6 Treshold of cosine similarity between spectra that needs to be met in order for two spectra to be merged. In case they have different collision energies, cosine treshold should be set to 0, since different collision energies will result in different fragmentation pattern. Signal count treshold \u00b6 After merging the spectra, signals that occur in less than the user specified % of the merged spectra will be removed. Isolation window offset (m/z) \u00b6 Isolation window offset from the precursor m/z. Isolation window width (m/z) \u00b6 Width of the isolation window (left and right).","title":"Merge MS/MS"},{"location":"module_docs/GNPS_export/merge_ms2_kai.html#merge-msms-experimental","text":"This option is available in the GNPS FBMN export and the SIRIUS export. If checked, high quality MS/MS spectra that correspond to one feature are merged, instead of exporting only the most intense MS/MS spectrum.","title":"Merge MS/MS (experimental)"},{"location":"module_docs/GNPS_export/merge_ms2_kai.html#parameters","text":"","title":"Parameters"},{"location":"module_docs/GNPS_export/merge_ms2_kai.html#select-spectra-to-merge","text":"The users can select to merge the MS/MS spectra: Across samples , which will merge all MS/MS spectra that belong to the same feature, and as such is the most convenient option. Same sample , which will merge MS/MS spectra for the same feature within one sample, and can be used if the user is not confident about the alignment algorithm. Consecutive scans , which will merge MS/MS spectra if they are triggered in a row.","title":"Select spectra to merge"},{"location":"module_docs/GNPS_export/merge_ms2_kai.html#mz-merge-mode","text":"This option allows you to select the way to merge the fragments' m/z values associated with a similar precursor value. \"Most intense\" will always pick the m/z of the best feature, which is a very safe and conservative option. However, \"weighted average (remove outliers)\" will often yield better result.","title":"m/z merge mode"},{"location":"module_docs/GNPS_export/merge_ms2_kai.html#intensity-merge-mode","text":"Options on how to merge the intensity values of features from different spectra with similar mass. Sum intensities is a convenient option that will increase the intensities of feature that occur consistently in many fragment scans. However, this will make intensities between merged and unmerged spectra incomparable. Use max intensity to preserve intensity values","title":"Intensity merge mode"},{"location":"module_docs/GNPS_export/merge_ms2_kai.html#expected-mass-deviation","text":"Expected mass deviation between different spectra of the same feature of your measurement in ppm (parts per million) or Da(larger value is used). We reccommend to use a rather large values, e.g. 10ppm for Orbitrap, 15 ppm for Q-ToF, 100 ppm for QQQ.","title":"Expected mass deviation"},{"location":"module_docs/GNPS_export/merge_ms2_kai.html#cosine-treshold","text":"Treshold of cosine similarity between spectra that needs to be met in order for two spectra to be merged. In case they have different collision energies, cosine treshold should be set to 0, since different collision energies will result in different fragmentation pattern.","title":"Cosine treshold"},{"location":"module_docs/GNPS_export/merge_ms2_kai.html#signal-count-treshold","text":"After merging the spectra, signals that occur in less than the user specified % of the merged spectra will be removed.","title":"Signal count treshold"},{"location":"module_docs/GNPS_export/merge_ms2_kai.html#isolation-window-offset-mz","text":"Isolation window offset from the precursor m/z.","title":"Isolation window offset (m/z)"},{"location":"module_docs/GNPS_export/merge_ms2_kai.html#isolation-window-width-mz","text":"Width of the isolation window (left and right).","title":"Isolation window width (m/z)"},{"location":"module_docs/Gap-filling-same_mz_and_RT_range/same_mz_and_RT_range_gap_filler.html","text":"Same m/z and RT range gap filler \u00b6 This module is found in Feature list methods \u2192 Gap filling \u2192 Same m/z and RT range gap filler . This method fills in gaps in each peak list row by using the same m/z and retention time range as other peaks in the row. The m/z and retention time ranges where the new peaks will be sought are obtained using the ranges of the rest of the peaks in the same row. The minimum value of these ranges is the minimum value in the range of all the peaks in the row and the same happens with the maximum value. User-specified tolerance is added to the m/z range. The new peak is constructed using the highest data point of each scan within the determined m/z and retention time ranges. Parameters \u00b6 Name suffix \u00b6 Suffix to be added to the peak list name. m/z tolerance \u00b6 Tolerance, which is added to the m/z range of other peaks in the peak list row. Original feature list \u00b6 The user can either select to keep or remove the original feature list.","title":"Same RT and m/z range gap filler"},{"location":"module_docs/Gap-filling-same_mz_and_RT_range/same_mz_and_RT_range_gap_filler.html#same-mz-and-rt-range-gap-filler","text":"This module is found in Feature list methods \u2192 Gap filling \u2192 Same m/z and RT range gap filler . This method fills in gaps in each peak list row by using the same m/z and retention time range as other peaks in the row. The m/z and retention time ranges where the new peaks will be sought are obtained using the ranges of the rest of the peaks in the same row. The minimum value of these ranges is the minimum value in the range of all the peaks in the row and the same happens with the maximum value. User-specified tolerance is added to the m/z range. The new peak is constructed using the highest data point of each scan within the determined m/z and retention time ranges.","title":"Same m/z and RT range gap filler"},{"location":"module_docs/Gap-filling-same_mz_and_RT_range/same_mz_and_RT_range_gap_filler.html#parameters","text":"","title":"Parameters"},{"location":"module_docs/Gap-filling-same_mz_and_RT_range/same_mz_and_RT_range_gap_filler.html#name-suffix","text":"Suffix to be added to the peak list name.","title":"Name suffix"},{"location":"module_docs/Gap-filling-same_mz_and_RT_range/same_mz_and_RT_range_gap_filler.html#mz-tolerance","text":"Tolerance, which is added to the m/z range of other peaks in the peak list row.","title":"m/z tolerance"},{"location":"module_docs/Gap-filling-same_mz_and_RT_range/same_mz_and_RT_range_gap_filler.html#original-feature-list","text":"The user can either select to keep or remove the original feature list.","title":"Original feature list"},{"location":"module_docs/featdet_file_merging/raw-files-merging.html","text":"Merge raw data files \u00b6 Description \u00b6 This module merges all raw data files into a new. For example to combine positive and negative scans with MS2, all from different raw data files. TODO: Usage examples or cases Method parameters \u00b6 Raw data files Raw data files the module will take as an input. Mode MERGE PATTERN: Merge files based on a grouping identifier which can be a name suffix or prefix. (e.g., Sample_A_1, Sample_B_1: Use AFTER LAST _ to combine these files) MERGE SELECTED: Merge all selected files to a new Grouping identifier position Search for the specific group identifier before the first or after the last marker. Position marker The marker that splits the specific group identifier from the rest of the file names. MS2 marker If a raw data file has this marker in its name, it will only be used as a source of MS2 (MSn) scans. All MS1 scans of this file will be discarded. TODO - what does this mean (e.g., MS2, TOP4, ...) Suffix Suffix to be added to the new file name.","title":"Raw data files merging"},{"location":"module_docs/featdet_file_merging/raw-files-merging.html#merge-raw-data-files","text":"","title":"Merge raw data files"},{"location":"module_docs/featdet_file_merging/raw-files-merging.html#description","text":"This module merges all raw data files into a new. For example to combine positive and negative scans with MS2, all from different raw data files. TODO: Usage examples or cases","title":"Description"},{"location":"module_docs/featdet_file_merging/raw-files-merging.html#method-parameters","text":"Raw data files Raw data files the module will take as an input. Mode MERGE PATTERN: Merge files based on a grouping identifier which can be a name suffix or prefix. (e.g., Sample_A_1, Sample_B_1: Use AFTER LAST _ to combine these files) MERGE SELECTED: Merge all selected files to a new Grouping identifier position Search for the specific group identifier before the first or after the last marker. Position marker The marker that splits the specific group identifier from the rest of the file names. MS2 marker If a raw data file has this marker in its name, it will only be used as a source of MS2 (MSn) scans. All MS1 scans of this file will be discarded. TODO - what does this mean (e.g., MS2, TOP4, ...) Suffix Suffix to be added to the new file name.","title":"Method parameters"},{"location":"module_docs/featdet_mass_detection/FTMS-shoulder-peak-filter.html","text":"FTMS shoulder peak filter \u00b6 Description \u00b6 This module should be used after mass detection step is performed. Raw data obtained from FTMS (Fourier Transform Mass Spectrometer) instruments often contains false signals around high-intensity m/z peaks, called \"shoulder peaks\" . These signals are residues of the Fourier Transform function and their intensity is usually below 5% of the main (true) m/z peak. The FTMS shoulder peaks filter attempts to remove these false signals. Ions in the mass lists (generated previously by the Mass detector module) are processed in the order of decreasing intensity. A peak model (shape) is built around each ion peak using given function and resolution, and those m/z peaks which fall below the model are considered to be shoulder peaks and therefore are removed. The method offers three theoretical peak models. Example of running the shoulder peaks filter on LTQ Orbitrap data: Method parameters \u00b6 Mass resolution of the data Defines the width of the model, which should be equal to the estimated resolution of the peaks in the raw data. Mass resolution is the dimensionless ratio of the mass of the peak divided by its width. Peak width is taken as the full width at half maximum intensity (FWHM). Peak model function Defines the shape of the model function, as described below. Peaks under the curve of this peak model will be removed. Available peak models \u00b6 Gaussian peak model \u00b6 The Gaussian peak model is a characteristic symmetric \"bell shape curve\" that quickly falls off towards plus/minus infinity, described by the following formula. \\[f(x)=ae^-\\frac{(x-b)^2}{2c^2}\\] The parameter \"a\" is the height of the curve's peak, \"b\" is the position of the center of the peak, and \"c\" controls the width of the \"bell\". Lorentzian peak model \u00b6 The Lorentzian function (Cauchy-Lorentz distribution) is used for this model. The Lorentzian peak model is described by the following formula: \\(f(x;x_0,\\gamma,I)=\\frac{I}{\\biggl[1+\\frac{x-x_0}{\\gamma}^2\\biggr]} =I\\biggl[\\frac{\\gamma^2}{(x-x_0)^2+\\gamma^2}\\biggr]\\) Where \"x0\" is the location parameter, specifying the location of the peak of the distribution, and \"y\" is the scale parameter which specifies the width of the peak. Lorentzian extended peak model \u00b6 This model uses the same mathematical formula as the Lorentzian peak model, but the lower part of the model (below 5% of the intensity) is extended. The width of the peak below 5% intensity is calculated from another Lorentzian peak with 5% of the resolution of the main peak.","title":"FTMS shoulder peak finder"},{"location":"module_docs/featdet_mass_detection/FTMS-shoulder-peak-filter.html#ftms-shoulder-peak-filter","text":"","title":"FTMS shoulder peak filter"},{"location":"module_docs/featdet_mass_detection/FTMS-shoulder-peak-filter.html#description","text":"This module should be used after mass detection step is performed. Raw data obtained from FTMS (Fourier Transform Mass Spectrometer) instruments often contains false signals around high-intensity m/z peaks, called \"shoulder peaks\" . These signals are residues of the Fourier Transform function and their intensity is usually below 5% of the main (true) m/z peak. The FTMS shoulder peaks filter attempts to remove these false signals. Ions in the mass lists (generated previously by the Mass detector module) are processed in the order of decreasing intensity. A peak model (shape) is built around each ion peak using given function and resolution, and those m/z peaks which fall below the model are considered to be shoulder peaks and therefore are removed. The method offers three theoretical peak models. Example of running the shoulder peaks filter on LTQ Orbitrap data:","title":"Description"},{"location":"module_docs/featdet_mass_detection/FTMS-shoulder-peak-filter.html#method-parameters","text":"Mass resolution of the data Defines the width of the model, which should be equal to the estimated resolution of the peaks in the raw data. Mass resolution is the dimensionless ratio of the mass of the peak divided by its width. Peak width is taken as the full width at half maximum intensity (FWHM). Peak model function Defines the shape of the model function, as described below. Peaks under the curve of this peak model will be removed.","title":"Method parameters"},{"location":"module_docs/featdet_mass_detection/FTMS-shoulder-peak-filter.html#available-peak-models","text":"","title":"Available peak models"},{"location":"module_docs/featdet_mass_detection/FTMS-shoulder-peak-filter.html#gaussian-peak-model","text":"The Gaussian peak model is a characteristic symmetric \"bell shape curve\" that quickly falls off towards plus/minus infinity, described by the following formula. \\[f(x)=ae^-\\frac{(x-b)^2}{2c^2}\\] The parameter \"a\" is the height of the curve's peak, \"b\" is the position of the center of the peak, and \"c\" controls the width of the \"bell\".","title":"Gaussian peak model"},{"location":"module_docs/featdet_mass_detection/FTMS-shoulder-peak-filter.html#lorentzian-peak-model","text":"The Lorentzian function (Cauchy-Lorentz distribution) is used for this model. The Lorentzian peak model is described by the following formula: \\(f(x;x_0,\\gamma,I)=\\frac{I}{\\biggl[1+\\frac{x-x_0}{\\gamma}^2\\biggr]} =I\\biggl[\\frac{\\gamma^2}{(x-x_0)^2+\\gamma^2}\\biggr]\\) Where \"x0\" is the location parameter, specifying the location of the peak of the distribution, and \"y\" is the scale parameter which specifies the width of the peak.","title":"Lorentzian peak model"},{"location":"module_docs/featdet_mass_detection/FTMS-shoulder-peak-filter.html#lorentzian-extended-peak-model","text":"This model uses the same mathematical formula as the Lorentzian peak model, but the lower part of the model (below 5% of the intensity) is extended. The width of the peak below 5% intensity is calculated from another Lorentzian peak with 5% of the resolution of the main peak.","title":"Lorentzian extended peak model"},{"location":"module_docs/featdet_mass_detection/mass-calibration.html","text":"Mass calibration \u00b6 Description \u00b6 This module should be used after mass detection step is performed. Mass calibration module estimates the measurement error of each detected mass and calibrates them using reference libraries of ions through three main processes: Peak matching with library of reference and extraction of errors, Estimation of overall mass bias, and Mass calibration of detected masses. Reference library of ions \u00b6 First, mass lists (MS1) from raw data files are matched against a reference library and mass measurement errors are calculated. This module can support two different matching strategies: Standard Calibrant Library (SCL) (recommended method): file needs to be provided by the user in xls, xlsx or csv format). The file needs to include retention time (RT) information and the ion formula of a collection of ions that are expected to appear in the samples analyzed with a known chromatographic method. Ion formulas format of the SCL will depend on the ionization method used to analyze the samples. See below in the \u201cParameters\u201d section a detailed description for the library format. Using a SCL, the matching of measured peaks the matching of measured peaks against the library is performed using both RT and exact m/z. RT and m/z error tolerances are needed to be defined. Note: To ignore RT parameter when using SCL for mass calibration, the parameter can be set with an equal or larger value of the chromatography length (i.e., 30 min). Universal Calibrant Library (UCL) include a collection of ions often found in mass spectrometry experiments. The module has two different lists in positive (+ve) and negative (-ve) ionization modes to be chosen by the user. Universal calibrant lists are based on Keller et al. 2008 Analytica Chimica Acta 627:71-81 and Hawkes et al. 2020 Limnology and Oceanography Methods 18:235-258 . MZmine includes both those libraries. Matching of detected ions against the UCL library is performed using m/z values alone independently where the ions are appearing along the chromatography and only m/z error tolerance will be needed. Overall mass bias estimation \u00b6 Measurement mass errors are calculated based on the matching of detected ions against the library, a distribution of errors is built, and measurement bias is estimated. Because not all ion matches can be considered as correct, the calibration model will automatically identify the high-density mass error range (mass error range with larger number of matches) from the generated distribution of matching errors. For the overall mass bias estimation, two methods can be used: Percentile Range of Errors : The module calculates the Interquartile Range (IQR) from the overall distribution of errors to extract those errors to be used for mass calibration of peaks. IQR can be modified (by default determined at 25th and 75th percentiles). In such case, errors distributed below 25th or above 75th percentile will not be considered for mass calibration of peaks. High-Density Range of Errors : Autonomous method relying on two parameters set by the user. This method is performed relies in two parameters: Primary High-Density Range of Errors size (in PPM) : finds the highest density range of errors (in PPM). The module will find the distribution range containing most mass errors within the set PPM error (i.e., 2 PPM). Error range tolerance (in PPM) : determines how far the distribution range of errors will be extended to extract the errors used for mass calibration. The module will include any consecutive matched error from the most populated error range found within the established error range tolerance (i.e., 0.1PPM). This process continues until the range cannot be extended anymore according to the parameter set. Example: Mass calibration method \u00b6 To estimate mass measurement bias more accurately, we can model the trend exhibited by the error size vs m/z value relation obtained by matching the mass peaks. With the estimation model we can shift/calibrate the mass peaks at different particular m/z values more accurately. The module supports two main modes for mass calibration: Arithmetic mean: This method uses the arithmetic mean of the extracted errors of the overall bias estimation. Calibration of peaks will be performed globally based on a single overall bias value. This method is especially recommended for datasets with low number of extracted errors (i.e., blank samples). Regression mode: This mode models a trend from the direct relationship of error size (in PPM) vs. measured m/z of detected peaks. Mass lists will be calibrated according to the estimated model. The mass calibration module supports two different methods of regression: OLS and KNN . OLS (ordinary least squares) regression minimizes the mean squared error between the predicted trend and the datapoints in the dataset. Available features include power features (polynomial trend), logarithmic feature and exponential feature. By default , linear trend is fitted. This mode is suitable for datasets with enough data and exhibit a clear and strong trend (Error vs. m/z). KNN (K-Nearest Neighbors) regression finds the average value of the K nearest neighbors. In this module, the number of neighbors is defined by a percentage set by the user of all the errors present in the dataset. The K closest neighbors are thus found by the absolute difference of the m/z values within such percentage. Then the arithmetic mean of the neighbors' errors is calculated for each individual error and will serve as an error estimate for a specific m/z. This method is suitable for datasets with enough data and a trend between mass error vs. m/z is not clear. Therefore, KNN regression allows the trend to match the dataset closely without introducing additional assumptions on how the variables are related. Overfitting problems at large m/z values (>800) can occur when modeling the errors with regression as those regions commonly have less matches against the reference libraries of ions. If regression is modelled mainly by matches with small m/z ions (<400), it is recommended to use the arithmetic mean for mass calibration. This also applies to blank samples were the number of matched ions is commonly low and regression can produce overfitting problems. Parameters \u00b6 Raw data files The raw datafiles to calibrate. Each selected datafile is calibrated independently in a separate task. Mass list name Name of the mass lists to be calibrated. The mass lists must be previously generated for each scan by the Mass detector module. Intensity threshold Determines the intensity of the peaks used for matching against the library of ions and subsequent mass calibration. Only mass peaks with intensity above this threshold will be considered for calibration. This is useful to avoid certain noise peaks that could have been picked in the Mass Detection module. To consider all peaks, the Intensity Threshold needs to be set with a value equal or lower than the previously used in the Mass Detection module. Duplicate Error Filter Removes duplicate ions with the same m/z value independently of their retention time. If enabled, for a specific detected exact mass present in different scans (not necessarily consecutive), only a single ion with that exact mass value will be considered for calibration. This filter performs for the full list of masses and does not consider RT difference between ions. Reference Library of ions Selects the library used for ion matching and determination of mass errors. SCL and UCL libraries are available. SCL-only parameters Standard Calibrant Library file File with a list of ion formulas and retention times (xls, xlsx and csv files are supported). This list should contain ions that are expected to be detected in the samples. Files need to contain a first column with the retention time in minutes and a second column with the ion formula strings. Additional columns are optional. Sample standards list file: Retention time tolerance (only for SCL) Maximum difference in retention time between an actual measured ion and a calibrant to consider a match. UCL-only parameters Ionization mode Ionization mode for which an appropriate universal calibrants list is used. m/z tolerance Maximum allowed difference in m/z between an actual measured ion and a calibrant to consider a match. Overall Mass Bias Estimation Method used to determine the proper range of errors to perform calibration. If both parameters ( Primary High-Density Range of Errors size and Error range tolerance ) are set to zero, all errors obtained after matching against the reference library of ions are used for calibration of peaks. High-Density Range of Errors Primary High-Density Range of Errors size Determine the range (in PPM) containing most mass errors after matching the detected ions with the ion calibration library. Use zero to skip this step, in such case the distribution is split into subranges containing all the errors within the error tolerance and the largest subrange is used. Error Range Tolerance Maximum distance (in PPM error) between the maximum and minimum thresholds of the Primary High-Density Range of Errors and the consecutive error to allow the extension of the error range. This process continues until the algorithm does not find any consecutive error within the Error Range Tolerance value. Use zero to skip this step and no extension will be computed. Percentile Range of Errors Percentile range Top and bottom percentiles to define the range of errors (Interquartile range) used for mass calibration. Mass Calibration method Method used for mass calibration. Arithmetic mean KNN regression Nearest neighbors\u2019 percentage Percentage of nearest neighbors used for error prediction. - OLS regression Polynomial degree The degree of polynomial trend used, the summand powers of the polynomial will be the OLS regression features. Use 0 for constant component, 1 for linear, 2 for quadratic and so on. Exponential feature When selected, an exponential feature exp(x/10) is included. Logarithmic feature When selected, logarithmic feature ln(x) is included. Examples \u00b6 This module was intially created during a GSoC 2020 project with MZmine by \u0141ukasz Fiszer and MZmine team.","title":"Mass calibration"},{"location":"module_docs/featdet_mass_detection/mass-calibration.html#mass-calibration","text":"","title":"Mass calibration"},{"location":"module_docs/featdet_mass_detection/mass-calibration.html#description","text":"This module should be used after mass detection step is performed. Mass calibration module estimates the measurement error of each detected mass and calibrates them using reference libraries of ions through three main processes: Peak matching with library of reference and extraction of errors, Estimation of overall mass bias, and Mass calibration of detected masses.","title":"Description"},{"location":"module_docs/featdet_mass_detection/mass-calibration.html#reference-library-of-ions","text":"First, mass lists (MS1) from raw data files are matched against a reference library and mass measurement errors are calculated. This module can support two different matching strategies: Standard Calibrant Library (SCL) (recommended method): file needs to be provided by the user in xls, xlsx or csv format). The file needs to include retention time (RT) information and the ion formula of a collection of ions that are expected to appear in the samples analyzed with a known chromatographic method. Ion formulas format of the SCL will depend on the ionization method used to analyze the samples. See below in the \u201cParameters\u201d section a detailed description for the library format. Using a SCL, the matching of measured peaks the matching of measured peaks against the library is performed using both RT and exact m/z. RT and m/z error tolerances are needed to be defined. Note: To ignore RT parameter when using SCL for mass calibration, the parameter can be set with an equal or larger value of the chromatography length (i.e., 30 min). Universal Calibrant Library (UCL) include a collection of ions often found in mass spectrometry experiments. The module has two different lists in positive (+ve) and negative (-ve) ionization modes to be chosen by the user. Universal calibrant lists are based on Keller et al. 2008 Analytica Chimica Acta 627:71-81 and Hawkes et al. 2020 Limnology and Oceanography Methods 18:235-258 . MZmine includes both those libraries. Matching of detected ions against the UCL library is performed using m/z values alone independently where the ions are appearing along the chromatography and only m/z error tolerance will be needed.","title":"Reference library of ions"},{"location":"module_docs/featdet_mass_detection/mass-calibration.html#overall-mass-bias-estimation","text":"Measurement mass errors are calculated based on the matching of detected ions against the library, a distribution of errors is built, and measurement bias is estimated. Because not all ion matches can be considered as correct, the calibration model will automatically identify the high-density mass error range (mass error range with larger number of matches) from the generated distribution of matching errors. For the overall mass bias estimation, two methods can be used: Percentile Range of Errors : The module calculates the Interquartile Range (IQR) from the overall distribution of errors to extract those errors to be used for mass calibration of peaks. IQR can be modified (by default determined at 25th and 75th percentiles). In such case, errors distributed below 25th or above 75th percentile will not be considered for mass calibration of peaks. High-Density Range of Errors : Autonomous method relying on two parameters set by the user. This method is performed relies in two parameters: Primary High-Density Range of Errors size (in PPM) : finds the highest density range of errors (in PPM). The module will find the distribution range containing most mass errors within the set PPM error (i.e., 2 PPM). Error range tolerance (in PPM) : determines how far the distribution range of errors will be extended to extract the errors used for mass calibration. The module will include any consecutive matched error from the most populated error range found within the established error range tolerance (i.e., 0.1PPM). This process continues until the range cannot be extended anymore according to the parameter set. Example:","title":"Overall mass bias estimation"},{"location":"module_docs/featdet_mass_detection/mass-calibration.html#mass-calibration-method","text":"To estimate mass measurement bias more accurately, we can model the trend exhibited by the error size vs m/z value relation obtained by matching the mass peaks. With the estimation model we can shift/calibrate the mass peaks at different particular m/z values more accurately. The module supports two main modes for mass calibration: Arithmetic mean: This method uses the arithmetic mean of the extracted errors of the overall bias estimation. Calibration of peaks will be performed globally based on a single overall bias value. This method is especially recommended for datasets with low number of extracted errors (i.e., blank samples). Regression mode: This mode models a trend from the direct relationship of error size (in PPM) vs. measured m/z of detected peaks. Mass lists will be calibrated according to the estimated model. The mass calibration module supports two different methods of regression: OLS and KNN . OLS (ordinary least squares) regression minimizes the mean squared error between the predicted trend and the datapoints in the dataset. Available features include power features (polynomial trend), logarithmic feature and exponential feature. By default , linear trend is fitted. This mode is suitable for datasets with enough data and exhibit a clear and strong trend (Error vs. m/z). KNN (K-Nearest Neighbors) regression finds the average value of the K nearest neighbors. In this module, the number of neighbors is defined by a percentage set by the user of all the errors present in the dataset. The K closest neighbors are thus found by the absolute difference of the m/z values within such percentage. Then the arithmetic mean of the neighbors' errors is calculated for each individual error and will serve as an error estimate for a specific m/z. This method is suitable for datasets with enough data and a trend between mass error vs. m/z is not clear. Therefore, KNN regression allows the trend to match the dataset closely without introducing additional assumptions on how the variables are related. Overfitting problems at large m/z values (>800) can occur when modeling the errors with regression as those regions commonly have less matches against the reference libraries of ions. If regression is modelled mainly by matches with small m/z ions (<400), it is recommended to use the arithmetic mean for mass calibration. This also applies to blank samples were the number of matched ions is commonly low and regression can produce overfitting problems.","title":"Mass calibration method"},{"location":"module_docs/featdet_mass_detection/mass-calibration.html#parameters","text":"Raw data files The raw datafiles to calibrate. Each selected datafile is calibrated independently in a separate task. Mass list name Name of the mass lists to be calibrated. The mass lists must be previously generated for each scan by the Mass detector module. Intensity threshold Determines the intensity of the peaks used for matching against the library of ions and subsequent mass calibration. Only mass peaks with intensity above this threshold will be considered for calibration. This is useful to avoid certain noise peaks that could have been picked in the Mass Detection module. To consider all peaks, the Intensity Threshold needs to be set with a value equal or lower than the previously used in the Mass Detection module. Duplicate Error Filter Removes duplicate ions with the same m/z value independently of their retention time. If enabled, for a specific detected exact mass present in different scans (not necessarily consecutive), only a single ion with that exact mass value will be considered for calibration. This filter performs for the full list of masses and does not consider RT difference between ions. Reference Library of ions Selects the library used for ion matching and determination of mass errors. SCL and UCL libraries are available. SCL-only parameters Standard Calibrant Library file File with a list of ion formulas and retention times (xls, xlsx and csv files are supported). This list should contain ions that are expected to be detected in the samples. Files need to contain a first column with the retention time in minutes and a second column with the ion formula strings. Additional columns are optional. Sample standards list file: Retention time tolerance (only for SCL) Maximum difference in retention time between an actual measured ion and a calibrant to consider a match. UCL-only parameters Ionization mode Ionization mode for which an appropriate universal calibrants list is used. m/z tolerance Maximum allowed difference in m/z between an actual measured ion and a calibrant to consider a match. Overall Mass Bias Estimation Method used to determine the proper range of errors to perform calibration. If both parameters ( Primary High-Density Range of Errors size and Error range tolerance ) are set to zero, all errors obtained after matching against the reference library of ions are used for calibration of peaks. High-Density Range of Errors Primary High-Density Range of Errors size Determine the range (in PPM) containing most mass errors after matching the detected ions with the ion calibration library. Use zero to skip this step, in such case the distribution is split into subranges containing all the errors within the error tolerance and the largest subrange is used. Error Range Tolerance Maximum distance (in PPM error) between the maximum and minimum thresholds of the Primary High-Density Range of Errors and the consecutive error to allow the extension of the error range. This process continues until the algorithm does not find any consecutive error within the Error Range Tolerance value. Use zero to skip this step and no extension will be computed. Percentile Range of Errors Percentile range Top and bottom percentiles to define the range of errors (Interquartile range) used for mass calibration. Mass Calibration method Method used for mass calibration. Arithmetic mean KNN regression Nearest neighbors\u2019 percentage Percentage of nearest neighbors used for error prediction. - OLS regression Polynomial degree The degree of polynomial trend used, the summand powers of the polynomial will be the OLS regression features. Use 0 for constant component, 1 for linear, 2 for quadratic and so on. Exponential feature When selected, an exponential feature exp(x/10) is included. Logarithmic feature When selected, logarithmic feature ln(x) is included.","title":"Parameters"},{"location":"module_docs/featdet_mass_detection/mass-calibration.html#examples","text":"This module was intially created during a GSoC 2020 project with MZmine by \u0141ukasz Fiszer and MZmine team.","title":"Examples"},{"location":"module_docs/featdet_mass_detection/mass-detection-algorithms.html","text":"Mass detection algorithms \u00b6 Mass detection can be done with the following six algorithms: Centroid Factor of the lowest signal Exact mass Local maxima Recursive threshold Wavelet transform Auto Centroid \u00b6 Centroid algorithm assumes that each signal above a given noise level is a detected ion. This mass detector is suitable for already centroided data. Factor of the lowest signal \u00b6 Description This mass detector is suitable for already centroided data. It removes all data points below a spectrums lowest intensity multiplied by a factor. Exact mass \u00b6 This mass detector first searches for all local maxima within the spectrum, which then form candidate ions. This method calculates the exact mass of a peak using the FWHM (full width at half maximum) concept and linear equation ( y = mx + b ). FWHM is the difference between the two values of the independent variable at which the dependent variable equals half of its maximum value. First, the method locates the data points located nearest to the peak center at half of the maximum intensity (P1, P2, P3, P4). With these four points it calculates two points (cP1, cP2) that define the width of the peak. The exact mass is then obtained as the center of the width. This method is suitable for high-resolution MS data, such as provided by FTMS instruments. \ud83d\udca1 Tip : The exact mass algorithm is highly recommended for profile MS data. \ud83d\udca1 Tip If the continous data is too noisy, one can use recursive threshold algorithm. Local maxima \u00b6 This very simple mass detector detects all local maxima within the spectrum, except the signals below the given noise level. The practical usability of this method on real MS data is limited, but it is useful to demonstrate and understand the functionality of mass detection using the preview plot. Recursive threshold \u00b6 The algorithm finds all m/z ranges within the given limit in a recursive way. Initially, it looks at the whole range of data points. If the m/z width of this range is not within given limits, a minimum data point is found and used to split the range in two parts. The same algorithm is then applied recursively on each part. Recursion continues until all m/z ranges fitting into the given width limits are found. Final m/z values are determined as local maxima of the identified m/z ranges. This mass detector is suitable for continuous data, which has too much noise for the Exact mass detector to be used, but which shows a consistent width of m/z peaks. Additional method parameters \u00b6 Min m/z peak width : Minimum acceptable peak width in m/z. Max m/z peak width : Maximum acceptable peak width in m/z. \ud83d\udca1 Tip Recursive threshold method can be used with the noisy continuous data that shows a consistent width of m/z peaks. Wavelet transform \u00b6 The method uses the Mexican Hat wavelet model of the continuous wavelet transform ( CWT ) algorithm. The search of mass spectrum peaks is executed in three steps. First, the data point intesity is converted into wavelet domain. Second, all the local maxima of the calculated wavelet are found. Finally, m/z peaks (ions) are declared in those points, where the wavelet has a local maximum. The m/z peak is formed with the selected data point (mass and intensity) using the wavelet and all surrounding data points. The final m/z value of the ion is calculated as an average of m/z values of surrounding data points weighted by their intensity. Mathematical model \u00b6 In numerical analysis, the Mexican hat wavelet is the normalized second derivative of a Gaussian function. \\[\\psi(t)=\\frac{1}{\\sqrt{2\\pi}\\sigma^3} \\left( 1-\\frac{t^2}{\\sigma^2} \\right)e^{-\\frac{t^2}{2\\sigma^2}}\\] The parameter \\(t\\) is the intensity of each data point in the curve, and \\(\\sigma\\) corresponds to the standard deviation. To simplify the process of wavelet calculation, the original function is transformed into two parts, where \\(W_{c}\\) is the wavelet coefficient and \\(y\\) is the intensity of the wavelet at certain point. In the following formula, \\(t\\) corresponds to the Wavelet window size (%) parameter. \\[W_{c}=\\left[\\frac{2}{\\sqrt{3}\\pi^\\frac{1}{4}}\\left(1-t^2\\right)e^-\\frac{t^2}{2}\\right]\\] \\[ y=\\lim_{LL \\to UL}(W_{c}x)\\] The lower (LL) and upper (UL) limits, where the Mexican Hat wavelet is evaluated, are from -5 until 5. The incremental step used in this range is the result of limits range division by 60,000. Additional method parameters \u00b6 Scale level Number of wavelet coeficients to use in m/z feature detection. Serves as the scale factor that either dilates or compresses the wavelet signal. When the scale factor is relatively low, the signal is more contracted, which results in a more detailed resulting graph and more noisy peaks are detected. On the other hand, when the scale factor is high, the signal is stretched out, which means that the resulting graph will be less detailed with a smoothed signal. Wavelet window size (%) The size of the window used to calculated the wavelet signal. When the size of the window is small, more noisy peaks can be detected. The proper value of this parameter may help to avoid the undesired noise peaks. \ud83d\udca1 Tip The Wavelet transform mass detector is particularly suitable for low-resolution and noisy data. Auto \u00b6 Auto mass detector recognizes if the spectrum is of profile or centroided data type and applies centroid or exact mass algorithms correspondingly.","title":"Mass detection algorithms"},{"location":"module_docs/featdet_mass_detection/mass-detection-algorithms.html#mass-detection-algorithms","text":"Mass detection can be done with the following six algorithms: Centroid Factor of the lowest signal Exact mass Local maxima Recursive threshold Wavelet transform Auto","title":"Mass detection algorithms"},{"location":"module_docs/featdet_mass_detection/mass-detection-algorithms.html#centroid","text":"Centroid algorithm assumes that each signal above a given noise level is a detected ion. This mass detector is suitable for already centroided data.","title":"Centroid"},{"location":"module_docs/featdet_mass_detection/mass-detection-algorithms.html#factor-of-the-lowest-signal","text":"Description This mass detector is suitable for already centroided data. It removes all data points below a spectrums lowest intensity multiplied by a factor.","title":"Factor of the lowest signal"},{"location":"module_docs/featdet_mass_detection/mass-detection-algorithms.html#exact-mass","text":"This mass detector first searches for all local maxima within the spectrum, which then form candidate ions. This method calculates the exact mass of a peak using the FWHM (full width at half maximum) concept and linear equation ( y = mx + b ). FWHM is the difference between the two values of the independent variable at which the dependent variable equals half of its maximum value. First, the method locates the data points located nearest to the peak center at half of the maximum intensity (P1, P2, P3, P4). With these four points it calculates two points (cP1, cP2) that define the width of the peak. The exact mass is then obtained as the center of the width. This method is suitable for high-resolution MS data, such as provided by FTMS instruments. \ud83d\udca1 Tip : The exact mass algorithm is highly recommended for profile MS data. \ud83d\udca1 Tip If the continous data is too noisy, one can use recursive threshold algorithm.","title":"Exact mass"},{"location":"module_docs/featdet_mass_detection/mass-detection-algorithms.html#local-maxima","text":"This very simple mass detector detects all local maxima within the spectrum, except the signals below the given noise level. The practical usability of this method on real MS data is limited, but it is useful to demonstrate and understand the functionality of mass detection using the preview plot.","title":"Local maxima"},{"location":"module_docs/featdet_mass_detection/mass-detection-algorithms.html#recursive-threshold","text":"The algorithm finds all m/z ranges within the given limit in a recursive way. Initially, it looks at the whole range of data points. If the m/z width of this range is not within given limits, a minimum data point is found and used to split the range in two parts. The same algorithm is then applied recursively on each part. Recursion continues until all m/z ranges fitting into the given width limits are found. Final m/z values are determined as local maxima of the identified m/z ranges. This mass detector is suitable for continuous data, which has too much noise for the Exact mass detector to be used, but which shows a consistent width of m/z peaks.","title":"Recursive threshold"},{"location":"module_docs/featdet_mass_detection/mass-detection-algorithms.html#additional-method-parameters","text":"Min m/z peak width : Minimum acceptable peak width in m/z. Max m/z peak width : Maximum acceptable peak width in m/z. \ud83d\udca1 Tip Recursive threshold method can be used with the noisy continuous data that shows a consistent width of m/z peaks.","title":"Additional method parameters"},{"location":"module_docs/featdet_mass_detection/mass-detection-algorithms.html#wavelet-transform","text":"The method uses the Mexican Hat wavelet model of the continuous wavelet transform ( CWT ) algorithm. The search of mass spectrum peaks is executed in three steps. First, the data point intesity is converted into wavelet domain. Second, all the local maxima of the calculated wavelet are found. Finally, m/z peaks (ions) are declared in those points, where the wavelet has a local maximum. The m/z peak is formed with the selected data point (mass and intensity) using the wavelet and all surrounding data points. The final m/z value of the ion is calculated as an average of m/z values of surrounding data points weighted by their intensity.","title":"Wavelet transform"},{"location":"module_docs/featdet_mass_detection/mass-detection-algorithms.html#mathematical-model","text":"In numerical analysis, the Mexican hat wavelet is the normalized second derivative of a Gaussian function. \\[\\psi(t)=\\frac{1}{\\sqrt{2\\pi}\\sigma^3} \\left( 1-\\frac{t^2}{\\sigma^2} \\right)e^{-\\frac{t^2}{2\\sigma^2}}\\] The parameter \\(t\\) is the intensity of each data point in the curve, and \\(\\sigma\\) corresponds to the standard deviation. To simplify the process of wavelet calculation, the original function is transformed into two parts, where \\(W_{c}\\) is the wavelet coefficient and \\(y\\) is the intensity of the wavelet at certain point. In the following formula, \\(t\\) corresponds to the Wavelet window size (%) parameter. \\[W_{c}=\\left[\\frac{2}{\\sqrt{3}\\pi^\\frac{1}{4}}\\left(1-t^2\\right)e^-\\frac{t^2}{2}\\right]\\] \\[ y=\\lim_{LL \\to UL}(W_{c}x)\\] The lower (LL) and upper (UL) limits, where the Mexican Hat wavelet is evaluated, are from -5 until 5. The incremental step used in this range is the result of limits range division by 60,000.","title":"Mathematical model"},{"location":"module_docs/featdet_mass_detection/mass-detection-algorithms.html#additional-method-parameters_1","text":"Scale level Number of wavelet coeficients to use in m/z feature detection. Serves as the scale factor that either dilates or compresses the wavelet signal. When the scale factor is relatively low, the signal is more contracted, which results in a more detailed resulting graph and more noisy peaks are detected. On the other hand, when the scale factor is high, the signal is stretched out, which means that the resulting graph will be less detailed with a smoothed signal. Wavelet window size (%) The size of the window used to calculated the wavelet signal. When the size of the window is small, more noisy peaks can be detected. The proper value of this parameter may help to avoid the undesired noise peaks. \ud83d\udca1 Tip The Wavelet transform mass detector is particularly suitable for low-resolution and noisy data.","title":"Additional method parameters"},{"location":"module_docs/featdet_mass_detection/mass-detection-algorithms.html#auto","text":"Auto mass detector recognizes if the spectrum is of profile or centroided data type and applies centroid or exact mass algorithms correspondingly.","title":"Auto"},{"location":"module_docs/featdet_mass_detection/mass-detection.html","text":"Mass detection \u00b6 The mass detection module generates a mass list ( i.e. list of m/z values and correspoinding signal intensities) for each scan, in each raw data file. During the mass detection, profile raw data are centroided and a noise filtering is performed based on a user-defined threshold (see Setting the noise level ). Parameters settings \u00b6 Raw data methods \u2192 Mass detection \u2192 Mass detection Raw data files \u00b6 Select the input raw data files for the mass detection. All the imported data files can be processed in bulk ( i.e. All raw data files ), or a subset can be selected directly from the MS data files panel ( i.e. As selected in the main window ) or based on the filename ( i.e. File name pattern ) As an alternative, the files' directory can be also specified ( i.e. Specific raw data files ). Finally, if the Those created by previous batch step option is selected, MZmine takes the output of the last processing step as input. This option is only avaialble for batch processing . Scans \u00b6 Select (or filter out) the MS scans to be processed. Several filters are available ( Select filters button). A scan number, RT and mobility range can be set ( i.e Scan number , Retention time and Mobility options); only the scans belonging to the defined range(s) will be processed. The Base Filtering Integer option allows to prcesses one every- N scans. The Scan definition field can be used to filter scans based on the scan's description normally included in the raw file's metadata ( e.g. FTMS). Scans can also be filtered by MS level ( i.e. 1, 2, ..., N ), polarity and spectrum type ( i.e. Centroided, Profile and Thresholded). Scan types (IMS) \u00b6 This parameter applies only to IM data and determines if mobility scans , frame scans or both ( i.e. All scan types ) are processed. For more details about mobility and frame scans , see here . Tip . Since frame scans are obtained by merging multiple mobility scans , the noise thresholds will likely be different. However, only one noise level can be set per processing step. Therefore, if one wants to run the mass detection for mobility and frame scans using different noise cutoffs, two module calls are required. As an alternative, mass detection can be performed only on the mobility scans by selecteing the appropriate noise level. Mobility scans can then be merged into frame scans with a dedicated module . Mass detector \u00b6 Select the algorithm to be used for the mass detection. Several mass detection algorithms are available and can be selected in the drop-down menu. The choice depends on the raw data characteristics (profile/centroided, mass resolution, etc.). The Centroid algorithm must be used for already-centroided data. A step-by-step guide to convert profile into centroided data is provided in the GNPS documentation Other algorithms are available for profile raw data and are described in more details here . The Exact mass algorithm is highly recommended for profile HRMS data. When Auto is selected, the Centroid and Exact mass algorithms are used by default for centroided and profile data, respectively. Setting the noise level \u00b6 All the mass detection algorithms allow to set a threshold for the noise filtering ( i.e. Noise level ) by hitting the Setup button next to the Mass detector field. A dialog box like the following will open up: The noise threshold can be entered either in standard or scientific notation. By checking the Show preview box, an interactive visualization panel will open to help the user to adjust the noise level (see also How do I determine the noise level in my data? ). The red dots denotes the mass signals retained in the mass list according to the set threshold. Different data files and scan numbers can be visualized using the corresponding drop-down menus. Detect isotope signals below noise level \u00b6 The Centroid and Exact mass algorithms provide the option to retain signals that are below the noise level (and would be otherwise discarded), but correspond to isotopes of the detected masses. Theoretical isotopic distributions are calculated for each mass detected in the mass list based on the speciefied chemical elements. If a signal below the noise threshold that matches a theoretical isotopic mass is found in the raw data, it will be included in the final mass list. Tip . In the case of LC-MS data processing, the low-intensity isotope signals included in the final mass list will undergo the whole feature detection workflow (see, for example, LC-MS data processing workflow . Due to the low intensity, these masses often produce LC peaks with poor peak shape during the chromatogram building step and might be discarded if they do not meet the user-defined parameters ( e.g. minimum number of data points and intensity, see ADAP chromatogram builder for more details). Therefore, it might be advisable not to use this option during the mass detection, but rather use the Isotope finder module (CREATE DOC) By ticking the corresponding checkbox and hitting the Setup button, the following dialog box opens up: Chemical elements \u00b6 Elements considered when generating the isotopic distributions. Select the elements from the periodic table by hitting the Setup button. m/z tolerance \u00b6 Maximum allowed difference between measured and theoretical isotope m/z . It is an intra-scan m/z tolerance . The tolerance can be set in m/z , ppm or both. Since mass deviations expressed in ppm are dependent on the m/z ( e.g. higher at low m/z and lower at high m/z ), MZmine automatically uses the largest tolerance. Maximum charge of isotope m/z \u00b6 Maximum allowed charge state of the isotope to be retained in the mass list. Default value is 1. How do I determine the noise level in my data? \u00b6 The backgorund noise level largely depends on the mass spectrometer and detector type. For example, Orbitrap instruments normally provides higher signal intensities than TOF devices. To provide some numbers, while 1.0E2 - 1.0E3 could be an appropriate noise level for TOF analyzers, the same would be overly low for Orbitrap instruments (which normally require 1.0E4 - 1.0E5). The best way to determine the instrumental noise level is undoubtedly by looking at the raw data. The backgorund noise (often referred to as \"grass\" in technical jargon) is characterized by several signals having the same intensity and no clear pattern among them (see Figure). Since these signals are produced by electrical and/or mechanical noise, rather than actual ions being detected, they should be excluded from the mass detection and downstream data processing. The red dashed line in the figure corresponds to a hypothetical noise level (1.0E4 in this case) that would filter out most of the \"grass\"-type noise from the mass detection. Another way, more releant for the fearure detection, to determine the noise level consists of picking a mid-intensity LC peak and extract the EICs of its 13C isotopes. When the chromatographic peak shape starts to deteriorate, it means we are approaching the instrument detection limit (see Figure). Such approach can also be useful to determine other parameters in the feature detection such as the Group intensity threshold and Min highest intensity parameters in the ADAP chromatogram builder module.","title":"Mass detection"},{"location":"module_docs/featdet_mass_detection/mass-detection.html#mass-detection","text":"The mass detection module generates a mass list ( i.e. list of m/z values and correspoinding signal intensities) for each scan, in each raw data file. During the mass detection, profile raw data are centroided and a noise filtering is performed based on a user-defined threshold (see Setting the noise level ).","title":"Mass detection"},{"location":"module_docs/featdet_mass_detection/mass-detection.html#parameters-settings","text":"Raw data methods \u2192 Mass detection \u2192 Mass detection","title":"Parameters settings"},{"location":"module_docs/featdet_mass_detection/mass-detection.html#raw-data-files","text":"Select the input raw data files for the mass detection. All the imported data files can be processed in bulk ( i.e. All raw data files ), or a subset can be selected directly from the MS data files panel ( i.e. As selected in the main window ) or based on the filename ( i.e. File name pattern ) As an alternative, the files' directory can be also specified ( i.e. Specific raw data files ). Finally, if the Those created by previous batch step option is selected, MZmine takes the output of the last processing step as input. This option is only avaialble for batch processing .","title":"Raw data files"},{"location":"module_docs/featdet_mass_detection/mass-detection.html#scans","text":"Select (or filter out) the MS scans to be processed. Several filters are available ( Select filters button). A scan number, RT and mobility range can be set ( i.e Scan number , Retention time and Mobility options); only the scans belonging to the defined range(s) will be processed. The Base Filtering Integer option allows to prcesses one every- N scans. The Scan definition field can be used to filter scans based on the scan's description normally included in the raw file's metadata ( e.g. FTMS). Scans can also be filtered by MS level ( i.e. 1, 2, ..., N ), polarity and spectrum type ( i.e. Centroided, Profile and Thresholded).","title":"Scans"},{"location":"module_docs/featdet_mass_detection/mass-detection.html#scan-types-ims","text":"This parameter applies only to IM data and determines if mobility scans , frame scans or both ( i.e. All scan types ) are processed. For more details about mobility and frame scans , see here . Tip . Since frame scans are obtained by merging multiple mobility scans , the noise thresholds will likely be different. However, only one noise level can be set per processing step. Therefore, if one wants to run the mass detection for mobility and frame scans using different noise cutoffs, two module calls are required. As an alternative, mass detection can be performed only on the mobility scans by selecteing the appropriate noise level. Mobility scans can then be merged into frame scans with a dedicated module .","title":"Scan types (IMS)"},{"location":"module_docs/featdet_mass_detection/mass-detection.html#mass-detector","text":"Select the algorithm to be used for the mass detection. Several mass detection algorithms are available and can be selected in the drop-down menu. The choice depends on the raw data characteristics (profile/centroided, mass resolution, etc.). The Centroid algorithm must be used for already-centroided data. A step-by-step guide to convert profile into centroided data is provided in the GNPS documentation Other algorithms are available for profile raw data and are described in more details here . The Exact mass algorithm is highly recommended for profile HRMS data. When Auto is selected, the Centroid and Exact mass algorithms are used by default for centroided and profile data, respectively.","title":"Mass detector"},{"location":"module_docs/featdet_mass_detection/mass-detection.html#setting-the-noise-level","text":"All the mass detection algorithms allow to set a threshold for the noise filtering ( i.e. Noise level ) by hitting the Setup button next to the Mass detector field. A dialog box like the following will open up: The noise threshold can be entered either in standard or scientific notation. By checking the Show preview box, an interactive visualization panel will open to help the user to adjust the noise level (see also How do I determine the noise level in my data? ). The red dots denotes the mass signals retained in the mass list according to the set threshold. Different data files and scan numbers can be visualized using the corresponding drop-down menus.","title":"Setting the noise level"},{"location":"module_docs/featdet_mass_detection/mass-detection.html#detect-isotope-signals-below-noise-level","text":"The Centroid and Exact mass algorithms provide the option to retain signals that are below the noise level (and would be otherwise discarded), but correspond to isotopes of the detected masses. Theoretical isotopic distributions are calculated for each mass detected in the mass list based on the speciefied chemical elements. If a signal below the noise threshold that matches a theoretical isotopic mass is found in the raw data, it will be included in the final mass list. Tip . In the case of LC-MS data processing, the low-intensity isotope signals included in the final mass list will undergo the whole feature detection workflow (see, for example, LC-MS data processing workflow . Due to the low intensity, these masses often produce LC peaks with poor peak shape during the chromatogram building step and might be discarded if they do not meet the user-defined parameters ( e.g. minimum number of data points and intensity, see ADAP chromatogram builder for more details). Therefore, it might be advisable not to use this option during the mass detection, but rather use the Isotope finder module (CREATE DOC) By ticking the corresponding checkbox and hitting the Setup button, the following dialog box opens up:","title":"Detect isotope signals below noise level"},{"location":"module_docs/featdet_mass_detection/mass-detection.html#chemical-elements","text":"Elements considered when generating the isotopic distributions. Select the elements from the periodic table by hitting the Setup button.","title":"Chemical elements"},{"location":"module_docs/featdet_mass_detection/mass-detection.html#mz-tolerance","text":"Maximum allowed difference between measured and theoretical isotope m/z . It is an intra-scan m/z tolerance . The tolerance can be set in m/z , ppm or both. Since mass deviations expressed in ppm are dependent on the m/z ( e.g. higher at low m/z and lower at high m/z ), MZmine automatically uses the largest tolerance.","title":"m/z tolerance"},{"location":"module_docs/featdet_mass_detection/mass-detection.html#maximum-charge-of-isotope-mz","text":"Maximum allowed charge state of the isotope to be retained in the mass list. Default value is 1.","title":"Maximum charge of isotope m/z"},{"location":"module_docs/featdet_mass_detection/mass-detection.html#how-do-i-determine-the-noise-level-in-my-data","text":"The backgorund noise level largely depends on the mass spectrometer and detector type. For example, Orbitrap instruments normally provides higher signal intensities than TOF devices. To provide some numbers, while 1.0E2 - 1.0E3 could be an appropriate noise level for TOF analyzers, the same would be overly low for Orbitrap instruments (which normally require 1.0E4 - 1.0E5). The best way to determine the instrumental noise level is undoubtedly by looking at the raw data. The backgorund noise (often referred to as \"grass\" in technical jargon) is characterized by several signals having the same intensity and no clear pattern among them (see Figure). Since these signals are produced by electrical and/or mechanical noise, rather than actual ions being detected, they should be excluded from the mass detection and downstream data processing. The red dashed line in the figure corresponds to a hypothetical noise level (1.0E4 in this case) that would filter out most of the \"grass\"-type noise from the mass detection. Another way, more releant for the fearure detection, to determine the noise level consists of picking a mid-intensity LC peak and extract the EICs of its 13C isotopes. When the chromatographic peak shape starts to deteriorate, it means we are approaching the instrument detection limit (see Figure). Such approach can also be useful to determine other parameters in the feature detection such as the Group intensity threshold and Min highest intensity parameters in the ADAP chromatogram builder module.","title":"How do I determine the noise level in my data?"},{"location":"module_docs/featdet_mobility_scan_merging/mobility-scan-merging.html","text":"Mobility scan merging \u00b6 Description \u00b6 File merging \u2192 Mobility scan merging This module merges mobility scans in each single ion mobility data file at the same retention time to a summed frame spectrum. The merged frame spectrum is used if a *.mzML file is imported. The merged frame spectrum is required to gain access to MZmine's LC-MS functionality. This step uses the centroided and thresholded data produced by the mass detection step. This step is not required when importing native Bruker .tdf or .tsf data from .d folders. When importing native Bruker data, a merged spectrum for the frame is created automatically by the vendor library. Parameters \u00b6 Raw data files Raw data files the module will take as an input. Noise level Data points beyond the defined noise level threshold will be ignored. Merging type The way to calculate intensities. Intensities can be either averaged, summed, or the maximum value can be chosen. m/z weighing Chosen function is used to weigh m/z values by their intensities. The available options are: None, Linear, log10, log2, square root, or cube root. Scans Selects the scans that should be included. m/z tolerance Maximum allowed difference between two m/z values in order for them to be considered the same.","title":"Mobility scan merging"},{"location":"module_docs/featdet_mobility_scan_merging/mobility-scan-merging.html#mobility-scan-merging","text":"","title":"Mobility scan merging"},{"location":"module_docs/featdet_mobility_scan_merging/mobility-scan-merging.html#description","text":"File merging \u2192 Mobility scan merging This module merges mobility scans in each single ion mobility data file at the same retention time to a summed frame spectrum. The merged frame spectrum is used if a *.mzML file is imported. The merged frame spectrum is required to gain access to MZmine's LC-MS functionality. This step uses the centroided and thresholded data produced by the mass detection step. This step is not required when importing native Bruker .tdf or .tsf data from .d folders. When importing native Bruker data, a merged spectrum for the frame is created automatically by the vendor library.","title":"Description"},{"location":"module_docs/featdet_mobility_scan_merging/mobility-scan-merging.html#parameters","text":"Raw data files Raw data files the module will take as an input. Noise level Data points beyond the defined noise level threshold will be ignored. Merging type The way to calculate intensities. Intensities can be either averaged, summed, or the maximum value can be chosen. m/z weighing Chosen function is used to weigh m/z values by their intensities. The available options are: None, Linear, log10, log2, square root, or cube root. Scans Selects the scans that should be included. m/z tolerance Maximum allowed difference between two m/z values in order for them to be considered the same.","title":"Parameters"},{"location":"module_docs/featdet_ms2_scan_pairing/ms2_scan_pairing.html","text":"MS2 Scan Pairing \u00b6 Description Parameters settings \u00b6 Feature list methods \u2192 Processing \u2192 Assign MS2 to feature Retention time tolerance \u00b6 To-do MS1 to MS2 precursor tolerance (m/z) \u00b6 To-do Limit by RT edges \u00b6 To-do Combine MS/MS spectra (TIMS) \u00b6 To-do Lock to feature mobility range \u00b6 To-do Minimum merged intensity \u00b6 To-do","title":"MS2 scan paring"},{"location":"module_docs/featdet_ms2_scan_pairing/ms2_scan_pairing.html#ms2-scan-pairing","text":"Description","title":"MS2 Scan Pairing"},{"location":"module_docs/featdet_ms2_scan_pairing/ms2_scan_pairing.html#parameters-settings","text":"Feature list methods \u2192 Processing \u2192 Assign MS2 to feature","title":"Parameters settings"},{"location":"module_docs/featdet_ms2_scan_pairing/ms2_scan_pairing.html#retention-time-tolerance","text":"To-do","title":"Retention time tolerance"},{"location":"module_docs/featdet_ms2_scan_pairing/ms2_scan_pairing.html#ms1-to-ms2-precursor-tolerance-mz","text":"To-do","title":"MS1 to MS2 precursor tolerance (m/z)"},{"location":"module_docs/featdet_ms2_scan_pairing/ms2_scan_pairing.html#limit-by-rt-edges","text":"To-do","title":"Limit by RT edges"},{"location":"module_docs/featdet_ms2_scan_pairing/ms2_scan_pairing.html#combine-msms-spectra-tims","text":"To-do","title":"Combine MS/MS spectra (TIMS)"},{"location":"module_docs/featdet_ms2_scan_pairing/ms2_scan_pairing.html#lock-to-feature-mobility-range","text":"To-do","title":"Lock to feature mobility range"},{"location":"module_docs/featdet_ms2_scan_pairing/ms2_scan_pairing.html#minimum-merged-intensity","text":"To-do","title":"Minimum merged intensity"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html","text":"Local Minimum Resolver \u00b6 During the EICs building, overlapping and partially co-eluting peaks are retained as single features in the feature list (see, for example, ADAP chromatogram builder ). The local minimum resolver module aims at splitting such \"shoulder\" LC peaks into individual features ( i.e. chromatographic resolving ) based on local minima. In fact, a local minimum in the EIC trace might correspond to the valley between two adjacent, partially-resolved peaks. The algorithm examines all the data points in the EIC trace starting from the earliest RT. A scan window is set (see Minimum search range RT/Mobility parameter) and centered around the examined data point. A data point is considered a local minimum if it is the lowest intense point within the scan window. When a local minumum is found, a set of user-defined intensity and peak duration requirements is checked. If they are fulfilled, the original overlapping peaks are split into new, distinct features. The LMR is particularly suitable for LC-MS data with little noise and nice peak shapes. With the implementation of ion mobility (IM) support in MZmine 3, this module was expanded and can now be applied over both the RT and IM dimensions (see Resolving the ion mobility dimension ). Parameters settings \u00b6 Feature detection \u2192 Chromatogram resolving \u2192 Local minimum resolver Suffix \u00b6 String added as suffix to when creating the new feature list(s). Original feature list \u00b6 Keep or remove the input feature list(s). The PROCESS IN PLACE option directly filter the input feature list and performs better in terms of memory usage; therefore, it is recommended over REMOVE , when available. MS/MS scan pairing \u00b6 Pair MS/MS fragmentation spectra collected in DDA mode to the resolved features. This is optional at this stage as the same can be done later in the pipeline using a separate module . See MS2 scan pairing documentation for more details. Dimension \u00b6 Dimension to be resolved. Select Retention time or Mobility to run the module over the RT or IM dimension, respectively. Chromatographic threshold \u00b6 Percentage of data points in the EIC removed before local minima search. This represents an important filter for noisy chromatogram and significantly reduces the precessing time. The algorithm finds the intensity value (threshold) that leaves the specified percentage of data points in the EIC trace below XXX. All such data points are removed. For example, a Chromatographic threshold = 50% will discard the lowest-intense 50% data points in the EIC trace. \ud83d\udca1 Tip . It must be noted that the algorithm examines the EICs throughout the entire RT range ( i.e. also the zero data points are considered). Therefore, we recommend to set this value rather high ( e.g. 90-95%) and lower it only if needed. \ud83d\udca1 Tip . When resolving the ion mobility dimension , we recommend to lower this settings to no more than 80% since mobilograms contains less data points than regular LC traces. Minimum search range RT/Mobility (absolute) \u00b6 Size of the RT, or mobility, window examined for local minimum search. An overly narrow search range can cause peak edges to be cut off, whereas a too wide search ranges might lead to an incomplete resolution of narrowly eluting peaks (see example below). \ud83d\udca1 Tip . A shorter Minimum search range is generally needed when resolving the ion mobility dimension . Minimum relative height \u00b6 Minimum relative intensity (respect to the highest data point in the EIC) a peak need to reach to be retained as a feature. This parameter can be used in combination with the Minimum absolute height ) setting as to filter the resolved features to be retained. Many users prefer to rely only on the Minimum absolute height as it is more straightforward to set. To do so, set the Minimum relative height = 0 and the parameter will be ignored. \ud83d\udca1 Tip . Modern mass spectrometers provides linear dynamic ranges up to 5 orders of magnitude. If we take an Orbitrap device with a detector saturation around 1.0E10 intensity, a Minimum relative height = 0.001 would correspond to a 1.0E5 minimum intensity. Minimum absolute height \u00b6 Minimum absolute intensity a peak needs to reach to be retained as a feature. This parameter is very similar to the Min highest intensity settings in the ADAP chromatogram builder module and the same concepts apply. \ud83d\udca1 Tip . When resolving the RT dimension, the same value used as Min highest intensity in the EICs building can normally be used here. \ud83d\udca1 Tip . While frame scans are examined over the RT dimension, mobility scans are examined over the IM dimension. Therefore, this parameter might need to be adjested accordingly when resolving the ion mobility dimension . Min ratio of peak top/edge \u00b6 Minimum ratio between the intensity of the highest (apex) and side (left and right 'edges') points of a peak, to retain it as a feature. The peak edges have to be X times less intense than the peak apex for the feature to be retained. The purpose of this parameter is to reduce the detection of false local minima when the exaimend trace (EIC or mobilogram ) is not smooth. In general, this mainly affects low intensity and not-baseline-resolved signals \ud83d\udca1 Tip . This parameter can best be optimized using the Show preview option. We recommend values between 1.7 (not baseline separated) and 2 to start the optimisation. Peak durantion range (min/mobility) \u00b6 Range of acceptable peak length expressed in minutes (RT dimension) or absolute units (mobility dimension). This parameter can be used to filter out noisy features based on their overly short (or long) duration. Min # of data points \u00b6 Minimum number of data points a resolved peak needs to have to be considered valid and retained as a feature. This parameter can be used along with the Peak duration range setting as peak duration constraint to filter out noisy features. \ud83d\udca1 Tip . This parameter is very similar to the Min group size in # of scans settings in the ADAP chromatogram builder module and the same value can normally be used here (usually, no less than 4-5). \ud83d\udca1 Tip . A feature in the IM dimension is normally made up of more data points than regular LC peaks. Therefore, a higher Min # of data points can be set when resolving the ion mobility dimension to filter out noisy features. Show preview \u00b6 By checking this box, an interactive visualization panel will open to help the user to adjust the algorithm parameters. Two EIC traces can be dispalyed simoultaneously in two sub-panels to assess the impact of chosen settings on both \"good\" and \"noisy\" EIC traces. The feature list and EIC traces to display can be selected from the corresponding drop-down menus. A noisy EIC can generally be found by sorting the feature table by decreasing area, or by looking at the height/area ratio provided for each feature in the top sub-panel (noisy EIC tend to have low height/area ratios). We recommend optimising the parameters on good EICs and checking the results of these parameters with a noisy EIC. Resolving the ion mobility dimension \u00b6 This same module can be used to resolve features co-eluting in the RT dimension, based on their ion mobility. The same concepts apply as in the resolution of the RT dimension. However, mobilograms are examined instead of EIC traces and the same settings used for the RT dimension might not be optimal when resolving IM data. In particular, the following aspects should be born in mind: While frame scans are examined over the RT dimension, mobility scans are considered over the IM dimension. As explained here , frame scans are essentially obtained by merging the mobility scans acquired over an IM accumulation. Therefore, it might be necessary to adjust parameters like Minimum absolute height or Min ratio of peak top/edge to account for the lower signal intensity of mobility scans . Mobilograms are recalculated from raw data, even though a smoothing step was previously applied. Non-smoothed mobiligrams tend to be more jagged than regular EIC traces (see Figure). Threfore, some parameters ( e.g. Min search range and ( e.g. Min ratio of peak top/edge ) should be adjusted accordingly. Mobilograms contain less scans ( e.g. \u2248400-1000 per frame , depending on instrument type and acquisition settings) compared to regular EICs ( e.g. \u22484500 scans for 15 minutes LC run and scan rate of 0.2 seconds). Therefore, a lower chromatographic threshold ( e.g. 80%) is recommended to avoid relevant data points in the mobilogram being discarded. On the other hand, a single feature in the IM dimension is normally made up of more data points than regular LC peaks, due to the different timescale the IM separation is performed on (see here for more details). Therefore, a higher Min # of data points can be set when resolving the ion mobility dimension to filter out noisy features. Different vendors use different units of mobility. For instance, TIMS express ions' mobility as Vs/cm 2 , whereas time dispersive IM devices (DTIMS and TWIMS) use the ions' drift time (expressed in milliseconds). TIMS values are numerically smaller than DTIMS or TWIMS; therefore, the minimum search range parameter should be adjusted accordingly.","title":"Resolving"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#local-minimum-resolver","text":"During the EICs building, overlapping and partially co-eluting peaks are retained as single features in the feature list (see, for example, ADAP chromatogram builder ). The local minimum resolver module aims at splitting such \"shoulder\" LC peaks into individual features ( i.e. chromatographic resolving ) based on local minima. In fact, a local minimum in the EIC trace might correspond to the valley between two adjacent, partially-resolved peaks. The algorithm examines all the data points in the EIC trace starting from the earliest RT. A scan window is set (see Minimum search range RT/Mobility parameter) and centered around the examined data point. A data point is considered a local minimum if it is the lowest intense point within the scan window. When a local minumum is found, a set of user-defined intensity and peak duration requirements is checked. If they are fulfilled, the original overlapping peaks are split into new, distinct features. The LMR is particularly suitable for LC-MS data with little noise and nice peak shapes. With the implementation of ion mobility (IM) support in MZmine 3, this module was expanded and can now be applied over both the RT and IM dimensions (see Resolving the ion mobility dimension ).","title":"Local Minimum Resolver"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#parameters-settings","text":"Feature detection \u2192 Chromatogram resolving \u2192 Local minimum resolver","title":"Parameters settings"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#suffix","text":"String added as suffix to when creating the new feature list(s).","title":"Suffix"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#original-feature-list","text":"Keep or remove the input feature list(s). The PROCESS IN PLACE option directly filter the input feature list and performs better in terms of memory usage; therefore, it is recommended over REMOVE , when available.","title":"Original feature list"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#msms-scan-pairing","text":"Pair MS/MS fragmentation spectra collected in DDA mode to the resolved features. This is optional at this stage as the same can be done later in the pipeline using a separate module . See MS2 scan pairing documentation for more details.","title":"MS/MS scan pairing"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#dimension","text":"Dimension to be resolved. Select Retention time or Mobility to run the module over the RT or IM dimension, respectively.","title":"Dimension"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#chromatographic-threshold","text":"Percentage of data points in the EIC removed before local minima search. This represents an important filter for noisy chromatogram and significantly reduces the precessing time. The algorithm finds the intensity value (threshold) that leaves the specified percentage of data points in the EIC trace below XXX. All such data points are removed. For example, a Chromatographic threshold = 50% will discard the lowest-intense 50% data points in the EIC trace. \ud83d\udca1 Tip . It must be noted that the algorithm examines the EICs throughout the entire RT range ( i.e. also the zero data points are considered). Therefore, we recommend to set this value rather high ( e.g. 90-95%) and lower it only if needed. \ud83d\udca1 Tip . When resolving the ion mobility dimension , we recommend to lower this settings to no more than 80% since mobilograms contains less data points than regular LC traces.","title":"Chromatographic threshold"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#minimum-search-range-rtmobility-absolute","text":"Size of the RT, or mobility, window examined for local minimum search. An overly narrow search range can cause peak edges to be cut off, whereas a too wide search ranges might lead to an incomplete resolution of narrowly eluting peaks (see example below). \ud83d\udca1 Tip . A shorter Minimum search range is generally needed when resolving the ion mobility dimension .","title":"Minimum search range RT/Mobility (absolute)"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#minimum-relative-height","text":"Minimum relative intensity (respect to the highest data point in the EIC) a peak need to reach to be retained as a feature. This parameter can be used in combination with the Minimum absolute height ) setting as to filter the resolved features to be retained. Many users prefer to rely only on the Minimum absolute height as it is more straightforward to set. To do so, set the Minimum relative height = 0 and the parameter will be ignored. \ud83d\udca1 Tip . Modern mass spectrometers provides linear dynamic ranges up to 5 orders of magnitude. If we take an Orbitrap device with a detector saturation around 1.0E10 intensity, a Minimum relative height = 0.001 would correspond to a 1.0E5 minimum intensity.","title":"Minimum relative height"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#minimum-absolute-height","text":"Minimum absolute intensity a peak needs to reach to be retained as a feature. This parameter is very similar to the Min highest intensity settings in the ADAP chromatogram builder module and the same concepts apply. \ud83d\udca1 Tip . When resolving the RT dimension, the same value used as Min highest intensity in the EICs building can normally be used here. \ud83d\udca1 Tip . While frame scans are examined over the RT dimension, mobility scans are examined over the IM dimension. Therefore, this parameter might need to be adjested accordingly when resolving the ion mobility dimension .","title":"Minimum absolute height"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#min-ratio-of-peak-topedge","text":"Minimum ratio between the intensity of the highest (apex) and side (left and right 'edges') points of a peak, to retain it as a feature. The peak edges have to be X times less intense than the peak apex for the feature to be retained. The purpose of this parameter is to reduce the detection of false local minima when the exaimend trace (EIC or mobilogram ) is not smooth. In general, this mainly affects low intensity and not-baseline-resolved signals \ud83d\udca1 Tip . This parameter can best be optimized using the Show preview option. We recommend values between 1.7 (not baseline separated) and 2 to start the optimisation.","title":"Min ratio of peak top/edge"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#peak-durantion-range-minmobility","text":"Range of acceptable peak length expressed in minutes (RT dimension) or absolute units (mobility dimension). This parameter can be used to filter out noisy features based on their overly short (or long) duration.","title":"Peak durantion range (min/mobility)"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#min-of-data-points","text":"Minimum number of data points a resolved peak needs to have to be considered valid and retained as a feature. This parameter can be used along with the Peak duration range setting as peak duration constraint to filter out noisy features. \ud83d\udca1 Tip . This parameter is very similar to the Min group size in # of scans settings in the ADAP chromatogram builder module and the same value can normally be used here (usually, no less than 4-5). \ud83d\udca1 Tip . A feature in the IM dimension is normally made up of more data points than regular LC peaks. Therefore, a higher Min # of data points can be set when resolving the ion mobility dimension to filter out noisy features.","title":"Min # of data points"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#show-preview","text":"By checking this box, an interactive visualization panel will open to help the user to adjust the algorithm parameters. Two EIC traces can be dispalyed simoultaneously in two sub-panels to assess the impact of chosen settings on both \"good\" and \"noisy\" EIC traces. The feature list and EIC traces to display can be selected from the corresponding drop-down menus. A noisy EIC can generally be found by sorting the feature table by decreasing area, or by looking at the height/area ratio provided for each feature in the top sub-panel (noisy EIC tend to have low height/area ratios). We recommend optimising the parameters on good EICs and checking the results of these parameters with a noisy EIC.","title":"Show preview"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#resolving-the-ion-mobility-dimension","text":"This same module can be used to resolve features co-eluting in the RT dimension, based on their ion mobility. The same concepts apply as in the resolution of the RT dimension. However, mobilograms are examined instead of EIC traces and the same settings used for the RT dimension might not be optimal when resolving IM data. In particular, the following aspects should be born in mind: While frame scans are examined over the RT dimension, mobility scans are considered over the IM dimension. As explained here , frame scans are essentially obtained by merging the mobility scans acquired over an IM accumulation. Therefore, it might be necessary to adjust parameters like Minimum absolute height or Min ratio of peak top/edge to account for the lower signal intensity of mobility scans . Mobilograms are recalculated from raw data, even though a smoothing step was previously applied. Non-smoothed mobiligrams tend to be more jagged than regular EIC traces (see Figure). Threfore, some parameters ( e.g. Min search range and ( e.g. Min ratio of peak top/edge ) should be adjusted accordingly. Mobilograms contain less scans ( e.g. \u2248400-1000 per frame , depending on instrument type and acquisition settings) compared to regular EICs ( e.g. \u22484500 scans for 15 minutes LC run and scan rate of 0.2 seconds). Therefore, a lower chromatographic threshold ( e.g. 80%) is recommended to avoid relevant data points in the mobilogram being discarded. On the other hand, a single feature in the IM dimension is normally made up of more data points than regular LC peaks, due to the different timescale the IM separation is performed on (see here for more details). Therefore, a higher Min # of data points can be set when resolving the ion mobility dimension to filter out noisy features. Different vendors use different units of mobility. For instance, TIMS express ions' mobility as Vs/cm 2 , whereas time dispersive IM devices (DTIMS and TWIMS) use the ions' drift time (expressed in milliseconds). TIMS values are numerically smaller than DTIMS or TWIMS; therefore, the minimum search range parameter should be adjusted accordingly.","title":"Resolving the ion mobility dimension"},{"location":"module_docs/featdet_smoothing/smoothing.html","text":"Smoothing \u00b6 Retention time dimension \u00b6 Smoothing chromatograms is optional. The necessity of smoothing in RT dimension is determined by the noisiness of chromatographic peaks. These can be influenced by the overall spray stability, instrument accumulation times, transfer efficiency and many more. The number of data points to be smoothed in rt dimension can be set at [1]. Note that the correct preview dimension is selected at [2]. For large batch modes, the Remove original feature list parameter should be selected. While parameters are being optimised, this is not recommended, because removing a feature list cannot be undone. Mobility dimension \u00b6 After resolving a feature in RT dimension, the mobilograms will be recalculated from the raw data (the resolved ion mobility trace). Therefore, a smoothing step is necessary if the data requires it. The smoothing dialog is opened via Feature detection \u2192 Smoothing Select to smooth the mobility dimension [1] and select it as preview dimension [2]. The filter with depends on the number of spectra acquired in the observed mobility range. Usually, a value between 5 and 15 should be appropriate.","title":"Smoothing"},{"location":"module_docs/featdet_smoothing/smoothing.html#smoothing","text":"","title":"Smoothing"},{"location":"module_docs/featdet_smoothing/smoothing.html#retention-time-dimension","text":"Smoothing chromatograms is optional. The necessity of smoothing in RT dimension is determined by the noisiness of chromatographic peaks. These can be influenced by the overall spray stability, instrument accumulation times, transfer efficiency and many more. The number of data points to be smoothed in rt dimension can be set at [1]. Note that the correct preview dimension is selected at [2]. For large batch modes, the Remove original feature list parameter should be selected. While parameters are being optimised, this is not recommended, because removing a feature list cannot be undone.","title":"Retention time dimension"},{"location":"module_docs/featdet_smoothing/smoothing.html#mobility-dimension","text":"After resolving a feature in RT dimension, the mobilograms will be recalculated from the raw data (the resolved ion mobility trace). Therefore, a smoothing step is necessary if the data requires it. The smoothing dialog is opened via Feature detection \u2192 Smoothing Select to smooth the mobility dimension [1] and select it as preview dimension [2]. The filter with depends on the number of spectra acquired in the observed mobility range. Usually, a value between 5 and 15 should be appropriate.","title":"Mobility dimension"},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html","text":"Feature list rows filter \u00b6 This filter is found under Feature list methods \u2192 Feature list filtering \u2192 Feature list rows filter and it deletes all rows in a selected peak list that do not meet requirements defined by the user. A range of different requirements can be set, such as the minimum number of features in the row, the minimum number of features in an isotope pattern, peak duration etc. When an aligned peak list, i.e. multiple peaks per row, is filtered then the average of each row's peak duration, m/z and retention time values are used to filter the row. Parameters \u00b6 Name suffix \u00b6 This is the suffix used to identify the new filtered peak list. Minimum features in a row \u00b6 Minimum number of features detected in a row required to not remove it. Minimum features in an isotope pattern \u00b6 Minimum number of features in a row's isotope pattern required to not remove it. Validate 13C isotope pattern \u00b6 If ticked, searches for a +1 13C signal (considering possible charge states) within estimated range of carbon atoms. m/z range \u00b6 Range of acceptable (average) m/z values in a row required to not remove it. Retention time range \u00b6 Range of acceptable (average) retention times in a row required to not remove it. Features duration range \u00b6 Range of acceptable (average) feature durations in a row required not to remove it. Chromatographic FWHM \u00b6 Range of acceptable FWHM in a row required not to remove it. Charge \u00b6 Range of Charge in a row required not to remove it. Please run isotopic peaks grouper prior to using this. Kendrick mass defect \u00b6 Filter features in a Kendrick mass defect range. For more details see Kendrick mass defect setup. TODO Add Kendrick mass detection setup Parameter \u00b6 Paremeter defining the group of each sample. Only identified? \u00b6 If the checkbox is selected, only identified rows will be retained. Text in identity \u00b6 Only rows that contain this text in their peak identity field will be retained. Text in comment \u00b6 Only rows that contain this text in their comment field will be retained. Keep or remove rows \u00b6 User can select to either keep or remove the rows that match the defined criteria. Feature with MS2 scan \u00b6 If checked, only features that have MS2 scan will be kept. Never remove feature with MS2 \u00b6 If checked, all rows with MS2 are retained without applying any further filters on them. Reset the feature number ID \u00b6 If checked, row IDs will be reset. Mass defect \u00b6 Mass defect as a feature filter can be used for selective detection of compounds of interest, and the values accepted are 0.314-0.5 or 0.90-0.15. Original feature list \u00b6 It can be either processed in place, kept or removed.","title":"Feature list rows filter"},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html#feature-list-rows-filter","text":"This filter is found under Feature list methods \u2192 Feature list filtering \u2192 Feature list rows filter and it deletes all rows in a selected peak list that do not meet requirements defined by the user. A range of different requirements can be set, such as the minimum number of features in the row, the minimum number of features in an isotope pattern, peak duration etc. When an aligned peak list, i.e. multiple peaks per row, is filtered then the average of each row's peak duration, m/z and retention time values are used to filter the row.","title":"Feature list rows filter"},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html#parameters","text":"","title":"Parameters"},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html#name-suffix","text":"This is the suffix used to identify the new filtered peak list.","title":"Name suffix"},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html#minimum-features-in-a-row","text":"Minimum number of features detected in a row required to not remove it.","title":"Minimum features in a row"},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html#minimum-features-in-an-isotope-pattern","text":"Minimum number of features in a row's isotope pattern required to not remove it.","title":"Minimum features in an isotope pattern"},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html#validate-13c-isotope-pattern","text":"If ticked, searches for a +1 13C signal (considering possible charge states) within estimated range of carbon atoms.","title":"Validate 13C isotope pattern"},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html#mz-range","text":"Range of acceptable (average) m/z values in a row required to not remove it.","title":"m/z range"},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html#retention-time-range","text":"Range of acceptable (average) retention times in a row required to not remove it.","title":"Retention time range"},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html#features-duration-range","text":"Range of acceptable (average) feature durations in a row required not to remove it.","title":"Features duration range"},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html#chromatographic-fwhm","text":"Range of acceptable FWHM in a row required not to remove it.","title":"Chromatographic FWHM"},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html#charge","text":"Range of Charge in a row required not to remove it. Please run isotopic peaks grouper prior to using this.","title":"Charge"},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html#kendrick-mass-defect","text":"Filter features in a Kendrick mass defect range. For more details see Kendrick mass defect setup. TODO Add Kendrick mass detection setup","title":"Kendrick mass defect"},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html#parameter","text":"Paremeter defining the group of each sample.","title":"Parameter"},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html#only-identified","text":"If the checkbox is selected, only identified rows will be retained.","title":"Only identified?"},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html#text-in-identity","text":"Only rows that contain this text in their peak identity field will be retained.","title":"Text in identity"},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html#text-in-comment","text":"Only rows that contain this text in their comment field will be retained.","title":"Text in comment"},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html#keep-or-remove-rows","text":"User can select to either keep or remove the rows that match the defined criteria.","title":"Keep or remove rows"},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html#feature-with-ms2-scan","text":"If checked, only features that have MS2 scan will be kept.","title":"Feature with MS2 scan"},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html#never-remove-feature-with-ms2","text":"If checked, all rows with MS2 are retained without applying any further filters on them.","title":"Never remove feature with MS2"},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html#reset-the-feature-number-id","text":"If checked, row IDs will be reset.","title":"Reset the feature number ID"},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html#mass-defect","text":"Mass defect as a feature filter can be used for selective detection of compounds of interest, and the values accepted are 0.314-0.5 or 0.90-0.15.","title":"Mass defect"},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html#original-feature-list","text":"It can be either processed in place, kept or removed.","title":"Original feature list"},{"location":"module_docs/filter_isotope_filter/isotope_filter.html","text":"13 C isotope filter \u00b6 MZmine carries out the feature detection steps of chromatogram building and subsequent resolving considering all the signals stored in the mass lists . As a consequence, signals generated by isotopologues of the same chemical entity (see isotopic pattern ) are detected as distinct features and included in the feature lists , representing redundant information for the downstream data analysis. This issue ordinarily occurs for C-containing molecules, where the 13 C isotope signals can be easily detected ( 13 C/ 12 C \u2248 1.1%). The 13C isotope filter module (formerly called Isotope grouper ) aims at filtering out the features corresponding to the 13 C isotopes of the same analyte. The algorithm consider each feature individually and checks for the presence of potential 13 C-related peak(s) in the feature lists . When an isotope pattern meeting the user-defined tolerances ( e.g. m/z , RT) and requirements ( e.g. monotonic shape ) is found, the information is saved, and only the feature corresponding to the e.g. most intense isotope is retained in the feature list . It must be noted that 13 C peaks are searched within the feature list , and not in the raw data. Parameters settings \u00b6 Feature list methods \u2192 Isotopes \u2192 13C isotope filter (formerly: isotope grouper) Name suffix \u00b6 String added as suffix when creating the new feature list(s). m/z tolerance \u00b6 Maximum allowed difference between the measured and the predicted m/z of the (potential) 13 C isotope to be grouped as isotopologues. The tolerance can be specified as absolute tolerance (in m/z ), relative tolerance (in ppm), or both. When both are specified, the tolerance range is calculated using the maximum between the absolute and relative tolerances. \ud83d\udca1 Tip . We recommend to set a failry strict m/z tolerance to reduce the risk of discarding false 13 C isotopes. Retention time tolerance \u00b6 Maximum allowed RT difference between the feature and its (potential) 13 C isotope to be grouped as isotopologues. \ud83d\udca1 Tip . Isotopologues should exhibit identical chromatographic behaviour and thus produce overlapping LC peak shapes. Therefore, a strict RT tolerance can be used to reduce the risk of discarding false 13 C isotopes. Mobility tolerance \u00b6 If enabled and the mobility dimension was recorded, potential 13 C isotopes will be grouped as isotopologues only if their mobility difference is within the defined tolerance. \ud83d\udca1 Tip . The same principle seen for the RT tolerance apply to the IM dimension. Isotopologues should exhibit identical IM separation; therefore, a strict mobility tolerance can be used to reduce the risk of discarding false 13 C isotopes. Monotonic shape \u00b6 If true, a monotonically decreasing trend of the isotope pattern (typical of the 13 C isotope pattern of small molecules) is required for the filtering. Maximum charge \u00b6 Maximum charge state considered to predict the 13 C isotopes' m/z . If a value > 1 is set, the charge state with the maximum number of detected isotope features will be used for the filtering. Never remove feature with MS2 \u00b6 If checked, potential 13 C-related features will not be discarded if associated to a MS2 spectrum . Original feature lists \u00b6 Keep or remove the input feature list(s). The PROCESS IN PLACE option directly filter the input feature list and performs better in terms of memory usage; therefore, it is recommended over REMOVE , when available.","title":"13C isotope filter (isotope grouper)"},{"location":"module_docs/filter_isotope_filter/isotope_filter.html#13c-isotope-filter","text":"MZmine carries out the feature detection steps of chromatogram building and subsequent resolving considering all the signals stored in the mass lists . As a consequence, signals generated by isotopologues of the same chemical entity (see isotopic pattern ) are detected as distinct features and included in the feature lists , representing redundant information for the downstream data analysis. This issue ordinarily occurs for C-containing molecules, where the 13 C isotope signals can be easily detected ( 13 C/ 12 C \u2248 1.1%). The 13C isotope filter module (formerly called Isotope grouper ) aims at filtering out the features corresponding to the 13 C isotopes of the same analyte. The algorithm consider each feature individually and checks for the presence of potential 13 C-related peak(s) in the feature lists . When an isotope pattern meeting the user-defined tolerances ( e.g. m/z , RT) and requirements ( e.g. monotonic shape ) is found, the information is saved, and only the feature corresponding to the e.g. most intense isotope is retained in the feature list . It must be noted that 13 C peaks are searched within the feature list , and not in the raw data.","title":"13C isotope filter"},{"location":"module_docs/filter_isotope_filter/isotope_filter.html#parameters-settings","text":"Feature list methods \u2192 Isotopes \u2192 13C isotope filter (formerly: isotope grouper)","title":"Parameters settings"},{"location":"module_docs/filter_isotope_filter/isotope_filter.html#name-suffix","text":"String added as suffix when creating the new feature list(s).","title":"Name suffix"},{"location":"module_docs/filter_isotope_filter/isotope_filter.html#mz-tolerance","text":"Maximum allowed difference between the measured and the predicted m/z of the (potential) 13 C isotope to be grouped as isotopologues. The tolerance can be specified as absolute tolerance (in m/z ), relative tolerance (in ppm), or both. When both are specified, the tolerance range is calculated using the maximum between the absolute and relative tolerances. \ud83d\udca1 Tip . We recommend to set a failry strict m/z tolerance to reduce the risk of discarding false 13 C isotopes.","title":"m/z tolerance"},{"location":"module_docs/filter_isotope_filter/isotope_filter.html#retention-time-tolerance","text":"Maximum allowed RT difference between the feature and its (potential) 13 C isotope to be grouped as isotopologues. \ud83d\udca1 Tip . Isotopologues should exhibit identical chromatographic behaviour and thus produce overlapping LC peak shapes. Therefore, a strict RT tolerance can be used to reduce the risk of discarding false 13 C isotopes.","title":"Retention time tolerance"},{"location":"module_docs/filter_isotope_filter/isotope_filter.html#mobility-tolerance","text":"If enabled and the mobility dimension was recorded, potential 13 C isotopes will be grouped as isotopologues only if their mobility difference is within the defined tolerance. \ud83d\udca1 Tip . The same principle seen for the RT tolerance apply to the IM dimension. Isotopologues should exhibit identical IM separation; therefore, a strict mobility tolerance can be used to reduce the risk of discarding false 13 C isotopes.","title":"Mobility tolerance"},{"location":"module_docs/filter_isotope_filter/isotope_filter.html#monotonic-shape","text":"If true, a monotonically decreasing trend of the isotope pattern (typical of the 13 C isotope pattern of small molecules) is required for the filtering.","title":"Monotonic shape"},{"location":"module_docs/filter_isotope_filter/isotope_filter.html#maximum-charge","text":"Maximum charge state considered to predict the 13 C isotopes' m/z . If a value > 1 is set, the charge state with the maximum number of detected isotope features will be used for the filtering.","title":"Maximum charge"},{"location":"module_docs/filter_isotope_filter/isotope_filter.html#never-remove-feature-with-ms2","text":"If checked, potential 13 C-related features will not be discarded if associated to a MS2 spectrum .","title":"Never remove feature with MS2"},{"location":"module_docs/filter_isotope_filter/isotope_filter.html#original-feature-lists","text":"Keep or remove the input feature list(s). The PROCESS IN PLACE option directly filter the input feature list and performs better in terms of memory usage; therefore, it is recommended over REMOVE , when available.","title":"Original feature lists"},{"location":"module_docs/filter_isotope_finder/isotope_finder.html","text":"Isotope pattern finder \u00b6 The Isotope pattern finder is found under Feature list methods \u2192 Isotopes \u2192 Isotope pattern finder. The module searches isotope patterns for each feature in selected feature lists by going back to the mass spectra. Starting from the feature m/z the algorithm will first backtrack any possible preceding isotope signals using a list of delta masses created from elements, their stable isotopes, and an m/z tolerance. For example, a -2 signal might be detected when searching for Br isotopes. In a second step, all picked potential isotope m/z values are used to search next isotope (with higher m/z). This is done for each charge state. I Parameters \u00b6 Chemical elements \u00b6 All stable isotopes of the chosen elements are used to create a list of mass differences to search. Signals with this mass difference (m/z difference with different charge states) are then considered as potential isotope signals. m/z tolerance \u00b6 Maximum allowed difference between two features' m/z values in order for them to be considered the same. The value is specified both as absolute tolerance (in m/z) and relative tolerance (in ppm). The tolerance range is calculated using maximum of the absolute and relative tolerances. Maximum charge of isotope m/z \u00b6 Maximum possible charge of isotope m/z distributions. All present m/z values obtained by dividing isotope masses with 1,2 ...,maxCharge values will be considered. The default value is 1, but insert an integer greater than 1 if you want to consider ions of higher charge states. Search in scans \u00b6 Currently, the supported option is \"Single most intense\", which means the search for isotopes will happen in the single most intense MS scan of each feature.","title":"Isotope pattern finder"},{"location":"module_docs/filter_isotope_finder/isotope_finder.html#isotope-pattern-finder","text":"The Isotope pattern finder is found under Feature list methods \u2192 Isotopes \u2192 Isotope pattern finder. The module searches isotope patterns for each feature in selected feature lists by going back to the mass spectra. Starting from the feature m/z the algorithm will first backtrack any possible preceding isotope signals using a list of delta masses created from elements, their stable isotopes, and an m/z tolerance. For example, a -2 signal might be detected when searching for Br isotopes. In a second step, all picked potential isotope m/z values are used to search next isotope (with higher m/z). This is done for each charge state. I","title":"Isotope pattern finder"},{"location":"module_docs/filter_isotope_finder/isotope_finder.html#parameters","text":"","title":"Parameters"},{"location":"module_docs/filter_isotope_finder/isotope_finder.html#chemical-elements","text":"All stable isotopes of the chosen elements are used to create a list of mass differences to search. Signals with this mass difference (m/z difference with different charge states) are then considered as potential isotope signals.","title":"Chemical elements"},{"location":"module_docs/filter_isotope_finder/isotope_finder.html#mz-tolerance","text":"Maximum allowed difference between two features' m/z values in order for them to be considered the same. The value is specified both as absolute tolerance (in m/z) and relative tolerance (in ppm). The tolerance range is calculated using maximum of the absolute and relative tolerances.","title":"m/z tolerance"},{"location":"module_docs/filter_isotope_finder/isotope_finder.html#maximum-charge-of-isotope-mz","text":"Maximum possible charge of isotope m/z distributions. All present m/z values obtained by dividing isotope masses with 1,2 ...,maxCharge values will be considered. The default value is 1, but insert an integer greater than 1 if you want to consider ions of higher charge states.","title":"Maximum charge of isotope m/z"},{"location":"module_docs/filter_isotope_finder/isotope_finder.html#search-in-scans","text":"Currently, the supported option is \"Single most intense\", which means the search for isotopes will happen in the single most intense MS scan of each feature.","title":"Search in scans"},{"location":"module_docs/filter_raw_data/align-scans.html","text":"Align scans (MS1) \u00b6 Description \u00b6 This module aligns scans for small fluctuations correlating consecutive scans. Parameters \u00b6 Suffix This string is added to filename as suffix. Horizontal scans Number of scans to be considered in the correlation (to the left and to the right of the scan being aligned). Max Vertical Alignment Maximum number of shifts to be compared. This depends on equipment, normally this should be 1. Minimum height Minimum intensity to be considered for align correlation. If chromatogram height is below this level, it is not used in the correlation calculation. Correlation in log Transform intensities to log scale before comparing correlation. Remove previous files Remove processed files to save memory.","title":"Align scans"},{"location":"module_docs/filter_raw_data/align-scans.html#align-scans-ms1","text":"","title":"Align scans (MS1)"},{"location":"module_docs/filter_raw_data/align-scans.html#description","text":"This module aligns scans for small fluctuations correlating consecutive scans.","title":"Description"},{"location":"module_docs/filter_raw_data/align-scans.html#parameters","text":"Suffix This string is added to filename as suffix. Horizontal scans Number of scans to be considered in the correlation (to the left and to the right of the scan being aligned). Max Vertical Alignment Maximum number of shifts to be compared. This depends on equipment, normally this should be 1. Minimum height Minimum intensity to be considered for align correlation. If chromatogram height is below this level, it is not used in the correlation calculation. Correlation in log Transform intensities to log scale before comparing correlation. Remove previous files Remove processed files to save memory.","title":"Parameters"},{"location":"module_docs/filter_raw_data/baseline-corrections.html","text":"Baseline correction \u00b6 Description \u00b6 This module performs baseline correction on raw data files. It is designed to compensate for gradual shifts in the chromatographic baseline by detecting the baseline and then subtracting it from the raw data intensity values. The module proceeds as follows for each raw data file passed to it: The full range of m/z values present in the raw data is divided into a series of bins of a specified width (see m/z bin width). For each bin a chromatogram is constructed from the raw data points whose m/z values fall within the bin. This chromatogram may be either the base peak chromatogram or total ion count (TIC) chromatogram . The raw intensity values of each data point in a bin are corrected by subtracting the bin's baseline. Subtraction of baseline intensity values proceeds according to the type of chromatogram used to determine the baseline. If the base peak chromatogram was used then the corrected intensity values are calculated as follows: \\[I_{corr}=max(0,I_{orig}-I_{base})\\] If the TIC chromatogram was used then the corrected intensity values are calculated as follows: \\[I_{corr}=max(0,I_{orig}*(1-I_{base}/I_{max}))\\] where \\(I_{orig}\\) , \\(I_{base}\\) , \\(I_{max}\\) , and \\(I_{corr}\\) are the original, baseline, maximum and corrected intensity values, respectively, for a given scan and m/z bin. If \\(I_{base}\\) is less or equal to zero then no correction is performed, i.e. \\(I_{corr}=I_{orig}\\) . A new raw data file is generated from the corrected intensity values. Parameters \u00b6 Filename suffix The text to append to the name of the baseline corrected raw data file. Chromatogram type TIC: total ion count, i.e. summed intensities per scan, or Base peak intensity: maximum intensity per scan. MS-level MS level to which to apply correction. Select \"0\" for all levels. Use m/z bins Baselines can be calculated and data points corrected per m/z bin or to the entire raw data file. If no binning is performed then a single chromatogram is calculated for the entire raw data file and its baseline used to correct the full data file. No binning is very quick but much less accurate and so is only suitable for fine-tuning the smoothing and asymmetry parameters. m/z bin width The width of the m/z bins if binning is performed (see use m/z bins). Smaller bin widths result in longer processing times and greater memory requirements. Avoid values below 0.01. Correction method The width of the m/z bins if binning is performed (see use m/z bins). Smaller bin widths result in longer processing times and greater memory requirements. Avoid values below 0.01. R engine This option allows you to choose between two Java libraries to communicate with R - RServe or RCaller. Remove source file after baseline correction Whether to remove the original raw data file once baseline correction is complete. Correction methods \u00b6 More information on correction methods is available in CRAN decription of baseline package Asymmetric Baseline Corrector \u00b6 This corrector estimates a baseline using asymmetric least squares and subtracts it from the data. Parameters \u00b6 Smoothing The smoothing factor (>=0), generally ranges from 1E5 to 1E8. The larger this factor is, the smoother the baseline. Asymmetry Default value is 1E-3. The weight (0 <= p <= 1) for points above the trend line, whereas 1-p is the weight for points below it. Naturally, p should be small for estimating baselines. Rolling Ball Corrector \u00b6 The corrector estimates a trend based on the Rolling Ball algorithm , and subtracts it from the raw data intensity values. (Ideas from Rolling Ball algorithm for X-ray spectra by M.A.Kneen and H.J. Annegarn . Variable window width has been left out). Parameters \u00b6 wm (number of scans) Width of local window for minimization/maximization (in number of scans). ws (number of scans) Width of local window for smoothing (in number of scans). Peak Detection Baseline Corrector \u00b6 The corrector estimates a trend based on the Peak Detection algorithm, and subtracts it from the raw data intensity values. Peak detection is done in several steps sorting out real peaks through different criteria. Peaks are removed from spectra and minimums and medians are used to smooth the remaining parts of the spectra. (A translation from Kevin R. Coombes et al.'s MATLAB code for detecting peaks and removing baselines). Parameters \u00b6 left (number of scans) Smallest window size for peak widths (in number of scans). right (number of scans) Largest window size for peak widths (in number of scans). lwin (number of scans) Smallest window size for minimums and medians in peak removed spectra (in number of scans). rwin (number of scans) Largest window size for minimums and medians in peak removed spectra (in number of scans). snminimum Minimum signal to noise ratio for accepting peaks. mono Monotonically decreasing baseline if \u2018mono\u2019 > 0. multiplier Internal window size multiplier. Rubber Band Corrector \u00b6 The corrector estimates a trend based on the Rubber Band algorithm (which determines a convex envelope for the spectra - underneath side), and subtracts it from the raw data intensity values. Parameters \u00b6 noise Ignored if \"auto noise\" is checked. Noise level to be taken into account. auto noise Determine noise level automatically (from lower intensity scan). df Degree of freedom. spline Logical indicating whether the baseline should be an interpolating spline through the support points or piecewise linear. bend factor Does nothing if equals to zero. Helps fitting better with low \"df\" . Try starting with value around 5E4. Local Minima + LOESS Corrector \u00b6 The corrector estimates a trend based on Local Minima + LOESS (smoothed low-percentile intensity), and subtracts it from the raw data intensity values. Parameters \u00b6 method \" loess \" (smoothed low-percentile intensity) or \" approx \" (linear interpolation). bw The bandwidth to be passed to loess. breaks Number of breaks set to m/z values for finding the local minima or points below a certain quantile of intensities; breaks -1 equally spaced intervals on the log(m/z) scale. break width (number of scans) Width of a single break. Usually the maximum width (in number of scans) of the largest peak. Overrides \"breaks\" value. qntl If 0, find local minima; if >0 find intensities < qntl*100th quantile locally. Requirements \u00b6 This module relies on the local installation of R statistical computing software and several R packages. Quick install The whole thing can be setup as follows by running the following code in R: install.packages(c(\"Rserve\", \"ptw\", \"baseline\", \"hyperSpec\")) source(\"http://bioconductor.org/biocLite.R\") biocLite(\"PROcess\") Details Rserve (All correctors): provides an interface between MZmine and R. To install Rserve from CRAN packages run R and enter: install.packages(\"Rserve\") ptw (Asymmetric corrector): parametric time-warping provides the asymmetric least-squares implementation. To install ptw run R and enter: install.packages(\"ptw\") baseline (RollingBall and PeakDetection correctors): provides a trend based on \"Rolling Ball\" and \"Peak Detection\" algorithms implementation. To install baseline run R and enter: install.packages(\"baseline\") hyperSpec (RubberBand corrector): provides a trend based on \"Rubber Band\" algorithm (which determines a convex envelope for the spectra) implementation. To install hyperSpec run R and enter: install.packages(\"hyperSpec\") PROcess (Local Minima + LOESS corrector): provides the local minima search + LOESS (smoothed low-percentile intensity) implementation. To install PROcess run R and enter: source(\"http://bioconductor.org/biocLite.R\") biocLite(\"PROcess\") References \u00b6 [1] Boelens, H.F.M., Eilers, P.H.C., Hankemeier, T. (2005) \"Sign constraints improve the detection of differences between complex spectral data sets: LC-IR as an example\", Analytical Chemistry, 77, 7998 \u2013 8007. [2] Rserve \"A TCP/IP server which allows other programs to use facilities of R\" https://rforge.net/Rserve . TODO Add images for each type of baseline correction","title":"Baseline corrections"},{"location":"module_docs/filter_raw_data/baseline-corrections.html#baseline-correction","text":"","title":"Baseline correction"},{"location":"module_docs/filter_raw_data/baseline-corrections.html#description","text":"This module performs baseline correction on raw data files. It is designed to compensate for gradual shifts in the chromatographic baseline by detecting the baseline and then subtracting it from the raw data intensity values. The module proceeds as follows for each raw data file passed to it: The full range of m/z values present in the raw data is divided into a series of bins of a specified width (see m/z bin width). For each bin a chromatogram is constructed from the raw data points whose m/z values fall within the bin. This chromatogram may be either the base peak chromatogram or total ion count (TIC) chromatogram . The raw intensity values of each data point in a bin are corrected by subtracting the bin's baseline. Subtraction of baseline intensity values proceeds according to the type of chromatogram used to determine the baseline. If the base peak chromatogram was used then the corrected intensity values are calculated as follows: \\[I_{corr}=max(0,I_{orig}-I_{base})\\] If the TIC chromatogram was used then the corrected intensity values are calculated as follows: \\[I_{corr}=max(0,I_{orig}*(1-I_{base}/I_{max}))\\] where \\(I_{orig}\\) , \\(I_{base}\\) , \\(I_{max}\\) , and \\(I_{corr}\\) are the original, baseline, maximum and corrected intensity values, respectively, for a given scan and m/z bin. If \\(I_{base}\\) is less or equal to zero then no correction is performed, i.e. \\(I_{corr}=I_{orig}\\) . A new raw data file is generated from the corrected intensity values.","title":"Description"},{"location":"module_docs/filter_raw_data/baseline-corrections.html#parameters","text":"Filename suffix The text to append to the name of the baseline corrected raw data file. Chromatogram type TIC: total ion count, i.e. summed intensities per scan, or Base peak intensity: maximum intensity per scan. MS-level MS level to which to apply correction. Select \"0\" for all levels. Use m/z bins Baselines can be calculated and data points corrected per m/z bin or to the entire raw data file. If no binning is performed then a single chromatogram is calculated for the entire raw data file and its baseline used to correct the full data file. No binning is very quick but much less accurate and so is only suitable for fine-tuning the smoothing and asymmetry parameters. m/z bin width The width of the m/z bins if binning is performed (see use m/z bins). Smaller bin widths result in longer processing times and greater memory requirements. Avoid values below 0.01. Correction method The width of the m/z bins if binning is performed (see use m/z bins). Smaller bin widths result in longer processing times and greater memory requirements. Avoid values below 0.01. R engine This option allows you to choose between two Java libraries to communicate with R - RServe or RCaller. Remove source file after baseline correction Whether to remove the original raw data file once baseline correction is complete.","title":"Parameters"},{"location":"module_docs/filter_raw_data/baseline-corrections.html#correction-methods","text":"More information on correction methods is available in CRAN decription of baseline package","title":"Correction methods"},{"location":"module_docs/filter_raw_data/baseline-corrections.html#asymmetric-baseline-corrector","text":"This corrector estimates a baseline using asymmetric least squares and subtracts it from the data.","title":"Asymmetric Baseline Corrector"},{"location":"module_docs/filter_raw_data/baseline-corrections.html#parameters_1","text":"Smoothing The smoothing factor (>=0), generally ranges from 1E5 to 1E8. The larger this factor is, the smoother the baseline. Asymmetry Default value is 1E-3. The weight (0 <= p <= 1) for points above the trend line, whereas 1-p is the weight for points below it. Naturally, p should be small for estimating baselines.","title":"Parameters"},{"location":"module_docs/filter_raw_data/baseline-corrections.html#rolling-ball-corrector","text":"The corrector estimates a trend based on the Rolling Ball algorithm , and subtracts it from the raw data intensity values. (Ideas from Rolling Ball algorithm for X-ray spectra by M.A.Kneen and H.J. Annegarn . Variable window width has been left out).","title":"Rolling Ball Corrector"},{"location":"module_docs/filter_raw_data/baseline-corrections.html#parameters_2","text":"wm (number of scans) Width of local window for minimization/maximization (in number of scans). ws (number of scans) Width of local window for smoothing (in number of scans).","title":"Parameters"},{"location":"module_docs/filter_raw_data/baseline-corrections.html#peak-detection-baseline-corrector","text":"The corrector estimates a trend based on the Peak Detection algorithm, and subtracts it from the raw data intensity values. Peak detection is done in several steps sorting out real peaks through different criteria. Peaks are removed from spectra and minimums and medians are used to smooth the remaining parts of the spectra. (A translation from Kevin R. Coombes et al.'s MATLAB code for detecting peaks and removing baselines).","title":"Peak Detection Baseline Corrector"},{"location":"module_docs/filter_raw_data/baseline-corrections.html#parameters_3","text":"left (number of scans) Smallest window size for peak widths (in number of scans). right (number of scans) Largest window size for peak widths (in number of scans). lwin (number of scans) Smallest window size for minimums and medians in peak removed spectra (in number of scans). rwin (number of scans) Largest window size for minimums and medians in peak removed spectra (in number of scans). snminimum Minimum signal to noise ratio for accepting peaks. mono Monotonically decreasing baseline if \u2018mono\u2019 > 0. multiplier Internal window size multiplier.","title":"Parameters"},{"location":"module_docs/filter_raw_data/baseline-corrections.html#rubber-band-corrector","text":"The corrector estimates a trend based on the Rubber Band algorithm (which determines a convex envelope for the spectra - underneath side), and subtracts it from the raw data intensity values.","title":"Rubber Band Corrector"},{"location":"module_docs/filter_raw_data/baseline-corrections.html#parameters_4","text":"noise Ignored if \"auto noise\" is checked. Noise level to be taken into account. auto noise Determine noise level automatically (from lower intensity scan). df Degree of freedom. spline Logical indicating whether the baseline should be an interpolating spline through the support points or piecewise linear. bend factor Does nothing if equals to zero. Helps fitting better with low \"df\" . Try starting with value around 5E4.","title":"Parameters"},{"location":"module_docs/filter_raw_data/baseline-corrections.html#local-minima-loess-corrector","text":"The corrector estimates a trend based on Local Minima + LOESS (smoothed low-percentile intensity), and subtracts it from the raw data intensity values.","title":"Local Minima + LOESS Corrector"},{"location":"module_docs/filter_raw_data/baseline-corrections.html#parameters_5","text":"method \" loess \" (smoothed low-percentile intensity) or \" approx \" (linear interpolation). bw The bandwidth to be passed to loess. breaks Number of breaks set to m/z values for finding the local minima or points below a certain quantile of intensities; breaks -1 equally spaced intervals on the log(m/z) scale. break width (number of scans) Width of a single break. Usually the maximum width (in number of scans) of the largest peak. Overrides \"breaks\" value. qntl If 0, find local minima; if >0 find intensities < qntl*100th quantile locally.","title":"Parameters"},{"location":"module_docs/filter_raw_data/baseline-corrections.html#requirements","text":"This module relies on the local installation of R statistical computing software and several R packages. Quick install The whole thing can be setup as follows by running the following code in R: install.packages(c(\"Rserve\", \"ptw\", \"baseline\", \"hyperSpec\")) source(\"http://bioconductor.org/biocLite.R\") biocLite(\"PROcess\") Details Rserve (All correctors): provides an interface between MZmine and R. To install Rserve from CRAN packages run R and enter: install.packages(\"Rserve\") ptw (Asymmetric corrector): parametric time-warping provides the asymmetric least-squares implementation. To install ptw run R and enter: install.packages(\"ptw\") baseline (RollingBall and PeakDetection correctors): provides a trend based on \"Rolling Ball\" and \"Peak Detection\" algorithms implementation. To install baseline run R and enter: install.packages(\"baseline\") hyperSpec (RubberBand corrector): provides a trend based on \"Rubber Band\" algorithm (which determines a convex envelope for the spectra) implementation. To install hyperSpec run R and enter: install.packages(\"hyperSpec\") PROcess (Local Minima + LOESS corrector): provides the local minima search + LOESS (smoothed low-percentile intensity) implementation. To install PROcess run R and enter: source(\"http://bioconductor.org/biocLite.R\") biocLite(\"PROcess\")","title":"Requirements"},{"location":"module_docs/filter_raw_data/baseline-corrections.html#references","text":"[1] Boelens, H.F.M., Eilers, P.H.C., Hankemeier, T. (2005) \"Sign constraints improve the detection of differences between complex spectral data sets: LC-IR as an example\", Analytical Chemistry, 77, 7998 \u2013 8007. [2] Rserve \"A TCP/IP server which allows other programs to use facilities of R\" https://rforge.net/Rserve . TODO Add images for each type of baseline correction","title":"References"},{"location":"module_docs/filter_raw_data/crop-filter.html","text":"Crop filter \u00b6 Description \u00b6 This module performs cropping of raw data files based on the user-defined parameter range defined by user. This allows user to obtain a new raw data file that contains only the information from the range of interest. Parameters \u00b6 m/z m/z boundary of the cropped region Suffix This string is added to filename as suffix Remove source file after filtering If checked, only filtered file version is stored. Scan filtering parameters \u00b6 Filtering parameters include: Scan number, Base filtering number, Retention time, Mobility, MS level, Scan definition (matching some pattern), Polarity, and Spectrum type.","title":"Crop filter"},{"location":"module_docs/filter_raw_data/crop-filter.html#crop-filter","text":"","title":"Crop filter"},{"location":"module_docs/filter_raw_data/crop-filter.html#description","text":"This module performs cropping of raw data files based on the user-defined parameter range defined by user. This allows user to obtain a new raw data file that contains only the information from the range of interest.","title":"Description"},{"location":"module_docs/filter_raw_data/crop-filter.html#parameters","text":"m/z m/z boundary of the cropped region Suffix This string is added to filename as suffix Remove source file after filtering If checked, only filtered file version is stored.","title":"Parameters"},{"location":"module_docs/filter_raw_data/crop-filter.html#scan-filtering-parameters","text":"Filtering parameters include: Scan number, Base filtering number, Retention time, Mobility, MS level, Scan definition (matching some pattern), Polarity, and Spectrum type.","title":"Scan filtering parameters"},{"location":"module_docs/filter_raw_data/filter-scan-by-scan.html","text":"Scan by scan filtering \u00b6 Description \u00b6 This module can be used to preprocess data in each scan using various filters. The preview shows the superposed spectra of the scan before and after the Savitzky-Golay filter is applied. Filters \u00b6 Mean filter \u00b6 For each data point, the filter assigns to it the intensity average of all the datapoints inside the user defined window. The window is centered in the mass value of this data point. Parameters \u00b6 Window length One-sided length of the m/z smoothing window. Savitzky Golay filter \u00b6 The Savitzky\u2013Golay smoothing filter was first described in 1964 by Abraham Savitzky and Marcel J. E. Golay. The Savitzky\u2013Golay method essentially performs a local polynomial regression (of degree k) on a series of values (of at least k+1 points which are treated as being equally spaced in the series) to determine the smoothed value for each point. http://en.wikipedia.org/wiki/Savitzky-Golay_smoothing_filter Parameters \u00b6 Number of datapoints This number can be 5, 7, 9, 11, 13 or 15. Resampling filter \u00b6 Each scan is divide in m/z bins whose length is defined by the user in the parameters. The mass of the new data point will be in the middle of each m/z bin's space. Its intensity is the average of the intensity of all the data points inside the bin. Parameters \u00b6 m/z bin length The length of m/z bin. Round resampling filter \u00b6 All data points in each scan is shifted to the nearest rounded integer ( ion number ). The mass of the new data point will be on the rounded value. If several data points are competing for the same rounded value / mass, the new data point's intensity is the average of all the competing data points. Unless \"Sum duplicate intensities\" is checked, leading to a single new data point with intensity equal to the sum of the intensities of all the competing data points. If the scan is not centroided, its spectrum is first turned into centroid using a default \"local maxima\" algorithm, then the same algorithm as described above is applied. Parameters \u00b6 Sum duplicate intensities Sums ions count (intensity) of m/z peaks competing for being rounded at same m/z unit. If unchecked, the intensities are averaged rather than summed. Remove zero intensity m/z peaks Clear all scans spectra from m/z peaks with intensity equal to zero. TODO Add the images for each filter","title":"Scan by scan filtering"},{"location":"module_docs/filter_raw_data/filter-scan-by-scan.html#scan-by-scan-filtering","text":"","title":"Scan by scan filtering"},{"location":"module_docs/filter_raw_data/filter-scan-by-scan.html#description","text":"This module can be used to preprocess data in each scan using various filters. The preview shows the superposed spectra of the scan before and after the Savitzky-Golay filter is applied.","title":"Description"},{"location":"module_docs/filter_raw_data/filter-scan-by-scan.html#filters","text":"","title":"Filters"},{"location":"module_docs/filter_raw_data/filter-scan-by-scan.html#mean-filter","text":"For each data point, the filter assigns to it the intensity average of all the datapoints inside the user defined window. The window is centered in the mass value of this data point.","title":"Mean filter"},{"location":"module_docs/filter_raw_data/filter-scan-by-scan.html#parameters","text":"Window length One-sided length of the m/z smoothing window.","title":"Parameters"},{"location":"module_docs/filter_raw_data/filter-scan-by-scan.html#savitzky-golay-filter","text":"The Savitzky\u2013Golay smoothing filter was first described in 1964 by Abraham Savitzky and Marcel J. E. Golay. The Savitzky\u2013Golay method essentially performs a local polynomial regression (of degree k) on a series of values (of at least k+1 points which are treated as being equally spaced in the series) to determine the smoothed value for each point. http://en.wikipedia.org/wiki/Savitzky-Golay_smoothing_filter","title":"Savitzky Golay filter"},{"location":"module_docs/filter_raw_data/filter-scan-by-scan.html#parameters_1","text":"Number of datapoints This number can be 5, 7, 9, 11, 13 or 15.","title":"Parameters"},{"location":"module_docs/filter_raw_data/filter-scan-by-scan.html#resampling-filter","text":"Each scan is divide in m/z bins whose length is defined by the user in the parameters. The mass of the new data point will be in the middle of each m/z bin's space. Its intensity is the average of the intensity of all the data points inside the bin.","title":"Resampling filter"},{"location":"module_docs/filter_raw_data/filter-scan-by-scan.html#parameters_2","text":"m/z bin length The length of m/z bin.","title":"Parameters"},{"location":"module_docs/filter_raw_data/filter-scan-by-scan.html#round-resampling-filter","text":"All data points in each scan is shifted to the nearest rounded integer ( ion number ). The mass of the new data point will be on the rounded value. If several data points are competing for the same rounded value / mass, the new data point's intensity is the average of all the competing data points. Unless \"Sum duplicate intensities\" is checked, leading to a single new data point with intensity equal to the sum of the intensities of all the competing data points. If the scan is not centroided, its spectrum is first turned into centroid using a default \"local maxima\" algorithm, then the same algorithm as described above is applied.","title":"Round resampling filter"},{"location":"module_docs/filter_raw_data/filter-scan-by-scan.html#parameters_3","text":"Sum duplicate intensities Sums ions count (intensity) of m/z peaks competing for being rounded at same m/z unit. If unchecked, the intensities are averaged rather than summed. Remove zero intensity m/z peaks Clear all scans spectra from m/z peaks with intensity equal to zero. TODO Add the images for each filter","title":"Parameters"},{"location":"module_docs/filter_raw_data/scan_smoothing.html","text":"Scan smoothing (MS1) \u00b6 Description \u00b6 This module averages intensity values within a time-scan frame. Parameters \u00b6 Suffix This string is added to filename as suffix. Time (min) Time span over which intensities will be averaged in the same m/z over scans. The max between this and Scan Span will be used. Scan span Number of scan in which intensities will be averaged in the same m/z. The max between this and Time Span will be used. m/z tolerance m/z range in which intensities will be averaged. The max between this and m/z points will be used. If both equal 0 no m/z smoothing will be performed. m/z min points Number of m/z points used to smooth. The max between this and m/z tol will be used. If both equal 0 no m/z smoothing will be performed. Min height Minimum intensity of the highest data point in the chromatogram. If chromatogram height is below this level, it is not used in the average calculation. Remove previous files Remove processed files to save memory.","title":"Scan smoothing"},{"location":"module_docs/filter_raw_data/scan_smoothing.html#scan-smoothing-ms1","text":"","title":"Scan smoothing (MS1)"},{"location":"module_docs/filter_raw_data/scan_smoothing.html#description","text":"This module averages intensity values within a time-scan frame.","title":"Description"},{"location":"module_docs/filter_raw_data/scan_smoothing.html#parameters","text":"Suffix This string is added to filename as suffix. Time (min) Time span over which intensities will be averaged in the same m/z over scans. The max between this and Scan Span will be used. Scan span Number of scan in which intensities will be averaged in the same m/z. The max between this and Time Span will be used. m/z tolerance m/z range in which intensities will be averaged. The max between this and m/z points will be used. If both equal 0 no m/z smoothing will be performed. m/z min points Number of m/z points used to smooth. The max between this and m/z tol will be used. If both equal 0 no m/z smoothing will be performed. Min height Minimum intensity of the highest data point in the chromatogram. If chromatogram height is below this level, it is not used in the average calculation. Remove previous files Remove processed files to save memory.","title":"Parameters"},{"location":"module_docs/gapfill_peak_finder/gap-filling.html","text":"Peak finder \u00b6 Some chromatographic peaks may not be detected in every sample for several reasons, such as deficient peak detection, mistake in the alignment of different peak lists, inaccurate mass calibration, etc. All of these reasons can result in undesirable gaps (missing values) in the aligned feature table. To account for this problem, the user can use the Peak finder module which searches through the original raw data to find the missing spectra, and is found under Feature list methods \u2192 Gap filling \u2192 Peak finder . This algorithm fills the gaps in the peak list when it is possible according with the parameters defined by the user, with the most crucial being m/z tolerance and RT tolerance . These two parameters define the window where the algorithm should find the new peak. Parameters \u00b6 Name suffix \u00b6 Suffix to be added to the peak list name. Intensity tolerance \u00b6 Maximum allowed deviation from the expected peak shape in chromatographic direction. m/z tolerance \u00b6 m/z range which will be applied when searching for the possible peak in the raw data. Retention time tolerance \u00b6 Retention time range when searching for the possible peak in the raw data. Minimum data points \u00b6 Feature will be used for gap filling only if it satisfies the set minimum number of data points. Usually lower number of data points is used. Original fature lits \u00b6 User can either keep, remove or process in place of the original feature list.","title":"Gap filling (Peak finder)"},{"location":"module_docs/gapfill_peak_finder/gap-filling.html#peak-finder","text":"Some chromatographic peaks may not be detected in every sample for several reasons, such as deficient peak detection, mistake in the alignment of different peak lists, inaccurate mass calibration, etc. All of these reasons can result in undesirable gaps (missing values) in the aligned feature table. To account for this problem, the user can use the Peak finder module which searches through the original raw data to find the missing spectra, and is found under Feature list methods \u2192 Gap filling \u2192 Peak finder . This algorithm fills the gaps in the peak list when it is possible according with the parameters defined by the user, with the most crucial being m/z tolerance and RT tolerance . These two parameters define the window where the algorithm should find the new peak.","title":"Peak finder"},{"location":"module_docs/gapfill_peak_finder/gap-filling.html#parameters","text":"","title":"Parameters"},{"location":"module_docs/gapfill_peak_finder/gap-filling.html#name-suffix","text":"Suffix to be added to the peak list name.","title":"Name suffix"},{"location":"module_docs/gapfill_peak_finder/gap-filling.html#intensity-tolerance","text":"Maximum allowed deviation from the expected peak shape in chromatographic direction.","title":"Intensity tolerance"},{"location":"module_docs/gapfill_peak_finder/gap-filling.html#mz-tolerance","text":"m/z range which will be applied when searching for the possible peak in the raw data.","title":"m/z tolerance"},{"location":"module_docs/gapfill_peak_finder/gap-filling.html#retention-time-tolerance","text":"Retention time range when searching for the possible peak in the raw data.","title":"Retention time tolerance"},{"location":"module_docs/gapfill_peak_finder/gap-filling.html#minimum-data-points","text":"Feature will be used for gap filling only if it satisfies the set minimum number of data points. Usually lower number of data points is used.","title":"Minimum data points"},{"location":"module_docs/gapfill_peak_finder/gap-filling.html#original-fature-lits","text":"User can either keep, remove or process in place of the original feature list.","title":"Original fature lits"},{"location":"module_docs/id_ccs_calibration/ccs_calibration.html","text":"CCS Calibration and calculation \u00b6 Accurate determination of CCS values requires a valid CCS calibration and molecule charge states to be detected. timsTOF raw data can be recalibrated using data analysis and imported in MZmine. The recalibrated data will be used by default. (see Calculating CCS values ) mzML raw data requires the determination of a calibration function from the raw data (e.g. as detected features) or as import from an external file. (see Creating or importing a CCS calibration ) Creating or importing a CCS calibration \u00b6 Importing a CCS calibration \u00b6 Agilent calibration data can be imported from the \"OverrideImsCal.xml\" file in the Agilent raw data folder. Waters calibration data can be imported from the \"mob_cal.csv\" file in the Waters raw data folder. The \"_extern.inf\" file is also required, but will be read automatically when the \"mob_cal.csv\" is selected. The calibration import is accessed via Feature list methods -> Processing -> External CCS Calibration . Then select the calibration \"OverrideImsCal.xml\"/\"mob_cal.csv\" from the raw data folder, and select the raw data files the calibration should be applied to. Reference CSS calibration \u00b6 If a mobility calibrant is infused during an HPLC run of every sample, a CCS calibration can be calculated on a per-raw file basis. (Common procedure on Bruker devices) Otherwise, a single run can be used to calibrate multiple files. Please note that this is currently only supported for TIMS and DTIMS data. The calibration module can be accessed via Feature list methods -> Processing -> Internal reference calibration . Set to additional raw files If a calibration calculated from a single feature list shall be applied to multiple other raw files, the raw files can be selected here. This requires only a single raw file to be selected. Feature list (with reference compounds) Specifies (a) feature list(s) that contains the reference compounds. If multiple feature lists are selected, every feature list will be searched for reference compounds, and the calibration will be used for the raw data files in the particular feature list. This means that no raw data file may be selected. (Cannot set multiple calibrations to a single raw file.) If a single feature list is selected, the calibration may be applied to additional raw data files via the Set to additional raw files parameter. Reference list Specifies a \".csv\" reference list of for CCS calibrant ions. Must contain the columns \" mz\", \"mobility\", \"ccs\", \"charge\". Columns must be separated by \";\". The ion mode may be specified via the charge of the ion, e.g., as 1 or -1. Only the correct polarity will be used to calculate the calibration. m/z tolerance The m/z tolerance for the reference compounds. Mobility tolerance the mobiltiy tolerance to detect the reference compounds. Calibration segment RT Range Specifies the rt range that shall be searched for calibrant ions. Usually either the beginning or end of a HPLC run. Minimum height A minimum intensity for reference compounds to be used as calibrant signals for determination of the calibration. Calculating CCS values \u00b6 After a calibration as been set (Agilent/Waters/Bruker mzML) (Bruker tdf works out-of-the-box) CCS values can be calculated via Feature list methods -> Processing -> Calculate CCS values . Here, a default charge state may be set, in case it could not be determined. Otherwise, the charge state determined via the isotope pattern will be used.","title":"CCS calibration"},{"location":"module_docs/id_ccs_calibration/ccs_calibration.html#ccs-calibration-and-calculation","text":"Accurate determination of CCS values requires a valid CCS calibration and molecule charge states to be detected. timsTOF raw data can be recalibrated using data analysis and imported in MZmine. The recalibrated data will be used by default. (see Calculating CCS values ) mzML raw data requires the determination of a calibration function from the raw data (e.g. as detected features) or as import from an external file. (see Creating or importing a CCS calibration )","title":"CCS Calibration and calculation"},{"location":"module_docs/id_ccs_calibration/ccs_calibration.html#creating-or-importing-a-ccs-calibration","text":"","title":"Creating or importing a CCS calibration"},{"location":"module_docs/id_ccs_calibration/ccs_calibration.html#importing-a-ccs-calibration","text":"Agilent calibration data can be imported from the \"OverrideImsCal.xml\" file in the Agilent raw data folder. Waters calibration data can be imported from the \"mob_cal.csv\" file in the Waters raw data folder. The \"_extern.inf\" file is also required, but will be read automatically when the \"mob_cal.csv\" is selected. The calibration import is accessed via Feature list methods -> Processing -> External CCS Calibration . Then select the calibration \"OverrideImsCal.xml\"/\"mob_cal.csv\" from the raw data folder, and select the raw data files the calibration should be applied to.","title":"Importing a CCS calibration"},{"location":"module_docs/id_ccs_calibration/ccs_calibration.html#reference-css-calibration","text":"If a mobility calibrant is infused during an HPLC run of every sample, a CCS calibration can be calculated on a per-raw file basis. (Common procedure on Bruker devices) Otherwise, a single run can be used to calibrate multiple files. Please note that this is currently only supported for TIMS and DTIMS data. The calibration module can be accessed via Feature list methods -> Processing -> Internal reference calibration . Set to additional raw files If a calibration calculated from a single feature list shall be applied to multiple other raw files, the raw files can be selected here. This requires only a single raw file to be selected. Feature list (with reference compounds) Specifies (a) feature list(s) that contains the reference compounds. If multiple feature lists are selected, every feature list will be searched for reference compounds, and the calibration will be used for the raw data files in the particular feature list. This means that no raw data file may be selected. (Cannot set multiple calibrations to a single raw file.) If a single feature list is selected, the calibration may be applied to additional raw data files via the Set to additional raw files parameter. Reference list Specifies a \".csv\" reference list of for CCS calibrant ions. Must contain the columns \" mz\", \"mobility\", \"ccs\", \"charge\". Columns must be separated by \";\". The ion mode may be specified via the charge of the ion, e.g., as 1 or -1. Only the correct polarity will be used to calculate the calibration. m/z tolerance The m/z tolerance for the reference compounds. Mobility tolerance the mobiltiy tolerance to detect the reference compounds. Calibration segment RT Range Specifies the rt range that shall be searched for calibrant ions. Usually either the beginning or end of a HPLC run. Minimum height A minimum intensity for reference compounds to be used as calibrant signals for determination of the calibration.","title":"Reference CSS calibration"},{"location":"module_docs/id_ccs_calibration/ccs_calibration.html#calculating-ccs-values","text":"After a calibration as been set (Agilent/Waters/Bruker mzML) (Bruker tdf works out-of-the-box) CCS values can be calculated via Feature list methods -> Processing -> Calculate CCS values . Here, a default charge state may be set, in case it could not be determined. Otherwise, the charge state determined via the isotope pattern will be used.","title":"Calculating CCS values"},{"location":"module_docs/id_spectral_library_creation/spectral_library_creation.html","text":"Spectral library creation \u00b6","title":"Spectral library creation"},{"location":"module_docs/id_spectral_library_creation/spectral_library_creation.html#spectral-library-creation","text":"","title":"Spectral library creation"},{"location":"module_docs/id_spectral_library_search/spectral_library_search.html","text":"Spectral library search \u00b6 The spectral library search module can be performed on feature lists, feature list rows, or single scans. Depending on the MS level (MS1 or MS2), all corresponding query scans (e.g., extracted from the rows) will be matched against selected spectral libraries that were previously imported (formats: .json, .mgf, .msp, or .jdx). The Spectral library search module is found under Feature list methods \u2192 Annotation \u2192 Search spectra \u2192 Spectral library search or with a right click on one or multiple selected feature rows Search \u2192 Spectral library search Preferred ways to import libraries are in this order: - together with spectral data files in the advanced data import: Raw data methods \u2192 Raw data import \u2192 MS data (advanced) - drag and drop into the main window - with a dedicated import module: Raw data methods \u2192 Raw data import \u2192 Spectral library import or under Feature list methods \u2192 Annotation \u2192 Search spectra \u2192 Import spectral libraries. Supported library formats \u00b6 .json: MassBank of North America (MoNA) ( download ) .json: The Global Natural Product Social Molecular Networking (GNPS) (format from the spectral DB submission module) .mgf: GNPS ( download ) .msp: MoNA .msp: National Institute of Standards and Technology (NIST) .jdx: JCAMP-DX Parameters \u00b6 Spectral libraries \u00b6 The spectral libraries of interest need to be imported before applying spectral library search. Either uses all imported spectral libraries or only the selected libraries. MS level \u00b6 Choose the MS level of the scans that should be compared with the library. Set the MS level to \"1\" to compare MS 1 spectra, e.g., from GC-EI-MS or MALDI-imaging MS 1 data. Use \"2\" or higher for fragmentation scans. In case of issues with the scan selection, check the actual scan numbers of the scans as they are reported in the data files and in MZmine's raw data overview and scan list. Check all scans (only for MS2) \u00b6 This option enables the comparison of all MS2 scans otherwise only the most intense MS 2 scan (highest TIC) is used for the matching. It does not apply to MS1 scans. Precursor m/z tolerance \u00b6 This option is only used for MS level > 1. Here, the library entries are filtered by their precursor m/z reducing the number of spectral-pairs to match. The absolute (in m/z) and relative (in ppm) m/z tolerance can be set, whereas the maximum tolerance for each precursor is applied. Considering that the precursor isolation window is often far greater than the resolution or accuracy of the MS scan, this parameter is often set to higher m/z tolerances. Another aspect is the used library, which might contain uncalibrated reference spectra from lower resolution instruments. Remove precursor \u00b6 Can be only selected for MS level > 1. Depending on the fragmentation method, e.g., collision induced dissociation (CID) or higher-energy collisional dissociation (HCD), the precursor can be detected with different intensities resulting in varying cosine similarities during the library matching. Therefore, this option enables the removal of the precursor signal within the precursor m/z tolerance (parameter above) prior to the matching. Spectral m/z tolerance \u00b6 This m/z tolerance is used to pair signals in the query and library scans. It can be set in absolute (in m/z) and relative (in ppm) m/z tolerance, whereas the maximum tolerance for each m/z value is applied. It must be kept in mind, which mass resolutions are achieved within the experimental spectra and within the spectral library. Retention time tolerance \u00b6 The maximum allowed retention time difference when comparing the query and library scan. This option is useful for in-house libraries or standardized libraries that follow the same acquisition protocol with the same set up, e.g., column, instrument, and method). It can be set in absolute (min or sec) or relative (%) values. CCS tolerance \u00b6 The collision cross-section (CCS) tolerance can be used in a similar way as the retention time tolerance. Accordingly, the CCS value of a query will be compared with the library entries and the maximum tolerance can be set in %. If the query or library entry was analyzed without ion mobility (no CCS values), no spectrum will be matched. Crop spectra to m/z overlap \u00b6 If query and library scans were acquired with different methods, e.g., mass range, fragmentation energy or mode, it can be helpful to crop the spectra to their overlapping m/z range (+ m/z tolerance). This is done by using the maximum m/z range where both spectra contain signals. However, this method will boost false matches and needs strict manual interpretation. Minimum ion intensity \u00b6 Signals in the query scan below the minimum ion intensity will be filtered from the mass lists and are not taken into account during the library matching. Absolute values. 13 C deisotoping \u00b6 Removes 13 C isotope signals from the mass list using the following parameters: - m/z tolerance : Maximum allowed difference between the measured and predicted isotope m/z values. The absolute (in m/z) and relative (in ppm) m/z tolerance can be set, whereas the maximum tolerance for each m/z value is applied. - Monotonic shape : If enabled, the monotonically decreasing height of isotope pattern is required. - Maximum charge : The maximum charge that will be considered for detecting the isotope pattern. For singly charged ions, the 13 C isotope will be expected +1 whereas for doubly charged ions it will be +0.5 (+1 m/z divided by the charge 2). Min matched isotope signals \u00b6 This option is only useful if the query AND library entries contain isotope patterns (e.g., in MS 1 or with wider precursor isolation windows). The minimum number of matched signals of 13 C isotopes. It cannot be applied when 13 C deisotoping is enabled. Min matched signals \u00b6 The query mass list and spectral library entry must contain at least this number of matched (paired) m/z values (+- m/z tolerance). This parameter must be set carefully to not exclude compounds that show less fragmentation, when using a higher number of matched signals. Choosing a lower number of matched signals can result in spurious library hits. Common parameters include 4 signals for smaller molecules and 6 for more confident matches. Similarity \u00b6 Different algorithms can be applied to calculate the similarity of the query and library scans and to filter the resulting library matches. The most common spectral similarity measure for library search is the weighted cosine similarity. The weighted dot-product cosine similarity is used for comparing MS 2 data, whereas the composite dot-product identity (similar to NIST search) considers the relative intensity of neighboring signals and is, therefore, applied to MS 1 spectra from GC-EI-MS. Weights : For calculating the cosine similarity, different weighting strategies for m/z and signal intensities can be applied. A usual scaling is based on the square root of the peak intensity (sometimes multiplying by the squared m/z to value larger fragments over smaller ones). Minimum cosine similarity : This option defines the minimum accepted similarity score that is taken into account for annotation. The similarity score depends on the data handling of unmatched signals. Handle unmatched signals : Signals that only occur within one scan (query OR library entry) can be handled in different ways to affect the cosine similarity and controlling the quality of matching results. Keep all and match to zero This is the standard conservative approach where all unmatched signals weigh negatively on the score. It is used for both GC-EI-MS and MS 2 spectra. Remove all is the opposite option and discard all unaligned signals, which increases the similarity score artificially. This option is only feasible if both the library and query spectrum are considered to be complex mixtures. Therefore, the last two options are more conservative. Keep library signals results in discarding all unaligned signals of the query scan, whereas all unaligned library signals are matched to zero, setting the library spectrum as the ground truth. Here, the negative impact of contaminating signals in the query scans are reduced. This might be helpful for mixed spectra of multiple compounds, especially during imaging techniques without any further separation or all ion fragmentation/data independent fragmentation workflows. Keep experimental signals results in discarding all unaligned signals of the library scan, whereas all unaligned query signals are matched to zero. With reversed effects compared to the previous option.","title":"Spectral library search"},{"location":"module_docs/id_spectral_library_search/spectral_library_search.html#spectral-library-search","text":"The spectral library search module can be performed on feature lists, feature list rows, or single scans. Depending on the MS level (MS1 or MS2), all corresponding query scans (e.g., extracted from the rows) will be matched against selected spectral libraries that were previously imported (formats: .json, .mgf, .msp, or .jdx). The Spectral library search module is found under Feature list methods \u2192 Annotation \u2192 Search spectra \u2192 Spectral library search or with a right click on one or multiple selected feature rows Search \u2192 Spectral library search Preferred ways to import libraries are in this order: - together with spectral data files in the advanced data import: Raw data methods \u2192 Raw data import \u2192 MS data (advanced) - drag and drop into the main window - with a dedicated import module: Raw data methods \u2192 Raw data import \u2192 Spectral library import or under Feature list methods \u2192 Annotation \u2192 Search spectra \u2192 Import spectral libraries.","title":"Spectral library search"},{"location":"module_docs/id_spectral_library_search/spectral_library_search.html#supported-library-formats","text":".json: MassBank of North America (MoNA) ( download ) .json: The Global Natural Product Social Molecular Networking (GNPS) (format from the spectral DB submission module) .mgf: GNPS ( download ) .msp: MoNA .msp: National Institute of Standards and Technology (NIST) .jdx: JCAMP-DX","title":"Supported library formats"},{"location":"module_docs/id_spectral_library_search/spectral_library_search.html#parameters","text":"","title":"Parameters"},{"location":"module_docs/id_spectral_library_search/spectral_library_search.html#spectral-libraries","text":"The spectral libraries of interest need to be imported before applying spectral library search. Either uses all imported spectral libraries or only the selected libraries.","title":"Spectral libraries"},{"location":"module_docs/id_spectral_library_search/spectral_library_search.html#ms-level","text":"Choose the MS level of the scans that should be compared with the library. Set the MS level to \"1\" to compare MS 1 spectra, e.g., from GC-EI-MS or MALDI-imaging MS 1 data. Use \"2\" or higher for fragmentation scans. In case of issues with the scan selection, check the actual scan numbers of the scans as they are reported in the data files and in MZmine's raw data overview and scan list.","title":"MS level"},{"location":"module_docs/id_spectral_library_search/spectral_library_search.html#check-all-scans-only-for-ms2","text":"This option enables the comparison of all MS2 scans otherwise only the most intense MS 2 scan (highest TIC) is used for the matching. It does not apply to MS1 scans.","title":"Check all scans (only for MS2)"},{"location":"module_docs/id_spectral_library_search/spectral_library_search.html#precursor-mz-tolerance","text":"This option is only used for MS level > 1. Here, the library entries are filtered by their precursor m/z reducing the number of spectral-pairs to match. The absolute (in m/z) and relative (in ppm) m/z tolerance can be set, whereas the maximum tolerance for each precursor is applied. Considering that the precursor isolation window is often far greater than the resolution or accuracy of the MS scan, this parameter is often set to higher m/z tolerances. Another aspect is the used library, which might contain uncalibrated reference spectra from lower resolution instruments.","title":"Precursor m/z tolerance"},{"location":"module_docs/id_spectral_library_search/spectral_library_search.html#remove-precursor","text":"Can be only selected for MS level > 1. Depending on the fragmentation method, e.g., collision induced dissociation (CID) or higher-energy collisional dissociation (HCD), the precursor can be detected with different intensities resulting in varying cosine similarities during the library matching. Therefore, this option enables the removal of the precursor signal within the precursor m/z tolerance (parameter above) prior to the matching.","title":"Remove precursor"},{"location":"module_docs/id_spectral_library_search/spectral_library_search.html#spectral-mz-tolerance","text":"This m/z tolerance is used to pair signals in the query and library scans. It can be set in absolute (in m/z) and relative (in ppm) m/z tolerance, whereas the maximum tolerance for each m/z value is applied. It must be kept in mind, which mass resolutions are achieved within the experimental spectra and within the spectral library.","title":"Spectral m/z tolerance"},{"location":"module_docs/id_spectral_library_search/spectral_library_search.html#retention-time-tolerance","text":"The maximum allowed retention time difference when comparing the query and library scan. This option is useful for in-house libraries or standardized libraries that follow the same acquisition protocol with the same set up, e.g., column, instrument, and method). It can be set in absolute (min or sec) or relative (%) values.","title":"Retention time tolerance"},{"location":"module_docs/id_spectral_library_search/spectral_library_search.html#ccs-tolerance","text":"The collision cross-section (CCS) tolerance can be used in a similar way as the retention time tolerance. Accordingly, the CCS value of a query will be compared with the library entries and the maximum tolerance can be set in %. If the query or library entry was analyzed without ion mobility (no CCS values), no spectrum will be matched.","title":"CCS tolerance"},{"location":"module_docs/id_spectral_library_search/spectral_library_search.html#crop-spectra-to-mz-overlap","text":"If query and library scans were acquired with different methods, e.g., mass range, fragmentation energy or mode, it can be helpful to crop the spectra to their overlapping m/z range (+ m/z tolerance). This is done by using the maximum m/z range where both spectra contain signals. However, this method will boost false matches and needs strict manual interpretation.","title":"Crop spectra to m/z overlap"},{"location":"module_docs/id_spectral_library_search/spectral_library_search.html#minimum-ion-intensity","text":"Signals in the query scan below the minimum ion intensity will be filtered from the mass lists and are not taken into account during the library matching. Absolute values.","title":"Minimum ion intensity"},{"location":"module_docs/id_spectral_library_search/spectral_library_search.html#13c-deisotoping","text":"Removes 13 C isotope signals from the mass list using the following parameters: - m/z tolerance : Maximum allowed difference between the measured and predicted isotope m/z values. The absolute (in m/z) and relative (in ppm) m/z tolerance can be set, whereas the maximum tolerance for each m/z value is applied. - Monotonic shape : If enabled, the monotonically decreasing height of isotope pattern is required. - Maximum charge : The maximum charge that will be considered for detecting the isotope pattern. For singly charged ions, the 13 C isotope will be expected +1 whereas for doubly charged ions it will be +0.5 (+1 m/z divided by the charge 2).","title":"13C deisotoping"},{"location":"module_docs/id_spectral_library_search/spectral_library_search.html#min-matched-isotope-signals","text":"This option is only useful if the query AND library entries contain isotope patterns (e.g., in MS 1 or with wider precursor isolation windows). The minimum number of matched signals of 13 C isotopes. It cannot be applied when 13 C deisotoping is enabled.","title":"Min matched isotope signals"},{"location":"module_docs/id_spectral_library_search/spectral_library_search.html#min-matched-signals","text":"The query mass list and spectral library entry must contain at least this number of matched (paired) m/z values (+- m/z tolerance). This parameter must be set carefully to not exclude compounds that show less fragmentation, when using a higher number of matched signals. Choosing a lower number of matched signals can result in spurious library hits. Common parameters include 4 signals for smaller molecules and 6 for more confident matches.","title":"Min matched signals"},{"location":"module_docs/id_spectral_library_search/spectral_library_search.html#similarity","text":"Different algorithms can be applied to calculate the similarity of the query and library scans and to filter the resulting library matches. The most common spectral similarity measure for library search is the weighted cosine similarity. The weighted dot-product cosine similarity is used for comparing MS 2 data, whereas the composite dot-product identity (similar to NIST search) considers the relative intensity of neighboring signals and is, therefore, applied to MS 1 spectra from GC-EI-MS. Weights : For calculating the cosine similarity, different weighting strategies for m/z and signal intensities can be applied. A usual scaling is based on the square root of the peak intensity (sometimes multiplying by the squared m/z to value larger fragments over smaller ones). Minimum cosine similarity : This option defines the minimum accepted similarity score that is taken into account for annotation. The similarity score depends on the data handling of unmatched signals. Handle unmatched signals : Signals that only occur within one scan (query OR library entry) can be handled in different ways to affect the cosine similarity and controlling the quality of matching results. Keep all and match to zero This is the standard conservative approach where all unmatched signals weigh negatively on the score. It is used for both GC-EI-MS and MS 2 spectra. Remove all is the opposite option and discard all unaligned signals, which increases the similarity score artificially. This option is only feasible if both the library and query spectrum are considered to be complex mixtures. Therefore, the last two options are more conservative. Keep library signals results in discarding all unaligned signals of the query scan, whereas all unaligned library signals are matched to zero, setting the library spectrum as the ground truth. Here, the negative impact of contaminating signals in the query scans are reduced. This might be helpful for mixed spectra of multiple compounds, especially during imaging techniques without any further separation or all ion fragmentation/data independent fragmentation workflows. Keep experimental signals results in discarding all unaligned signals of the library scan, whereas all unaligned query signals are matched to zero. With reversed effects compared to the previous option.","title":"Similarity"},{"location":"module_docs/io/data-export.html","text":"Data export \u00b6 MZmine allows several types of data export: to *.mzML, to *.netCDF, spectra/mass list to mgf, txt, msp and mzML export, MS(n) trees export. Export scans - Spectra/mass list to mgf, txt, msp and mzML export \u00b6 Description \u00b6 This module exports scans or mass lists Parameters \u00b6 Raw data files One or more raw data files that contain the scans/mass lists Optional mass list If checked, mass lists are exported instead of raw scans File The destination Format mgf: MASCOT generic format - useful for SIRIUS txt: Plain text format msp: NIST search format mzML: Open format standard for MS data","title":"Data export"},{"location":"module_docs/io/data-export.html#data-export","text":"MZmine allows several types of data export: to *.mzML, to *.netCDF, spectra/mass list to mgf, txt, msp and mzML export, MS(n) trees export.","title":"Data export"},{"location":"module_docs/io/data-export.html#export-scans-spectramass-list-to-mgf-txt-msp-and-mzml-export","text":"","title":"Export scans - Spectra/mass list to mgf, txt, msp and mzML export"},{"location":"module_docs/io/data-export.html#description","text":"This module exports scans or mass lists","title":"Description"},{"location":"module_docs/io/data-export.html#parameters","text":"Raw data files One or more raw data files that contain the scans/mass lists Optional mass list If checked, mass lists are exported instead of raw scans File The destination Format mgf: MASCOT generic format - useful for SIRIUS txt: Plain text format msp: NIST search format mzML: Open format standard for MS data","title":"Parameters"},{"location":"module_docs/io/data-import.html","text":"Data import \u00b6 LC-MS data \u00b6 Raw data can be imported via the main menu Raw data methods \u2192 Raw data import . Note that multiple data files/folders can be dropped into the MS data (advanced) dialog. If individual modules are used, folder based formats can only imported as one folder at a time. When using the MS data (advanced) dialog, inexperienced users should deactivate the direct mass detection steps, since they alter the raw data on the import. Mass detection is then performed, when the scans are loaded and only peaks above the noise level are imported. Alternatively, you can simply drag & drop the raw data into the raw data list of the main window. LC-IMS-MS data \u00b6 As any other data format, ion mobility data can be imported via the main menu Raw data methods \u2192 Raw data import . Note that multiple .tdf data folders can be dropped into the MS data (advanced) dialog. The Bruker TDF import can only select a single folder. When using the MS data (advanced) dialog, inexperienced users should deactivate the direct mass detection steps, since they alter the raw data on the import. Mass detection is then performend, when the scans are loaded and only peaks above the noise level are imported. Alternatively, you can simply drag & drop the raw data into the raw data list of the main window.","title":"Data import"},{"location":"module_docs/io/data-import.html#data-import","text":"","title":"Data import"},{"location":"module_docs/io/data-import.html#lc-ms-data","text":"Raw data can be imported via the main menu Raw data methods \u2192 Raw data import . Note that multiple data files/folders can be dropped into the MS data (advanced) dialog. If individual modules are used, folder based formats can only imported as one folder at a time. When using the MS data (advanced) dialog, inexperienced users should deactivate the direct mass detection steps, since they alter the raw data on the import. Mass detection is then performed, when the scans are loaded and only peaks above the noise level are imported. Alternatively, you can simply drag & drop the raw data into the raw data list of the main window.","title":"LC-MS data"},{"location":"module_docs/io/data-import.html#lc-ims-ms-data","text":"As any other data format, ion mobility data can be imported via the main menu Raw data methods \u2192 Raw data import . Note that multiple .tdf data folders can be dropped into the MS data (advanced) dialog. The Bruker TDF import can only select a single folder. When using the MS data (advanced) dialog, inexperienced users should deactivate the direct mass detection steps, since they alter the raw data on the import. Mass detection is then performend, when the scans are loaded and only peaks above the noise level are imported. Alternatively, you can simply drag & drop the raw data into the raw data list of the main window.","title":"LC-IMS-MS data"},{"location":"module_docs/join_aligner/join_aligner.html","text":"Join aligner \u00b6 This method aligns detected peaks in different samples through a match score. This score is calculated based on the mass and retention time of each peak and ranges of tolerance stipulated in the parameter setup dialog. The join aligner module is found under Feature list methods \u2192 Alignment \u2192 Join aligner . Algorithm \u00b6 The peak alignment algorithm uses: a master list of peaks (L) against which every new sample (Sj) will be matched. When aligning peaks from multiple samples, the master list is initially set to the first sample, and subsequently it will be the combination of samples aligned thus far, with the samples as the columns and the matching peaks as the rows. for every row i in L, a two-dimensional window (where the window size is selected by the user), called Alignment window (AW) defining the ranges of m/z and RT and centered around the average of m/z and RT of all the individual peaks in the row; and a score function to compute the similarity of peaks between L and the new sample Sj inside the alignment window. The score function computes the similarity based on the similarities in m/z, retention time, and optionally on identification, and isotope patterns between the peaks to be matched. The score is calculated as follows: score = ((1 - MZdifference / MZtolerance) \u00d7 MZweight) + ((1 - RTdifference / RTtolerance) \u00d7 RTweight) The algorithm works as follows. It iterates through the rows of L, and for each row, it looks for peaks within the alignment window in Sj that has to be aligned with L. A score is calculated for each possible match and the pair getting the best score will be aligned. Parameters \u00b6 Feature list name \u00b6 Name of the new aligned peak list. m/z tolerance \u00b6 Maximum allowed difference between two m/z values in order for them to be considered the same and thus the peaks aligned. The value is specified both as absolute tolerance (in m/z) and relative tolerance (in ppm). The tolerance range is calculated using maximum of the absolute and relative tolerances for possible peaks to be aligned. Weight for m/z \u00b6 This is the assigned weight for m/z difference at the moment of match score calculation between peak rows, as can be seen in the aforementioned formula. Only in cases where there is a perfect match of m/z values, the score receives the complete m/z weight. Generally, higher weight is given to m/z values than to RT values. Retention time tolerance \u00b6 Maximum allowed difference between two retention times in order for them to be considered the same and thus peaks aligned. Maximum RT difference can be defined either using absolute or relative value. Weight for RT \u00b6 This is the assigned weight for RT difference at the moment of match score calculation between peak rows. Only in cases where there is a perfect match of RT values, the score receives the complete RT weight. Mobility tolerance \u00b6 In case of IM data,the user can determine the mobility tolerance. If checked, this parameter specifies the tolerance range for matching the mobility values. Mobility weight \u00b6 Score for perfectly matching mobility values. Only taken into account if \"Mobility tolerance\" is activated. Furthermore, score calculation that is mentioned in the Algorithm is then modified to account for the mobility as well. Mobility tolerance and weight are accounted for in the same manner as m/z and RT parameters. Require same charge state \u00b6 If checked, only rows having same charge can be aligned. Require same ID \u00b6 If checked, only rows having same compound identities (or no identities) can be aligned. Compare isotope pattern \u00b6 If both peaks represent an isotope pattern, checking this box will add isotope pattern score to the match score calculation. Additionally, the user can set up isotope m/z tolerance which defines what isotopes would be considered same when comparing two isotopic patterns, minimum absolute intensity below which isotopes will be ignored and minimum score % between isotope patterns that has to be satisfied in order for the match to not be discarded. Compare spectra similarity \u00b6 Compare MS1 or MS2 scans similarity. Select the m/z tolerance, MS level and spectra similarity algorithm. Only features meeting this criteria will be aligned. See compare spectra similarity for additional information. Original feature list \u00b6 The user can choose to either KEEP the original feature list and generate a new processed one, or REMOVE the original feature list with the processed one. Generally, you would keep the original feature list, but opting for REMOVE will save memory.","title":"Join aligner"},{"location":"module_docs/join_aligner/join_aligner.html#join-aligner","text":"This method aligns detected peaks in different samples through a match score. This score is calculated based on the mass and retention time of each peak and ranges of tolerance stipulated in the parameter setup dialog. The join aligner module is found under Feature list methods \u2192 Alignment \u2192 Join aligner .","title":"Join aligner"},{"location":"module_docs/join_aligner/join_aligner.html#algorithm","text":"The peak alignment algorithm uses: a master list of peaks (L) against which every new sample (Sj) will be matched. When aligning peaks from multiple samples, the master list is initially set to the first sample, and subsequently it will be the combination of samples aligned thus far, with the samples as the columns and the matching peaks as the rows. for every row i in L, a two-dimensional window (where the window size is selected by the user), called Alignment window (AW) defining the ranges of m/z and RT and centered around the average of m/z and RT of all the individual peaks in the row; and a score function to compute the similarity of peaks between L and the new sample Sj inside the alignment window. The score function computes the similarity based on the similarities in m/z, retention time, and optionally on identification, and isotope patterns between the peaks to be matched. The score is calculated as follows: score = ((1 - MZdifference / MZtolerance) \u00d7 MZweight) + ((1 - RTdifference / RTtolerance) \u00d7 RTweight) The algorithm works as follows. It iterates through the rows of L, and for each row, it looks for peaks within the alignment window in Sj that has to be aligned with L. A score is calculated for each possible match and the pair getting the best score will be aligned.","title":"Algorithm"},{"location":"module_docs/join_aligner/join_aligner.html#parameters","text":"","title":"Parameters"},{"location":"module_docs/join_aligner/join_aligner.html#feature-list-name","text":"Name of the new aligned peak list.","title":"Feature list name"},{"location":"module_docs/join_aligner/join_aligner.html#mz-tolerance","text":"Maximum allowed difference between two m/z values in order for them to be considered the same and thus the peaks aligned. The value is specified both as absolute tolerance (in m/z) and relative tolerance (in ppm). The tolerance range is calculated using maximum of the absolute and relative tolerances for possible peaks to be aligned.","title":"m/z tolerance"},{"location":"module_docs/join_aligner/join_aligner.html#weight-for-mz","text":"This is the assigned weight for m/z difference at the moment of match score calculation between peak rows, as can be seen in the aforementioned formula. Only in cases where there is a perfect match of m/z values, the score receives the complete m/z weight. Generally, higher weight is given to m/z values than to RT values.","title":"Weight for m/z"},{"location":"module_docs/join_aligner/join_aligner.html#retention-time-tolerance","text":"Maximum allowed difference between two retention times in order for them to be considered the same and thus peaks aligned. Maximum RT difference can be defined either using absolute or relative value.","title":"Retention time tolerance"},{"location":"module_docs/join_aligner/join_aligner.html#weight-for-rt","text":"This is the assigned weight for RT difference at the moment of match score calculation between peak rows. Only in cases where there is a perfect match of RT values, the score receives the complete RT weight.","title":"Weight for RT"},{"location":"module_docs/join_aligner/join_aligner.html#mobility-tolerance","text":"In case of IM data,the user can determine the mobility tolerance. If checked, this parameter specifies the tolerance range for matching the mobility values.","title":"Mobility tolerance"},{"location":"module_docs/join_aligner/join_aligner.html#mobility-weight","text":"Score for perfectly matching mobility values. Only taken into account if \"Mobility tolerance\" is activated. Furthermore, score calculation that is mentioned in the Algorithm is then modified to account for the mobility as well. Mobility tolerance and weight are accounted for in the same manner as m/z and RT parameters.","title":"Mobility weight"},{"location":"module_docs/join_aligner/join_aligner.html#require-same-charge-state","text":"If checked, only rows having same charge can be aligned.","title":"Require same charge state"},{"location":"module_docs/join_aligner/join_aligner.html#require-same-id","text":"If checked, only rows having same compound identities (or no identities) can be aligned.","title":"Require same ID"},{"location":"module_docs/join_aligner/join_aligner.html#compare-isotope-pattern","text":"If both peaks represent an isotope pattern, checking this box will add isotope pattern score to the match score calculation. Additionally, the user can set up isotope m/z tolerance which defines what isotopes would be considered same when comparing two isotopic patterns, minimum absolute intensity below which isotopes will be ignored and minimum score % between isotope patterns that has to be satisfied in order for the match to not be discarded.","title":"Compare isotope pattern"},{"location":"module_docs/join_aligner/join_aligner.html#compare-spectra-similarity","text":"Compare MS1 or MS2 scans similarity. Select the m/z tolerance, MS level and spectra similarity algorithm. Only features meeting this criteria will be aligned. See compare spectra similarity for additional information.","title":"Compare spectra similarity"},{"location":"module_docs/join_aligner/join_aligner.html#original-feature-list","text":"The user can choose to either KEEP the original feature list and generate a new processed one, or REMOVE the original feature list with the processed one. Generally, you would keep the original feature list, but opting for REMOVE will save memory.","title":"Original feature list"},{"location":"module_docs/join_aligner/spectra_similarity.html","text":"Spectral m/z tolerance \u00b6 Spectral m/z tolerance is used to match all signals between spectra of two compared raw files. MS level \u00b6 MS level of scans that should be compared. It can be 1 for MS1 or 2 for MS2 level. Compare spectra similarity \u00b6 Weighted dot-product cosine - used to determine the similarity between two spectra (usually library and query spectra).This option is used for MS2 level. Composite dot-product identity - used to determine the similarity between two spectra (usually library and query spectra). Especially useful for very reproducible generation of spectra (GC-EI-MS). Takes into account the relative intensities of neighbouring signals in the two spectra. This option is used for MS1 level. Additional setup of spectra similarity comparison enables modification of the following parameters: Weights \u00b6 Weights for the m/z and intensity values. Usually, MassBank is used, in which higher m/z values contribute more to the cosine similarity calculation. Minimum cos similarity \u00b6 Minimum cosine similarity for a match between compared spectra. Handle unmatched signals \u00b6 Usually, keep all and match to zero is used, which will take all signals into account, and the unmatched ones will decrease the cosine similarity.","title":"Spectra similarity"},{"location":"module_docs/join_aligner/spectra_similarity.html#spectral-mz-tolerance","text":"Spectral m/z tolerance is used to match all signals between spectra of two compared raw files.","title":"Spectral m/z tolerance"},{"location":"module_docs/join_aligner/spectra_similarity.html#ms-level","text":"MS level of scans that should be compared. It can be 1 for MS1 or 2 for MS2 level.","title":"MS level"},{"location":"module_docs/join_aligner/spectra_similarity.html#compare-spectra-similarity","text":"Weighted dot-product cosine - used to determine the similarity between two spectra (usually library and query spectra).This option is used for MS2 level. Composite dot-product identity - used to determine the similarity between two spectra (usually library and query spectra). Especially useful for very reproducible generation of spectra (GC-EI-MS). Takes into account the relative intensities of neighbouring signals in the two spectra. This option is used for MS1 level. Additional setup of spectra similarity comparison enables modification of the following parameters:","title":"Compare spectra similarity"},{"location":"module_docs/join_aligner/spectra_similarity.html#weights","text":"Weights for the m/z and intensity values. Usually, MassBank is used, in which higher m/z values contribute more to the cosine similarity calculation.","title":"Weights"},{"location":"module_docs/join_aligner/spectra_similarity.html#minimum-cos-similarity","text":"Minimum cosine similarity for a match between compared spectra.","title":"Minimum cos similarity"},{"location":"module_docs/join_aligner/spectra_similarity.html#handle-unmatched-signals","text":"Usually, keep all and match to zero is used, which will take all signals into account, and the unmatched ones will decrease the cosine similarity.","title":"Handle unmatched signals"},{"location":"module_docs/lc-ims-ms_featdet/featdet_ims_expander/ims-expander.html","text":"IMS Expander \u00b6 The IMS expander will search for data points in mobility scans for existing features. This requires prior chromatogram building ( see ADAP Chromatogram builder and resolving in retention time dimension (see Resolving ). Parameter settings \u00b6 m/z tolerance \u00b6 If selected, a tolerance will be applied to the feature's detected m/z while searching for data points in mobility dimension. Otherwise, the accepted m/z range is determined by the feature's m/z distribution in accumulated frame spectra. Recommended setting: selected, 0.003 m/z and 15 ppm Raw data instead of thresholded \u00b6 Enables searching in mobility scan raw data instead of the thresholded (=mass detected) data. Only possible for centroid raw data files. Override default mobility bin width (scans) \u00b6 If selected, the default number of binned mobility scans can be overriden. Useful for data with high mobility resolution. Binned mobilogram example \u00b6","title":"Ion mobility expander"},{"location":"module_docs/lc-ims-ms_featdet/featdet_ims_expander/ims-expander.html#ims-expander","text":"The IMS expander will search for data points in mobility scans for existing features. This requires prior chromatogram building ( see ADAP Chromatogram builder and resolving in retention time dimension (see Resolving ).","title":"IMS Expander"},{"location":"module_docs/lc-ims-ms_featdet/featdet_ims_expander/ims-expander.html#parameter-settings","text":"","title":"Parameter settings"},{"location":"module_docs/lc-ims-ms_featdet/featdet_ims_expander/ims-expander.html#mz-tolerance","text":"If selected, a tolerance will be applied to the feature's detected m/z while searching for data points in mobility dimension. Otherwise, the accepted m/z range is determined by the feature's m/z distribution in accumulated frame spectra. Recommended setting: selected, 0.003 m/z and 15 ppm","title":"m/z tolerance"},{"location":"module_docs/lc-ims-ms_featdet/featdet_ims_expander/ims-expander.html#raw-data-instead-of-thresholded","text":"Enables searching in mobility scan raw data instead of the thresholded (=mass detected) data. Only possible for centroid raw data files.","title":"Raw data instead of thresholded"},{"location":"module_docs/lc-ims-ms_featdet/featdet_ims_expander/ims-expander.html#override-default-mobility-bin-width-scans","text":"If selected, the default number of binned mobility scans can be overriden. Useful for data with high mobility resolution.","title":"Override default mobility bin width (scans)"},{"location":"module_docs/lc-ims-ms_featdet/featdet_ims_expander/ims-expander.html#binned-mobilogram-example","text":"","title":"Binned mobilogram example"},{"location":"module_docs/lc-ims-ms_featdet/featdet_ion_mobility_trace_builder/ion-mobility-trace-builder.html","text":"Ion mobility trace builder \u00b6 The Ion mobility trace builder will build ion mobility traces from the raw data. Alternatively, the Recursive IMS builder can be used, which requires less ram but takes longer. The Ion mobility trace builder is found under Feature detection \u2192 LC-IMS-MS \u2192 Ion mobility trace builder . Scan selection \u00b6 The scan selection parameter specifies the scans that shall be processed for feature detection. Usually, setting the ms level to 1 is sufficient. If a calibration segment is present, it can be cut out via the retention time filter in the scan selection. m/z tolerance \u00b6 The m/z tolerance specifies the scan-to-scan tolerance for ion mobility traces. This tolerance window may need to be set higher that for classic LC-MS feature detection (e.g. to 0.005 m/z and 15-20 ppm instead of 10 ppm) due to lower intensities therefore less accuracy in individual mobility scans compared to LC-MS scans. Note that the overall accuracy is achieved via LC-IMS-MS is the same due to the higher number of scans. Minimum consecutive retention time data points \u00b6 This parameter specifies the number of consecutive detections of the same m/z value in a chromatographic peak (rt dimension only). This means that a single m/z has to be detected in, e.g, 5 frames with an intensity higher than zero. This parameter helps to filter noise. Consecutive detections in the mobility dimension do not affect this parameter. Usually no less than 5 should be set here if the MS1 acquisition rate is sufficient. Minimum total signals \u00b6 Specifies the total number of peaks in the mobility dimension in all mobility scans. Every \"dot\" in an ion mobility trace represents a single datapoint. Advanced parameters \u00b6 For most applications, these parameters do not need to set/altered. For high mobility resolved data the mobilograms might become noisy due to less ions reaching the detector at the same time. By default, the number of binned scans is set to cover about 0.0008 Vs/cm^2 per bin. The effect of binning can be seen here . If you are unsure about the nature of your data, you can perform trace building with the standard parameters and apply/preview the binning afterwards via the Feature detection \u2192 Mobilogram binning module. Processing result \u00b6 After performing ion mobiltiy trace detection, a feature list is created in the feature list tab (see feature lists tab ). In the feature table, multiple columns are created. The displayed columns can be set via the button on the right of the feature table ([1]). The shapes displays an EIC of the ion mobility trace (intensities summed in rt dimension). The mobilograms column shows a mobilogram for the ion mobility trace (intensities summed in mobility dimension). The shapes and projections can be smoothed and resolved. However, the ion mobility trace is always represented by the raw data and remains unaltered. After resolving, the shapes and mobilograms have to be recalculated from the raw data, which is why the smoothing is lost after resolving.","title":"Ion mobility trace builder"},{"location":"module_docs/lc-ims-ms_featdet/featdet_ion_mobility_trace_builder/ion-mobility-trace-builder.html#ion-mobility-trace-builder","text":"The Ion mobility trace builder will build ion mobility traces from the raw data. Alternatively, the Recursive IMS builder can be used, which requires less ram but takes longer. The Ion mobility trace builder is found under Feature detection \u2192 LC-IMS-MS \u2192 Ion mobility trace builder .","title":"Ion mobility trace builder"},{"location":"module_docs/lc-ims-ms_featdet/featdet_ion_mobility_trace_builder/ion-mobility-trace-builder.html#scan-selection","text":"The scan selection parameter specifies the scans that shall be processed for feature detection. Usually, setting the ms level to 1 is sufficient. If a calibration segment is present, it can be cut out via the retention time filter in the scan selection.","title":"Scan selection"},{"location":"module_docs/lc-ims-ms_featdet/featdet_ion_mobility_trace_builder/ion-mobility-trace-builder.html#mz-tolerance","text":"The m/z tolerance specifies the scan-to-scan tolerance for ion mobility traces. This tolerance window may need to be set higher that for classic LC-MS feature detection (e.g. to 0.005 m/z and 15-20 ppm instead of 10 ppm) due to lower intensities therefore less accuracy in individual mobility scans compared to LC-MS scans. Note that the overall accuracy is achieved via LC-IMS-MS is the same due to the higher number of scans.","title":"m/z tolerance"},{"location":"module_docs/lc-ims-ms_featdet/featdet_ion_mobility_trace_builder/ion-mobility-trace-builder.html#minimum-consecutive-retention-time-data-points","text":"This parameter specifies the number of consecutive detections of the same m/z value in a chromatographic peak (rt dimension only). This means that a single m/z has to be detected in, e.g, 5 frames with an intensity higher than zero. This parameter helps to filter noise. Consecutive detections in the mobility dimension do not affect this parameter. Usually no less than 5 should be set here if the MS1 acquisition rate is sufficient.","title":"Minimum consecutive retention time data points"},{"location":"module_docs/lc-ims-ms_featdet/featdet_ion_mobility_trace_builder/ion-mobility-trace-builder.html#minimum-total-signals","text":"Specifies the total number of peaks in the mobility dimension in all mobility scans. Every \"dot\" in an ion mobility trace represents a single datapoint.","title":"Minimum total signals"},{"location":"module_docs/lc-ims-ms_featdet/featdet_ion_mobility_trace_builder/ion-mobility-trace-builder.html#advanced-parameters","text":"For most applications, these parameters do not need to set/altered. For high mobility resolved data the mobilograms might become noisy due to less ions reaching the detector at the same time. By default, the number of binned scans is set to cover about 0.0008 Vs/cm^2 per bin. The effect of binning can be seen here . If you are unsure about the nature of your data, you can perform trace building with the standard parameters and apply/preview the binning afterwards via the Feature detection \u2192 Mobilogram binning module.","title":"Advanced parameters"},{"location":"module_docs/lc-ims-ms_featdet/featdet_ion_mobility_trace_builder/ion-mobility-trace-builder.html#processing-result","text":"After performing ion mobiltiy trace detection, a feature list is created in the feature list tab (see feature lists tab ). In the feature table, multiple columns are created. The displayed columns can be set via the button on the right of the feature table ([1]). The shapes displays an EIC of the ion mobility trace (intensities summed in rt dimension). The mobilograms column shows a mobilogram for the ion mobility trace (intensities summed in mobility dimension). The shapes and projections can be smoothed and resolved. However, the ion mobility trace is always represented by the raw data and remains unaltered. After resolving, the shapes and mobilograms have to be recalculated from the raw data, which is why the smoothing is lost after resolving.","title":"Processing result"},{"location":"module_docs/lc-ims-ms_featdet/recursive_ims_builder/recursive-ims-builder.html","text":"Recursive IMS builder \u00b6 Description \u00b6 Builds m/z traces for ion mobility spectrometry data. Parameters \u00b6 m/z tolerance The m/z tolerance to build ion traces. The tolerance is specified as a +- tolerance. m/z 500.000 with a tolerance of 0.01 will allow m/z change from 499.99 to 501.01. Minimum consecutive retention time data points The minimum number of consecutive detections in frames (retention time dimension). Minimum number of data points The minimum number of consecutive detections in frames (retention time dimension). Advanced parameters \u00b6 Allows adjustment of internal binning parameters for mobilograms. The default values are set to 1. Override default TIMS binning width (Vs/cm\u00b2) The binning width in mobility units of the selected raw data file. Travelling wave binning width (ms) The binning width in mobility units of the selected raw data file. Drift tube binning width (ms) The binning width in mobility units of the selected raw data file.","title":"Recursive IMS builder"},{"location":"module_docs/lc-ims-ms_featdet/recursive_ims_builder/recursive-ims-builder.html#recursive-ims-builder","text":"","title":"Recursive IMS builder"},{"location":"module_docs/lc-ims-ms_featdet/recursive_ims_builder/recursive-ims-builder.html#description","text":"Builds m/z traces for ion mobility spectrometry data.","title":"Description"},{"location":"module_docs/lc-ims-ms_featdet/recursive_ims_builder/recursive-ims-builder.html#parameters","text":"m/z tolerance The m/z tolerance to build ion traces. The tolerance is specified as a +- tolerance. m/z 500.000 with a tolerance of 0.01 will allow m/z change from 499.99 to 501.01. Minimum consecutive retention time data points The minimum number of consecutive detections in frames (retention time dimension). Minimum number of data points The minimum number of consecutive detections in frames (retention time dimension).","title":"Parameters"},{"location":"module_docs/lc-ims-ms_featdet/recursive_ims_builder/recursive-ims-builder.html#advanced-parameters","text":"Allows adjustment of internal binning parameters for mobilograms. The default values are set to 1. Override default TIMS binning width (Vs/cm\u00b2) The binning width in mobility units of the selected raw data file. Travelling wave binning width (ms) The binning width in mobility units of the selected raw data file. Drift tube binning width (ms) The binning width in mobility units of the selected raw data file.","title":"Advanced parameters"},{"location":"module_docs/lc-ms_featdet/featdet_adap_chromatogram_builder/adap-chromatogram-builder.html","text":"ADAP chromatogram builder \u00b6 Description \u00b6 The ADAP chromatogram builder module is one of the LC-MS feature detection algorithms provided by MZmine 3. The module essentially builds an EIC for each m/z value that was detected over a minimum number of consecutive scans in the LC-MS run. Each data file is processed individually. The mass list associated to each MS1 scan in a data file (see Mass detection module) are taken as input and a feature list is returned as output. Since a mass list must be available, the Mass detection module must be run first. The ADAP chromatogram builder algorithm operates as follows: Only MS1 scans are processed. All the data points are extracted from all the MS1 scans in a data file and sorted in order of decreasing intensity. The processing starts from the most intense data point. Since no EICs have yet been created, a new EIC is initialized and associated to the corresponding m/z value. The processing proceeds with the second-highest data point. The corresponding m/z is checked to determine if it \"belongs\" to the existing EIC (based on the user-defined tolerance, i.e. \"Scan to scan accuracy (m/z)\" parameter). If yes, then the data point is added to the EIC and the EIC-associated m/z is updated. Otherwise, a new EIC is initialized. The process repeats iteratively until all the data points have been processed and a set of EICs has been created. Finally, the EICs are checked according to the user-defined parameters ( i.e. minimum number of data points and intensity). The EICs matching the requirements are retained in the feature list , whereas the rest are discarded. The so-built EICs can then be resolved into individual features by one of the deconvolution algorithms provided by MZmine 3 ( e.g. Local minimum resolver module). Parameters \u00b6 Feature detection \u2192 LC-MS \u2192 ADAP chromatogram builder Raw data files Select the input raw data files for chromatogram building. Mass lists associated with the data files will be automatically selected. See option descriptions in Mass detection module. Scans Select (or filter out) the MS scans to be processed. Although setting the MS level = 1 is usually sufficient for this module, several filters are available (see option descriptions in Mass detection module). For example, specific RT ranges ( e.g. dead volume, equilibration time, calibration segments, etc. ) can be excluded from the processing by setting the corresponding filter. Min group size in number of scans Minimum number of consecutive MS1 scans where a m/z must be detected with a non-zero intensity in order for the corresponding EICs to be considered valid and retained in the feature list. This parameter largely depends on the chromatographic system setup ( e.g. HPLC vs UHPLC) and the acquisition rate ( a.k.a. MS scan speed) of the mass spectrometer. The best way to optimize this setting is by manually inspecting the raw data and determining the typical minimum number of data points of the LC peaks. Usually, no less than 4-5 should be used. Group intensity threshold Minimum signal intensity that the group scans (see previous parameter) must exceed in order for the corresponding EICs to be considered valid and retained in the feature list. A good starting point for this parameter is 3 times the noise level used in the Mass detection , if the instrumental noise is used as cutoff. See also How do I determine the noise level in my data? for more details. Min highest intensity Minimum intensity that the highest point in the EIC must exceed in order for the corresponding trace to be considered valid and retained in the feature list. This parameter mainly depends on the mass spectrometer characteristics ( e.g. Orbitrap instruments normally provides higher signal intensities than TOF devices) as well as the overall goal of the processing. Overly low intensity thresholds normally leads to a larger number of background signals being retained as features, extending the overall processing time. On the other hand, overly high thresholds may lead to low-intensity features being erroneously discarded. A good starting point for this parameter is 7-10 times the noise level used in the Mass detection , if the instrumental noise is used as cutoff. See also How do I determine the noise level in my data? for more details. Scan to scan accuracy (m/z) Maximum allowed difference between an EIC-associated m/z and a new data point to be added to the existing EIC trace. It is essentially the maximum allowed mass accuracy deviation between consecutive data points in the EICs. The tolerance can be specified as absolute tolerance (in m/z ), relative tolerance (in ppm), or both. When both are specified, the tolerance range is calculated using the maximum between the absolute and relative tolerances. This is an inter-scan m/z tolerance , and it depends on the mass accuracy, resolution and stability of the instrument. The best way to optimize this parameter is by manually inspecting the raw data and determining the typical fluctuation of the accurate mass measurement over consecutive scans. A good starting point is 0.002-0.005 m/z and 5-10 ppm for Orbitrap instruments, while 0.005 m/z and 10-15 ppm can be used for TOF devices. Suffix String added to the filename as suffix when creating the corresponding feature list.","title":"ADAP Chromatogram builder"},{"location":"module_docs/lc-ms_featdet/featdet_adap_chromatogram_builder/adap-chromatogram-builder.html#adap-chromatogram-builder","text":"","title":"ADAP chromatogram builder"},{"location":"module_docs/lc-ms_featdet/featdet_adap_chromatogram_builder/adap-chromatogram-builder.html#description","text":"The ADAP chromatogram builder module is one of the LC-MS feature detection algorithms provided by MZmine 3. The module essentially builds an EIC for each m/z value that was detected over a minimum number of consecutive scans in the LC-MS run. Each data file is processed individually. The mass list associated to each MS1 scan in a data file (see Mass detection module) are taken as input and a feature list is returned as output. Since a mass list must be available, the Mass detection module must be run first. The ADAP chromatogram builder algorithm operates as follows: Only MS1 scans are processed. All the data points are extracted from all the MS1 scans in a data file and sorted in order of decreasing intensity. The processing starts from the most intense data point. Since no EICs have yet been created, a new EIC is initialized and associated to the corresponding m/z value. The processing proceeds with the second-highest data point. The corresponding m/z is checked to determine if it \"belongs\" to the existing EIC (based on the user-defined tolerance, i.e. \"Scan to scan accuracy (m/z)\" parameter). If yes, then the data point is added to the EIC and the EIC-associated m/z is updated. Otherwise, a new EIC is initialized. The process repeats iteratively until all the data points have been processed and a set of EICs has been created. Finally, the EICs are checked according to the user-defined parameters ( i.e. minimum number of data points and intensity). The EICs matching the requirements are retained in the feature list , whereas the rest are discarded. The so-built EICs can then be resolved into individual features by one of the deconvolution algorithms provided by MZmine 3 ( e.g. Local minimum resolver module).","title":"Description"},{"location":"module_docs/lc-ms_featdet/featdet_adap_chromatogram_builder/adap-chromatogram-builder.html#parameters","text":"Feature detection \u2192 LC-MS \u2192 ADAP chromatogram builder Raw data files Select the input raw data files for chromatogram building. Mass lists associated with the data files will be automatically selected. See option descriptions in Mass detection module. Scans Select (or filter out) the MS scans to be processed. Although setting the MS level = 1 is usually sufficient for this module, several filters are available (see option descriptions in Mass detection module). For example, specific RT ranges ( e.g. dead volume, equilibration time, calibration segments, etc. ) can be excluded from the processing by setting the corresponding filter. Min group size in number of scans Minimum number of consecutive MS1 scans where a m/z must be detected with a non-zero intensity in order for the corresponding EICs to be considered valid and retained in the feature list. This parameter largely depends on the chromatographic system setup ( e.g. HPLC vs UHPLC) and the acquisition rate ( a.k.a. MS scan speed) of the mass spectrometer. The best way to optimize this setting is by manually inspecting the raw data and determining the typical minimum number of data points of the LC peaks. Usually, no less than 4-5 should be used. Group intensity threshold Minimum signal intensity that the group scans (see previous parameter) must exceed in order for the corresponding EICs to be considered valid and retained in the feature list. A good starting point for this parameter is 3 times the noise level used in the Mass detection , if the instrumental noise is used as cutoff. See also How do I determine the noise level in my data? for more details. Min highest intensity Minimum intensity that the highest point in the EIC must exceed in order for the corresponding trace to be considered valid and retained in the feature list. This parameter mainly depends on the mass spectrometer characteristics ( e.g. Orbitrap instruments normally provides higher signal intensities than TOF devices) as well as the overall goal of the processing. Overly low intensity thresholds normally leads to a larger number of background signals being retained as features, extending the overall processing time. On the other hand, overly high thresholds may lead to low-intensity features being erroneously discarded. A good starting point for this parameter is 7-10 times the noise level used in the Mass detection , if the instrumental noise is used as cutoff. See also How do I determine the noise level in my data? for more details. Scan to scan accuracy (m/z) Maximum allowed difference between an EIC-associated m/z and a new data point to be added to the existing EIC trace. It is essentially the maximum allowed mass accuracy deviation between consecutive data points in the EICs. The tolerance can be specified as absolute tolerance (in m/z ), relative tolerance (in ppm), or both. When both are specified, the tolerance range is calculated using the maximum between the absolute and relative tolerances. This is an inter-scan m/z tolerance , and it depends on the mass accuracy, resolution and stability of the instrument. The best way to optimize this parameter is by manually inspecting the raw data and determining the typical fluctuation of the accurate mass measurement over consecutive scans. A good starting point is 0.002-0.005 m/z and 5-10 ppm for Orbitrap instruments, while 0.005 m/z and 10-15 ppm can be used for TOF devices. Suffix String added to the filename as suffix when creating the corresponding feature list.","title":"Parameters"},{"location":"module_docs/lc-ms_featdet/featdet_gridmass/gridmass.html","text":"GridMass \u00b6 Description \u00b6 GridMass is an algorithm to detect peaks analyzing 2D data. It directly generates a peak list, which can then be operated using the peak list methods. Algorithm \u00b6 To detect the position and boundaries of masses, the GridMass algorithm first generates a grid of equally spaced probes covering the entire chromatographic area. A representative section is shown in the figure below. Each probe (black dots in Figure) explores a rectangular region around it to find a local maximum. The probe location is moved to the local maxima to further search for a higher value. The procedure is performed until no higher values exist within the exploring rectangle. This local maximum is then defined as a feature , which contains information of the m/z, the time, and the intensity detected. A putative trajectory of a probe is shown in the figure. All probes converging to the same feature provide an estimation of its boundaries . Consequently, different features represent different masses. This procedure is highly sensitive and specific for smooth surfaces. However, given that in real chromatographic data a certain level of noise and artifacts are present, in MZmine additional criteria (such as possibility to choose time windows, additional smoothing, etc.) were implemented. A summary of the algorithm is as follows: Ignore artifact spectra in time domain. In chromatography, it is typical to find a peak near the injection time, corresponding to metabolites that show no interaction with the column in the particular gradient. While this is not an artifact per se, given the myriad of signals present and the nature of the detector, the resulting peak is a strong source of artifacts that later affect analysis. To avoid this, the user may enter a list of time ranges to be ignored. The controlling parameter is ignore times whose format is time1-time2, time3-time4, \u2026 Alternatively, the user may crop these data before processing, for example using \u201cRaw Data\u2192Filtering\u2192Data Set\" and ignore setting this parameter. Therefore, this step is optional. Generate equally spaced probes over the mass-time space.To generate the grid, the parameters used are m/z tolerance and minimum width. The gap in the m/z dimension between probes is set to m/z tolerance multiplied by 2 or minimum to 1e-6 and are intercalated between scans. The gap in the time dimension is calculated by time associated to scans, which is estimated by the minimum width divided by 4 (down to a minimum of 1 scan). Move each probe to corresponding local maximum until convergence.Each probe explores its surroundings (limited by the positions of other probes) to locate the highest intensity value, then after updating its position, it keeps exploring the surrounding until a local maximum is reached. To speed up the procedure, generate only interesting features above a certain level of noise, and limit the number of reported features, only intensities higher than minimum height threshold are considered. Generate features by merging probes with similar 2D positions.Many probes will reach the same maximum that must correspond to the same feature. In addition, experimental chromatographic data is noisy and non-smooth, which may generate local maxima very close to each other. Therefore, probes whose difference in m/z is lower than the m/z tolerance and whose difference in time is lower than minimum width are merged. Then, from all probes reaching the same maximum, the m/z assigned to the feature corresponds to the highest observed intensity. The width of the feature is estimated from the probes with the lowest and highest time. To form the peak and estimate its area, the highest value in each scan is used. Remove features whose width is out of a range.Features having large or very low width are likely to be artifacts. To avoid this, all features out within the range given by the parameters minimum width and maximum width (in minutes) are removed. Remove features of similar mass and high cumulative times.Chemical noise or large blurs are characterized by generating many features of similar mass, similar intensities, and separated by short times. To avoid these artifacts, we merge features whose m/z difference is lower than m/z tolerance and whose intensity ratio (higher/lower) is higher than an intensity similarity ratio parameter. Once merged, the removal implemented in step 5 is performed on merged features. Parameters \u00b6 Suffix Suffix to be added to peak list name. Minimum height Only intensities larger than this minimum are considered. m/z tolerance Maximum distance in m/z from the expected location of a peak. Min-max width time (min) Time range for a peak to be recognized as a 'mass'. The optimal value depends on the chromatography system setup. Check 2D raw data to determine typical time spans. Smoothing time (min) Time window used to smooth the signal before detection. Smoothing m/z m/z window used to smooth the signal before detection. False+: Intensity similarity ratio Ratio between features to be recognized as the same. This is highly useful to detect artifacts. False+: Ignore times Ranges of time to be ignored by the method. This can be avoided if the region is previously cleaned using the crop option. Format: timeA-timeB, timeC-timeD,...","title":"GridMass"},{"location":"module_docs/lc-ms_featdet/featdet_gridmass/gridmass.html#gridmass","text":"","title":"GridMass"},{"location":"module_docs/lc-ms_featdet/featdet_gridmass/gridmass.html#description","text":"GridMass is an algorithm to detect peaks analyzing 2D data. It directly generates a peak list, which can then be operated using the peak list methods.","title":"Description"},{"location":"module_docs/lc-ms_featdet/featdet_gridmass/gridmass.html#algorithm","text":"To detect the position and boundaries of masses, the GridMass algorithm first generates a grid of equally spaced probes covering the entire chromatographic area. A representative section is shown in the figure below. Each probe (black dots in Figure) explores a rectangular region around it to find a local maximum. The probe location is moved to the local maxima to further search for a higher value. The procedure is performed until no higher values exist within the exploring rectangle. This local maximum is then defined as a feature , which contains information of the m/z, the time, and the intensity detected. A putative trajectory of a probe is shown in the figure. All probes converging to the same feature provide an estimation of its boundaries . Consequently, different features represent different masses. This procedure is highly sensitive and specific for smooth surfaces. However, given that in real chromatographic data a certain level of noise and artifacts are present, in MZmine additional criteria (such as possibility to choose time windows, additional smoothing, etc.) were implemented. A summary of the algorithm is as follows: Ignore artifact spectra in time domain. In chromatography, it is typical to find a peak near the injection time, corresponding to metabolites that show no interaction with the column in the particular gradient. While this is not an artifact per se, given the myriad of signals present and the nature of the detector, the resulting peak is a strong source of artifacts that later affect analysis. To avoid this, the user may enter a list of time ranges to be ignored. The controlling parameter is ignore times whose format is time1-time2, time3-time4, \u2026 Alternatively, the user may crop these data before processing, for example using \u201cRaw Data\u2192Filtering\u2192Data Set\" and ignore setting this parameter. Therefore, this step is optional. Generate equally spaced probes over the mass-time space.To generate the grid, the parameters used are m/z tolerance and minimum width. The gap in the m/z dimension between probes is set to m/z tolerance multiplied by 2 or minimum to 1e-6 and are intercalated between scans. The gap in the time dimension is calculated by time associated to scans, which is estimated by the minimum width divided by 4 (down to a minimum of 1 scan). Move each probe to corresponding local maximum until convergence.Each probe explores its surroundings (limited by the positions of other probes) to locate the highest intensity value, then after updating its position, it keeps exploring the surrounding until a local maximum is reached. To speed up the procedure, generate only interesting features above a certain level of noise, and limit the number of reported features, only intensities higher than minimum height threshold are considered. Generate features by merging probes with similar 2D positions.Many probes will reach the same maximum that must correspond to the same feature. In addition, experimental chromatographic data is noisy and non-smooth, which may generate local maxima very close to each other. Therefore, probes whose difference in m/z is lower than the m/z tolerance and whose difference in time is lower than minimum width are merged. Then, from all probes reaching the same maximum, the m/z assigned to the feature corresponds to the highest observed intensity. The width of the feature is estimated from the probes with the lowest and highest time. To form the peak and estimate its area, the highest value in each scan is used. Remove features whose width is out of a range.Features having large or very low width are likely to be artifacts. To avoid this, all features out within the range given by the parameters minimum width and maximum width (in minutes) are removed. Remove features of similar mass and high cumulative times.Chemical noise or large blurs are characterized by generating many features of similar mass, similar intensities, and separated by short times. To avoid these artifacts, we merge features whose m/z difference is lower than m/z tolerance and whose intensity ratio (higher/lower) is higher than an intensity similarity ratio parameter. Once merged, the removal implemented in step 5 is performed on merged features.","title":"Algorithm"},{"location":"module_docs/lc-ms_featdet/featdet_gridmass/gridmass.html#parameters","text":"Suffix Suffix to be added to peak list name. Minimum height Only intensities larger than this minimum are considered. m/z tolerance Maximum distance in m/z from the expected location of a peak. Min-max width time (min) Time range for a peak to be recognized as a 'mass'. The optimal value depends on the chromatography system setup. Check 2D raw data to determine typical time spans. Smoothing time (min) Time window used to smooth the signal before detection. Smoothing m/z m/z window used to smooth the signal before detection. False+: Intensity similarity ratio Ratio between features to be recognized as the same. This is highly useful to detect artifacts. False+: Ignore times Ranges of time to be ignored by the method. This can be avoided if the region is previously cleaned using the crop option. Format: timeA-timeB, timeC-timeD,...","title":"Parameters"},{"location":"module_docs/lc-ms_featdet/targeted_featdet/targeted-featdet.html","text":"Targeted feature detection \u00b6 Description \u00b6 This algorithm opens a .csv file with a list of peaks and searches for each peak in the selected raw data file. The most crucial parameters are m/z tolerance and Retention time tolerance *, which define the window where the algorithm should find the new peak. It is centered in the m/z average and retention time average of the source peak list. Once the best candidate is found inside the window, its shape in RT direction is also checked. The *.csv file should have three columns: The first column should contain the expected M/Z, the second column the expected RT, and the third the peak name. Each peak should be in a different row. Parameters \u00b6 Name suffix Suffix to be added to the peak list name. Peak list file Path of the csv file containing the list of peaks to be detected. Field separator Character(s) used to separate fields in the peak list file. Ignore first line Check to ignore the first line of peak list file. Intensity tolerance This value sets the maximum allowed deviation from expected shape of a peak in chromatographic direction. Noise level The minimum intensity level for a data point to be considered part of a chromatogram. All data points below this intensity level are ignored. m/z Tolerance Maximum allowed m/z difference to find the peak Retention time tolerance Maximum allowed retention time difference to find the peak","title":"Targeted feature detection"},{"location":"module_docs/lc-ms_featdet/targeted_featdet/targeted-featdet.html#targeted-feature-detection","text":"","title":"Targeted feature detection"},{"location":"module_docs/lc-ms_featdet/targeted_featdet/targeted-featdet.html#description","text":"This algorithm opens a .csv file with a list of peaks and searches for each peak in the selected raw data file. The most crucial parameters are m/z tolerance and Retention time tolerance *, which define the window where the algorithm should find the new peak. It is centered in the m/z average and retention time average of the source peak list. Once the best candidate is found inside the window, its shape in RT direction is also checked. The *.csv file should have three columns: The first column should contain the expected M/Z, the second column the expected RT, and the third the peak name. Each peak should be in a different row.","title":"Description"},{"location":"module_docs/lc-ms_featdet/targeted_featdet/targeted-featdet.html#parameters","text":"Name suffix Suffix to be added to the peak list name. Peak list file Path of the csv file containing the list of peaks to be detected. Field separator Character(s) used to separate fields in the peak list file. Ignore first line Check to ignore the first line of peak list file. Intensity tolerance This value sets the maximum allowed deviation from expected shape of a peak in chromatographic direction. Noise level The minimum intensity level for a data point to be considered part of a chromatogram. All data points below this intensity level are ignored. m/z Tolerance Maximum allowed m/z difference to find the peak Retention time tolerance Maximum allowed retention time difference to find the peak","title":"Parameters"},{"location":"terminology/general-terminology.html","text":"General terminology \u00b6 MS \u00b6 Precursor and fragment ions \u00b6 The precuror ion (a.k.a. \"parent ion\") is the ion that dissociates to a smaller fragment ions in a MS/MS experiment. A fragment ion (a.k.a. \"daughter ion\" or \"product ion\") is the charged product of an ion dissociation. A fragment ion may be stable itself or may dissociate further to form other charged fragment ions and neutral species of successively lower mass. Accurate mass, exact mass and mass accuracy \u00b6 The accurate mass is the experimentally-determined mass of an ion measured with an high-resolution mass spectrometer. The exact mass is the calculated mass of an ion based on its elemental formula, isotopic composition and charge state. While the accurate mass is an experimentally-measured quantity, the exact mass is a theoretically-calculated quantity. The mass accuracy is defined as the difference between the measured value (accurate mass) and the true value (exact mass). It can be expressed either in absolute (mDa) or relative (ppm) terms. Monoisotopic mass \u00b6 Exact mass of an ion calculated using the mass of the lightest isotope of each element. Isotopic pattern \u00b6 To-do Mass resolution \u00b6 Todo. Often called/expressed as mass resolvin power Full scan acqusition mode \u00b6 Todo Data-dependent acqusition mode \u00b6 In data-dependent acquisition (DDA) schemes, the mass spectrometer detects 'suitable' precursor ions in each MS scan and selects them for fragmentation in consecutive MS2 scans. Todo:'Cycle time' and 'topN' acquisition schemes Data-independent acqusition mode \u00b6 Todo LC-MS \u00b6 Total ion current chromatogram \u00b6 The total ion current (TIC) chromatogram displays the summed signal intensity (y-axis) over the entire m/z range at any one retention time point (x-axis) in the LC-MS run. The following figure shows a TIC chromatogram of a 9-compounds mixture analysed on LC-MS system. Note . In complex samples, the TIC chromatogram often provides limited information as multiple analytes elute simultaneously, obscuring individual species. Base peak chromatogram \u00b6 The base peak chromatogram (BPC) displays the signal intensity of the most intense maass peak in the MS spectra at any one retention time point (x-axis) in the LC-MS run. The following figure shows the same data as above, visualized in BPI mode. Extracted ion chromatogram \u00b6 The extracted ion chromatogram (EIC) displays the signal intensity of a specific m/z value, within a defined tolerance (e.g. \u00b1 5 ppm), at any one retention time point in the LC-MS run. The following figure shows the EIC of m/z 455.2945 \u00b1 5 ppm (same sample as above). Chromatographic resolving \u00b6 Peak overlapping, or co-elution, is a common problem in any chromatographic separation technique. In the case of LC-MS (especially untargeted omics analysis), it is virtually impossible to obtain a full baseline separation for the hundreds (or thousands) of analytes eluted through the column. The split of partially-overlapping and shoulder peaks into indivual features is generally referred to as chromatographic resolving and is one of the most crucial steps of data processing. TO FINISH. MZmine-specific terminology \u00b6 Masses and Features \u00b6 In MS data processing, the term mass is normally used to refer to an individual signal in a mass spectrum, which corresponds to an ion detected by the mass spectrometer (see Mass detection ). In LC-MS, a feature is defined as a bounded, two-dimensional ( m/z and RT dimensions) signal characterized by a pair of m/z and RT values and associated with the detected signal intensity. In the case of LC-IM-MS data, a feature is also characterized by the ion mobility value recorded for the ion (see LC-MS and LC-IMS-MS data comparison . MZmine 3 provides a selection of different algorithms for LC-(IM)-MS feature detection, depending on the nature of the MS data ( e.g. mass accuracy and resolution). All the algorithms follow the same logic: EICs are constructed starting from each m/z value in the mass lists and subsequently deconvoluted into individual features (see figure). Further, additional information, such as isotope pattern, adduct type, etc. can be associated to the indivual features. Mass list \u00b6 In MZmine we call mass list the output of the mass detection module. A mass list is a list of m/z values (and corresponding signal intensities) found in each mass spectrum (MS or MSn) of each processed raw data file. Every mass spetrum contained in the raw file is processed indivudally and the signals exceeding the set noise threshold are included in the mass list. See Mass detection module. Feature list \u00b6 In MZmine, feature lists are the output of the feature detection process (see Masses and features ). The set of detected features in each LC-MS run is stored as a list, hence the name \"feature list\" (see, for example, ADAP chromatogram builder and Local mimimum resolver for more details). Multiple feature lists can undergo further processing ( e.g. feature alingment) which results in a table (often referred to as feature table ) where samples are arranged in columns, features in rows and each entry contains the signal intensity detected for the corresponding feature, in the corresponding sample. Intra and inter-scan tolerances \u00b6 To-do References \u00b6 Pluskal, T., Castillo, S., Villar-Briones, A. & Oresic, M. MZmine 2: Modular framework for processing, visualizing, and analyzing mass spectrometry-based molecular profile data. BMC Bioinformatics (2010). DOI: 10.1186/1471-2105-11-395 Pluskal, T. et al. Processing Metabolomics and Proteomics Data with Open Software: A Practical Guide, Chapter 7: Metabolomics Data Analysis Using MZmine (2020). DOI: 10.1039/9781788019880-00232 Smoluch M., Piechura K. Mass Spectrometry: An Applied Approach, Chapter 3: Basic Definitions (2019). DOI: 10.1002/9781119377368.ch3","title":"General Terminology"},{"location":"terminology/general-terminology.html#general-terminology","text":"","title":"General terminology"},{"location":"terminology/general-terminology.html#ms","text":"","title":"MS"},{"location":"terminology/general-terminology.html#precursor-and-fragment-ions","text":"The precuror ion (a.k.a. \"parent ion\") is the ion that dissociates to a smaller fragment ions in a MS/MS experiment. A fragment ion (a.k.a. \"daughter ion\" or \"product ion\") is the charged product of an ion dissociation. A fragment ion may be stable itself or may dissociate further to form other charged fragment ions and neutral species of successively lower mass.","title":"Precursor and fragment ions"},{"location":"terminology/general-terminology.html#accurate-mass-exact-mass-and-mass-accuracy","text":"The accurate mass is the experimentally-determined mass of an ion measured with an high-resolution mass spectrometer. The exact mass is the calculated mass of an ion based on its elemental formula, isotopic composition and charge state. While the accurate mass is an experimentally-measured quantity, the exact mass is a theoretically-calculated quantity. The mass accuracy is defined as the difference between the measured value (accurate mass) and the true value (exact mass). It can be expressed either in absolute (mDa) or relative (ppm) terms.","title":"Accurate mass, exact mass and mass accuracy"},{"location":"terminology/general-terminology.html#monoisotopic-mass","text":"Exact mass of an ion calculated using the mass of the lightest isotope of each element.","title":"Monoisotopic mass"},{"location":"terminology/general-terminology.html#isotopic-pattern","text":"To-do","title":"Isotopic pattern"},{"location":"terminology/general-terminology.html#mass-resolution","text":"Todo. Often called/expressed as mass resolvin power","title":"Mass resolution"},{"location":"terminology/general-terminology.html#full-scan-acqusition-mode","text":"Todo","title":"Full scan acqusition mode"},{"location":"terminology/general-terminology.html#data-dependent-acqusition-mode","text":"In data-dependent acquisition (DDA) schemes, the mass spectrometer detects 'suitable' precursor ions in each MS scan and selects them for fragmentation in consecutive MS2 scans. Todo:'Cycle time' and 'topN' acquisition schemes","title":"Data-dependent acqusition mode"},{"location":"terminology/general-terminology.html#data-independent-acqusition-mode","text":"Todo","title":"Data-independent acqusition mode"},{"location":"terminology/general-terminology.html#lc-ms","text":"","title":"LC-MS"},{"location":"terminology/general-terminology.html#total-ion-current-chromatogram","text":"The total ion current (TIC) chromatogram displays the summed signal intensity (y-axis) over the entire m/z range at any one retention time point (x-axis) in the LC-MS run. The following figure shows a TIC chromatogram of a 9-compounds mixture analysed on LC-MS system. Note . In complex samples, the TIC chromatogram often provides limited information as multiple analytes elute simultaneously, obscuring individual species.","title":"Total ion current chromatogram"},{"location":"terminology/general-terminology.html#base-peak-chromatogram","text":"The base peak chromatogram (BPC) displays the signal intensity of the most intense maass peak in the MS spectra at any one retention time point (x-axis) in the LC-MS run. The following figure shows the same data as above, visualized in BPI mode.","title":"Base peak chromatogram"},{"location":"terminology/general-terminology.html#extracted-ion-chromatogram","text":"The extracted ion chromatogram (EIC) displays the signal intensity of a specific m/z value, within a defined tolerance (e.g. \u00b1 5 ppm), at any one retention time point in the LC-MS run. The following figure shows the EIC of m/z 455.2945 \u00b1 5 ppm (same sample as above).","title":"Extracted ion chromatogram"},{"location":"terminology/general-terminology.html#chromatographic-resolving","text":"Peak overlapping, or co-elution, is a common problem in any chromatographic separation technique. In the case of LC-MS (especially untargeted omics analysis), it is virtually impossible to obtain a full baseline separation for the hundreds (or thousands) of analytes eluted through the column. The split of partially-overlapping and shoulder peaks into indivual features is generally referred to as chromatographic resolving and is one of the most crucial steps of data processing. TO FINISH.","title":"Chromatographic resolving"},{"location":"terminology/general-terminology.html#mzmine-specific-terminology","text":"","title":"MZmine-specific terminology"},{"location":"terminology/general-terminology.html#masses-and-features","text":"In MS data processing, the term mass is normally used to refer to an individual signal in a mass spectrum, which corresponds to an ion detected by the mass spectrometer (see Mass detection ). In LC-MS, a feature is defined as a bounded, two-dimensional ( m/z and RT dimensions) signal characterized by a pair of m/z and RT values and associated with the detected signal intensity. In the case of LC-IM-MS data, a feature is also characterized by the ion mobility value recorded for the ion (see LC-MS and LC-IMS-MS data comparison . MZmine 3 provides a selection of different algorithms for LC-(IM)-MS feature detection, depending on the nature of the MS data ( e.g. mass accuracy and resolution). All the algorithms follow the same logic: EICs are constructed starting from each m/z value in the mass lists and subsequently deconvoluted into individual features (see figure). Further, additional information, such as isotope pattern, adduct type, etc. can be associated to the indivual features.","title":"Masses and Features"},{"location":"terminology/general-terminology.html#mass-list","text":"In MZmine we call mass list the output of the mass detection module. A mass list is a list of m/z values (and corresponding signal intensities) found in each mass spectrum (MS or MSn) of each processed raw data file. Every mass spetrum contained in the raw file is processed indivudally and the signals exceeding the set noise threshold are included in the mass list. See Mass detection module.","title":"Mass list"},{"location":"terminology/general-terminology.html#feature-list","text":"In MZmine, feature lists are the output of the feature detection process (see Masses and features ). The set of detected features in each LC-MS run is stored as a list, hence the name \"feature list\" (see, for example, ADAP chromatogram builder and Local mimimum resolver for more details). Multiple feature lists can undergo further processing ( e.g. feature alingment) which results in a table (often referred to as feature table ) where samples are arranged in columns, features in rows and each entry contains the signal intensity detected for the corresponding feature, in the corresponding sample.","title":"Feature list"},{"location":"terminology/general-terminology.html#intra-and-inter-scan-tolerances","text":"To-do","title":"Intra and inter-scan tolerances"},{"location":"terminology/general-terminology.html#references","text":"Pluskal, T., Castillo, S., Villar-Briones, A. & Oresic, M. MZmine 2: Modular framework for processing, visualizing, and analyzing mass spectrometry-based molecular profile data. BMC Bioinformatics (2010). DOI: 10.1186/1471-2105-11-395 Pluskal, T. et al. Processing Metabolomics and Proteomics Data with Open Software: A Practical Guide, Chapter 7: Metabolomics Data Analysis Using MZmine (2020). DOI: 10.1039/9781788019880-00232 Smoluch M., Piechura K. Mass Spectrometry: An Applied Approach, Chapter 3: Basic Definitions (2019). DOI: 10.1002/9781119377368.ch3","title":"References"},{"location":"terminology/ion-mobility-terminology.html","text":"Ion mobility spectrometry terminology \u00b6 Background \u00b6 Ion-mobility mass-spectrometry, here simply referred to as ion-mobility (IM), is an analytical technique where ions are separated through a gas-filled mobility cell prior to the MS acquisition. Ions drift through the IM cell with different velocity based on their interaction with the buffer gas, which allows for the separation of different shaped molecules. Modern devieces are able to perform IM separation on a millisecond timescale, typically within 10 to 100 ms. Thus, IM nicely fits in-between LC separation (~seconds timescale) and MS detection of TOF instruments (~microseconds timescale). This allows LC-IM-MS insturments to acqurie several MS spectra during each accumulation , without incurring sensitivity loss. For example, assuming a typical 100 \u00b5s MS-acquisition time of TOF analyzers, around 1000 spectra can be recorded within 100 ms of IM separation. Therefore, as opposed to LC-MS, multiple MS (or MS2) spectra are associated to each RT in LC-IM-MS data. A more detailed explanation of LC-MS and LC-IMS-MS raw data structure is provided here . Trapped ion mobility spectrometry (TIMS) \u00b6 TO-DO Trapped ion mobility spectrometry (TIMS) reverses the concept of traditional drift tube IM. Rather than moving ions through astationary gas, TIMS holds ions stationary against a moving gas and then releases them according to their mobility. Video: https://www.youtube.com/watch?v=cWjz32wky2A Time-dispersve ion mobility spectrometry (DTIMS and TWIMS) \u00b6 TO-DO Time-dispersve IM devices include \"traditional\" drift tube (DTIMS) and travelling-wave (TWIMS) devices. In classic DTIM, ions migrate through aninert buffer gas under the influence of a weak electricfield, whereas collisions with buffer gas molecules retard theprogress of the ions. As larger ions have more collisions withthe gas, they are more strongly retarded than their smaller counterparts. Thus, smaller ions, having a smaller cross section, arrive earlier at the detector than ions with a larger collisional cross section (CCS). The ion mobility K is then defined as the ratio of the analyte's steady-state net drift velocity to the applied electric field, and it is convention toc alculate the reduced ion mobility K0 at standard pressur eand standard temperature, often reported as the inverse reduced ion mobility 1/K0. Terminology \u00b6 Accumulations, Mobility Scans and Frames \u00b6 Altough mainly used for TIMS, the term \" accumulation \" refers to the pack of ions gathered at the head of the IM device prior to the release and separation in the IM cell. As explained above , since the accumulation-separation cycle typically last ~100 ms, multiple MS spectra (referred to as \" mobility scans \" in MZmine) are acquired during each cycle. The set of mobility scans collected during each IM separation constitutes a \" frame \". A frame can be seen as the IM separation of a single accumulation , along which multiple MS spectra are collected. Several frames are contained within one LC peak. Thus, the frame number are a natural unit to measure chromatographic RT. See here for more details. --FIGURE HERE-- Mobilograms \u00b6 A \" mobilogram \" represents the intensity of an m/z or m/z range along the mobility axis. A mobilogram may be build from multiple frames and summed or built from a single frame. Ion mobility trace \u00b6 An \" ion mobility trace \" basically represents a mobility resolved extracted ion chromatogram (EIC). Cross Collisional Section \u00b6 IM-derived CCS values can be used as an additional molecular descriptor to support the compound unknown identification process.(Paglia et al. 2014) However, the number of acquired spectra per run increases from several thousand to several million, requiring memory-efficient software and new processing algorithms. References \u00b6 Meier, F., Brunner, A.D., Koch, S., Cox, J., R\u00e4ther, O., Mann, M. Online Parallel Accumulation\u2013Serial Fragmentation (PASEF) with a Novel Trapped Ion Mobility Mass Spectrometer. Molecular & Cellular Proteomics (2018). DOI: 10.1074/mcp.TIR118.000900","title":"IMS Terminology"},{"location":"terminology/ion-mobility-terminology.html#ion-mobility-spectrometry-terminology","text":"","title":"Ion mobility spectrometry terminology"},{"location":"terminology/ion-mobility-terminology.html#background","text":"Ion-mobility mass-spectrometry, here simply referred to as ion-mobility (IM), is an analytical technique where ions are separated through a gas-filled mobility cell prior to the MS acquisition. Ions drift through the IM cell with different velocity based on their interaction with the buffer gas, which allows for the separation of different shaped molecules. Modern devieces are able to perform IM separation on a millisecond timescale, typically within 10 to 100 ms. Thus, IM nicely fits in-between LC separation (~seconds timescale) and MS detection of TOF instruments (~microseconds timescale). This allows LC-IM-MS insturments to acqurie several MS spectra during each accumulation , without incurring sensitivity loss. For example, assuming a typical 100 \u00b5s MS-acquisition time of TOF analyzers, around 1000 spectra can be recorded within 100 ms of IM separation. Therefore, as opposed to LC-MS, multiple MS (or MS2) spectra are associated to each RT in LC-IM-MS data. A more detailed explanation of LC-MS and LC-IMS-MS raw data structure is provided here .","title":"Background"},{"location":"terminology/ion-mobility-terminology.html#trapped-ion-mobility-spectrometry-tims","text":"TO-DO Trapped ion mobility spectrometry (TIMS) reverses the concept of traditional drift tube IM. Rather than moving ions through astationary gas, TIMS holds ions stationary against a moving gas and then releases them according to their mobility. Video: https://www.youtube.com/watch?v=cWjz32wky2A","title":"Trapped ion mobility spectrometry (TIMS)"},{"location":"terminology/ion-mobility-terminology.html#time-dispersve-ion-mobility-spectrometry-dtims-and-twims","text":"TO-DO Time-dispersve IM devices include \"traditional\" drift tube (DTIMS) and travelling-wave (TWIMS) devices. In classic DTIM, ions migrate through aninert buffer gas under the influence of a weak electricfield, whereas collisions with buffer gas molecules retard theprogress of the ions. As larger ions have more collisions withthe gas, they are more strongly retarded than their smaller counterparts. Thus, smaller ions, having a smaller cross section, arrive earlier at the detector than ions with a larger collisional cross section (CCS). The ion mobility K is then defined as the ratio of the analyte's steady-state net drift velocity to the applied electric field, and it is convention toc alculate the reduced ion mobility K0 at standard pressur eand standard temperature, often reported as the inverse reduced ion mobility 1/K0.","title":"Time-dispersve ion mobility spectrometry (DTIMS and TWIMS)"},{"location":"terminology/ion-mobility-terminology.html#terminology","text":"","title":"Terminology"},{"location":"terminology/ion-mobility-terminology.html#accumulations-mobility-scans-and-frames","text":"Altough mainly used for TIMS, the term \" accumulation \" refers to the pack of ions gathered at the head of the IM device prior to the release and separation in the IM cell. As explained above , since the accumulation-separation cycle typically last ~100 ms, multiple MS spectra (referred to as \" mobility scans \" in MZmine) are acquired during each cycle. The set of mobility scans collected during each IM separation constitutes a \" frame \". A frame can be seen as the IM separation of a single accumulation , along which multiple MS spectra are collected. Several frames are contained within one LC peak. Thus, the frame number are a natural unit to measure chromatographic RT. See here for more details. --FIGURE HERE--","title":"Accumulations, Mobility Scans and Frames"},{"location":"terminology/ion-mobility-terminology.html#mobilograms","text":"A \" mobilogram \" represents the intensity of an m/z or m/z range along the mobility axis. A mobilogram may be build from multiple frames and summed or built from a single frame.","title":"Mobilograms"},{"location":"terminology/ion-mobility-terminology.html#ion-mobility-trace","text":"An \" ion mobility trace \" basically represents a mobility resolved extracted ion chromatogram (EIC).","title":"Ion mobility trace"},{"location":"terminology/ion-mobility-terminology.html#cross-collisional-section","text":"IM-derived CCS values can be used as an additional molecular descriptor to support the compound unknown identification process.(Paglia et al. 2014) However, the number of acquired spectra per run increases from several thousand to several million, requiring memory-efficient software and new processing algorithms.","title":"Cross Collisional Section"},{"location":"terminology/ion-mobility-terminology.html#references","text":"Meier, F., Brunner, A.D., Koch, S., Cox, J., R\u00e4ther, O., Mann, M. Online Parallel Accumulation\u2013Serial Fragmentation (PASEF) with a Novel Trapped Ion Mobility Mass Spectrometer. Molecular & Cellular Proteomics (2018). DOI: 10.1074/mcp.TIR118.000900","title":"References"},{"location":"visualization_modules/feature_histograms/feature_hist.html","text":"Histogram plot \u00b6 TODO Change \"Histogram\" name to \"Feature list histogram\" Description \u00b6 This plot displays a graphic representation of frequencies. Each rectangle represents an interval of frequency. The height is also equal to the frequency density in that interval. The total area of the histogram is equal to the number of data. This tool can use the m/z value, height, area or retention time as frequency value (X axis) and number of peaks in each interval (Y axis). Parameters \u00b6 Raw data files \u00b6 Column of peaks to be plotted. Plotted data type \u00b6 Peak's data to be plotted ( m/z value, height, area or retention time) Plotted data range \u00b6 Range of data to be plotted. This range is automatically loaded with max values from the raw data. Number of bins \u00b6 The plot is divides into this number of bins. Functionality \u00b6 This plot is using the third part library JfreeChart for its basic functionality. To zoom in, drag the mouse from left to right, selecting the area to zoom. To zoom out drag the zoom from right to left. The next figure shows a histogram using the retention time value. This data is coming from a raw data with a duration of 60 min. Most of the peaks appears around 17 min. The next figure shows a histogram using the m/z value. This data is coming from a raw data with a range from 350 to 1400 m/z. TODO rewrite","title":"Feature histograms"},{"location":"visualization_modules/feature_histograms/feature_hist.html#histogram-plot","text":"TODO Change \"Histogram\" name to \"Feature list histogram\"","title":"Histogram plot"},{"location":"visualization_modules/feature_histograms/feature_hist.html#description","text":"This plot displays a graphic representation of frequencies. Each rectangle represents an interval of frequency. The height is also equal to the frequency density in that interval. The total area of the histogram is equal to the number of data. This tool can use the m/z value, height, area or retention time as frequency value (X axis) and number of peaks in each interval (Y axis).","title":"Description"},{"location":"visualization_modules/feature_histograms/feature_hist.html#parameters","text":"","title":"Parameters"},{"location":"visualization_modules/feature_histograms/feature_hist.html#raw-data-files","text":"Column of peaks to be plotted.","title":"Raw data files"},{"location":"visualization_modules/feature_histograms/feature_hist.html#plotted-data-type","text":"Peak's data to be plotted ( m/z value, height, area or retention time)","title":"Plotted data type"},{"location":"visualization_modules/feature_histograms/feature_hist.html#plotted-data-range","text":"Range of data to be plotted. This range is automatically loaded with max values from the raw data.","title":"Plotted data range"},{"location":"visualization_modules/feature_histograms/feature_hist.html#number-of-bins","text":"The plot is divides into this number of bins.","title":"Number of bins"},{"location":"visualization_modules/feature_histograms/feature_hist.html#functionality","text":"This plot is using the third part library JfreeChart for its basic functionality. To zoom in, drag the mouse from left to right, selecting the area to zoom. To zoom out drag the zoom from right to left. The next figure shows a histogram using the retention time value. This data is coming from a raw data with a duration of 60 min. Most of the peaks appears around 17 min. The next figure shows a histogram using the m/z value. This data is coming from a raw data with a range from 350 to 1400 m/z. TODO rewrite","title":"Functionality"},{"location":"visualization_modules/image_raw_data/image_viewer.html","text":"TODO","title":"Image viewer"},{"location":"visualization_modules/ims_raw_data_overview/IM-data-visualisation.html","text":"Ion mobility raw data overview (LC-IMS-MS) \u00b6 The \"Ion mobilitiy raw data visualization\" module allow a comprehensive navigation of the complex LC-IM-MS raw data. The screenshot belows shows an example of LC-IM-MS data acquired with a Bruker timsTOF instrument: The main window consists of 5 panels and a set of displaying parameters. All the panels are interconnected, which means that moving the cursor in one panel, automatically updates the others. Cursors are displayed as light-blue solid lines in the panels. Summed frame spectrum panel [1] \u00b6 The MS spectrum corresponding to each frame is shown in this panel. The displayed MS spectrum is the sum of all the mobility scans acquired over that frame (see Ion mobility spectrometry terminology ). BPC panel [2] \u00b6 In this panel, the base peak chromatogram is displayed. Each data point corresponds to an individual frame . Moving the cursor frame-by-frame automatically updateds the 'frame heatmap' and 'summed frame spectrum' panels. Moving the cursor frame-by-frame automatically updateds the 'summed frame spectrum' panels as changing data point in regular LC-MS data would display a different MS scan. Since each frame is made of several mobily scans , the 'mobilogram chart' and 'frame heatmap' panels automatically updates too. Note . It is currently not possible to display the TIC chromatogram ) Mobility scan [3] \u00b6 Todo Note that this is the only panel that does not possess a cursor as [...]. Mobilogram chart [4] \u00b6 Todo The signal intensity is displayed as a continuous colour scale. Frame heatmap [5] \u00b6 Todo The signal intensity is displayed as a continuous colour scale. Ion trace chart [6] \u00b6 Todo Displaying parameters [6] \u00b6 Mobility scan noise level : This parameter controls the signals shown in the XXX panels (panel n\u00b0X). For example, a noise level of 5.0E1 will show only the signals above this value (see below) SCREENSHOT Frame noise level : This parameter sets a threshold for the signals shown in the \"Summed frame spectrum panel\" (panel n\u00b0X). Signals from MS spectra acquired over the same frame are summed and shown m/z tolerance : Todo Scan selection : Todo Retention time width : Todo Mobilogram bin width (abs) : Todo EIC/mobilogram ranges : Todo To-do list: - Explain EIC and EIC in mobilogram chart","title":"Ion mobility data visualisation"},{"location":"visualization_modules/ims_raw_data_overview/IM-data-visualisation.html#ion-mobility-raw-data-overview-lc-ims-ms","text":"The \"Ion mobilitiy raw data visualization\" module allow a comprehensive navigation of the complex LC-IM-MS raw data. The screenshot belows shows an example of LC-IM-MS data acquired with a Bruker timsTOF instrument: The main window consists of 5 panels and a set of displaying parameters. All the panels are interconnected, which means that moving the cursor in one panel, automatically updates the others. Cursors are displayed as light-blue solid lines in the panels.","title":"Ion mobility raw data overview (LC-IMS-MS)"},{"location":"visualization_modules/ims_raw_data_overview/IM-data-visualisation.html#summed-frame-spectrum-panel-1","text":"The MS spectrum corresponding to each frame is shown in this panel. The displayed MS spectrum is the sum of all the mobility scans acquired over that frame (see Ion mobility spectrometry terminology ).","title":"Summed frame spectrum panel [1]"},{"location":"visualization_modules/ims_raw_data_overview/IM-data-visualisation.html#bpc-panel-2","text":"In this panel, the base peak chromatogram is displayed. Each data point corresponds to an individual frame . Moving the cursor frame-by-frame automatically updateds the 'frame heatmap' and 'summed frame spectrum' panels. Moving the cursor frame-by-frame automatically updateds the 'summed frame spectrum' panels as changing data point in regular LC-MS data would display a different MS scan. Since each frame is made of several mobily scans , the 'mobilogram chart' and 'frame heatmap' panels automatically updates too. Note . It is currently not possible to display the TIC chromatogram )","title":"BPC panel [2]"},{"location":"visualization_modules/ims_raw_data_overview/IM-data-visualisation.html#mobility-scan-3","text":"Todo Note that this is the only panel that does not possess a cursor as [...].","title":"Mobility scan [3]"},{"location":"visualization_modules/ims_raw_data_overview/IM-data-visualisation.html#mobilogram-chart-4","text":"Todo The signal intensity is displayed as a continuous colour scale.","title":"Mobilogram chart [4]"},{"location":"visualization_modules/ims_raw_data_overview/IM-data-visualisation.html#frame-heatmap-5","text":"Todo The signal intensity is displayed as a continuous colour scale.","title":"Frame heatmap [5]"},{"location":"visualization_modules/ims_raw_data_overview/IM-data-visualisation.html#ion-trace-chart-6","text":"Todo","title":"Ion trace chart [6]"},{"location":"visualization_modules/ims_raw_data_overview/IM-data-visualisation.html#displaying-parameters-6","text":"Mobility scan noise level : This parameter controls the signals shown in the XXX panels (panel n\u00b0X). For example, a noise level of 5.0E1 will show only the signals above this value (see below) SCREENSHOT Frame noise level : This parameter sets a threshold for the signals shown in the \"Summed frame spectrum panel\" (panel n\u00b0X). Signals from MS spectra acquired over the same frame are summed and shown m/z tolerance : Todo Scan selection : Todo Retention time width : Todo Mobilogram bin width (abs) : Todo EIC/mobilogram ranges : Todo To-do list: - Explain EIC and EIC in mobilogram chart","title":"Displaying parameters [6]"},{"location":"visualization_modules/interactive_ion_id_netw/interactive_ion_id_netw.html","text":"TODO","title":"Interactive Ion Identity Molecular Networks"},{"location":"visualization_modules/msmsplot/msms-plot.html","text":"MS/MS plot \u00b6 Description \u00b6 This module provides a colored scatter plot of the MS/MS data. There are 4 options for X and Y axes: retention time, precursor ion m/z, product ion m/z, neutral loss and 3 options for Z axis (color): precursor ion intensity, product ion intensity, retention time. The module additionally allows you to filter ions by their intensities and to perform diagnostic fragmentation filtering. In order to focus on the values of interest you can highlight specific data points and sort them by color axis. This tool can be very useful to get an overview of large amounts of MS/MS data by tuning parameters and filters. Parameters \u00b6 Raw data file Selection of the raw data file to visualize. Only one file can be selected. X axis Selection of the values for X axis. There are 4 options available: Retention time, Precursor ion m/z, Product ion m/z, Neutral loss. Y axis Selection of the values for Y axis. Options are the same as for X axis. Z axis Selection of the vales for Z axis. There are 3 options available: Precursor ion intensity, Product ion intensity, Retention time. MS level MS level of the scans to be plotted. Retention time Retention time range. m/z range Range of m/z values for precursor ions in MSn scans. m/z tolerance Maximum allowed difference between two m/z values to be considered same. Intensities filtering Optional parameter to filter ions by intensity. There are 3 different ways of filtering: Number of best fragments - Number of ions with highest intensities from each scan to be visualized. For example 5(for each scan 5 ions with highest intensities will be plotted). Base peak percent, % - Ions with intensity values lower than the given percent of base peak intensity will be plotted. For example 95(ions with intensity values lower than 0.95 multiplied by base peak intensity will not be plotted). Intensity threshold - Ions having intensities lower than the given value will not be plotted. For example 6.0E6(ions with intensity values lower than 6.0E6 will not be plotted). Diagnostic fragmentation filtering Optional parameter for diagnostic fragmentation filtering described below. It has 2 subparameters: diagnostic product ions and diagnostic neutral loss values. Scans not containing any ion satisfying each input criterion will not be considered for the visualization. Diagnostic fragmentation filtering \u00b6 Due to common structural features, compounds within the same class undergo similar MS/MS fragmentation and as a result of many identical product ions and/or neutral losses. Diagnostic fragmentation filter (product ion filter) is a post-acquisition approach to screen LC-MS/MS datasets for entire classes of both known and unknown natural products. This tool searches all MS/MS spectra for product ions and/or neutral losses that has defined as being diagnostic for the entire class of compounds. In other words it screens LC-MS/MS datasets for MS/MS spectra containing production ions and/or neutral losses that are specific to that class of compounds. The user defines the diagnostic product ions and/or the diagnostic neutral loss values (Da) to use in the filtering. The user can also define the minimum diagnostic ion intensity (% base peak) to use in the filtering. If a recurrent neutral loss occurs, a line pattern in the plot can be observed. If compounds carrying those diagnostic product ions and/or the neutral loss values are detected the resulting plot will show their product ion m/z and precusor ion m/z. Additionally, an output file may be specified that will output the results of the filtering. For a detailed view of diagnostic fragmentation filtering: Walsh, Jacob P., et al. \"Diagnostic Fragmentation Filtering for the Discovery of New Chaetoglobosins and Cytochalasins.\" Rapid Communications in Mass Spectrometry (2018) . Functionality \u00b6 This plot is using the third part library JfreeChart for its basic functionality. Drag the mouse from left to right - selecting the area to zoom Drag the mouse from right to left - zoom out Select combo boxes below - change axes types Hold the mouse on data point - show detailed information in a tooltip Double click on data point - show spectrum plot - highlight points representing ions with specific values given by input ranges (Note: colors of range input boxes determine the highlighting color, green color denotes ions satisfying both ranges) - show intense points in front - show pale points in front","title":"MSMS Visualizer"},{"location":"visualization_modules/msmsplot/msms-plot.html#msms-plot","text":"","title":"MS/MS plot"},{"location":"visualization_modules/msmsplot/msms-plot.html#description","text":"This module provides a colored scatter plot of the MS/MS data. There are 4 options for X and Y axes: retention time, precursor ion m/z, product ion m/z, neutral loss and 3 options for Z axis (color): precursor ion intensity, product ion intensity, retention time. The module additionally allows you to filter ions by their intensities and to perform diagnostic fragmentation filtering. In order to focus on the values of interest you can highlight specific data points and sort them by color axis. This tool can be very useful to get an overview of large amounts of MS/MS data by tuning parameters and filters.","title":"Description"},{"location":"visualization_modules/msmsplot/msms-plot.html#parameters","text":"Raw data file Selection of the raw data file to visualize. Only one file can be selected. X axis Selection of the values for X axis. There are 4 options available: Retention time, Precursor ion m/z, Product ion m/z, Neutral loss. Y axis Selection of the values for Y axis. Options are the same as for X axis. Z axis Selection of the vales for Z axis. There are 3 options available: Precursor ion intensity, Product ion intensity, Retention time. MS level MS level of the scans to be plotted. Retention time Retention time range. m/z range Range of m/z values for precursor ions in MSn scans. m/z tolerance Maximum allowed difference between two m/z values to be considered same. Intensities filtering Optional parameter to filter ions by intensity. There are 3 different ways of filtering: Number of best fragments - Number of ions with highest intensities from each scan to be visualized. For example 5(for each scan 5 ions with highest intensities will be plotted). Base peak percent, % - Ions with intensity values lower than the given percent of base peak intensity will be plotted. For example 95(ions with intensity values lower than 0.95 multiplied by base peak intensity will not be plotted). Intensity threshold - Ions having intensities lower than the given value will not be plotted. For example 6.0E6(ions with intensity values lower than 6.0E6 will not be plotted). Diagnostic fragmentation filtering Optional parameter for diagnostic fragmentation filtering described below. It has 2 subparameters: diagnostic product ions and diagnostic neutral loss values. Scans not containing any ion satisfying each input criterion will not be considered for the visualization.","title":"Parameters"},{"location":"visualization_modules/msmsplot/msms-plot.html#diagnostic-fragmentation-filtering","text":"Due to common structural features, compounds within the same class undergo similar MS/MS fragmentation and as a result of many identical product ions and/or neutral losses. Diagnostic fragmentation filter (product ion filter) is a post-acquisition approach to screen LC-MS/MS datasets for entire classes of both known and unknown natural products. This tool searches all MS/MS spectra for product ions and/or neutral losses that has defined as being diagnostic for the entire class of compounds. In other words it screens LC-MS/MS datasets for MS/MS spectra containing production ions and/or neutral losses that are specific to that class of compounds. The user defines the diagnostic product ions and/or the diagnostic neutral loss values (Da) to use in the filtering. The user can also define the minimum diagnostic ion intensity (% base peak) to use in the filtering. If a recurrent neutral loss occurs, a line pattern in the plot can be observed. If compounds carrying those diagnostic product ions and/or the neutral loss values are detected the resulting plot will show their product ion m/z and precusor ion m/z. Additionally, an output file may be specified that will output the results of the filtering. For a detailed view of diagnostic fragmentation filtering: Walsh, Jacob P., et al. \"Diagnostic Fragmentation Filtering for the Discovery of New Chaetoglobosins and Cytochalasins.\" Rapid Communications in Mass Spectrometry (2018) .","title":"Diagnostic fragmentation filtering"},{"location":"visualization_modules/msmsplot/msms-plot.html#functionality","text":"This plot is using the third part library JfreeChart for its basic functionality. Drag the mouse from left to right - selecting the area to zoom Drag the mouse from right to left - zoom out Select combo boxes below - change axes types Hold the mouse on data point - show detailed information in a tooltip Double click on data point - show spectrum plot - highlight points representing ions with specific values given by input ranges (Note: colors of range input boxes determine the highlighting color, green color denotes ions satisfying both ranges) - show intense points in front - show pale points in front","title":"Functionality"},{"location":"visualization_modules/processed_additional/processed_additional.html","text":"Scatter plot \u00b6 TODO Rename Description \u00b6 This tool shows a scatter plot with data from identified peaks in aligned feature list. A search for a peak can be done using three options (name, retention time and m/z value). Correlated features \\(\\Delta\\) m/z histogram \u00b6 TODO Feature intensity plot \u00b6 Description \u00b6 TODO Parameters \u00b6 Data files Selects the raw data files from where the peaks were detected X axis value X axis display the raw data file name or the parameter defined in the \"set sample parameters\" window X axis value The user can choose from peak's height, area or retention time value to display in this axis. Peaks The user can select the peaks to use in this plot. Kendrick mass plot \u00b6 Description \u00b6 If you use this module for your analysis or visualization, please cite: Three\u2010dimensional Kendrick mass plots as a tool for graphical lipid identification. A. Korf, C. Vosse, R. Schmid, P. O. Helmer, V. Jeck, H. Hayen, Rapid Communications in Mass Spectrometry 32.12 (2018): 981-991. Parameters \u00b6 Peak list Select the targeted peak list. Peaks Add peaks from the peak list. Kendrick mass base for y-Axis Enter a sum formula which will be used as Kendrick mass base for the y-Axis. X-axis value Select which parameters you want to display on the X-Axis (Kendrick mass (KM) or m/z). Kendrick mass base for x-Axis If you want to display a Kendrick mass defect on the x-axis, check the check box and enter a sum formula as Kendrick mass base. Z-axis value Select which parameters you want to display in the third dimension. If you select \"none\", a 2D Kendrick mass plot will be generated. Kendrick mass base for Z-Axis If you want to display a Kendrick mass defect on the z-axis in form of a heatmap, check the check box and enter a sum formula as Kendrick mass base. Z-axis scale value Choose the bounds for the Z-axis. \"Percentile\" allows to exclude values of a selected percentile bellow and/or above from the paint scale. Values below will be displayed in black, values above will be displayed in magenta. \"Custom\" allows to set custom ranges. Range for z-axis scale Enter lower bound left and higher bound right. If you have choosen percentile for Z-axis scale the values must be between 0 and 100. If you enter 0 and 100, all values will be included in the paint scale. Heatmap style Select the style of your paint scale. You can choose between rainbow and different monochrome color coded paint scales. Background \u00b6 In 1963 Kendrick published his idea of a mass scale, the so-called Kendrick mass scale, which is based on defining the mass of CH2 as 14.0000 u. The Kendrick mass scale is calculated by multiplying the IUPAC mass scale with the factor 14.0000 u/14.01565 u = 0.9988834. This results in the same mass defect for homologous components, the so-called Kendrick mass defect (KMD) . The KMD is defined as the \\(\\Delta\\) of a nominal Kendrick mass and its associated Kendrick mass. Using the Kendrick mass scale has the purpose of data reduction. \\[KM(R)=m/z\\cdot\\frac{round(R)}{R}\\] \\[KMD(R)=round(KM(R))-KM(R)\\] where \\(KM\\) is Kendrick mass, \\(KMD\\) - Kendrick mass defect, \\(R\\) - exact mass of selected base unit More information: https://en.wikipedia.org/wiki/Kendrick_mass Functionality \u00b6 This module allows to create 2 and 3 dimensional Kendrick mass plots. All possible feature characteristics can be plotted in a third dimension. Charge dependent Kendrick mass plots Multiply charged ions can cause splits in Kendrick mass plot. Fouquet et al. have shown considering the charge for the calculation of the KM can help to overcome this problem through clustering of features. \\[KM(R,Z)=Z\\cdot KM(R)=Z\\cdot m/z\\cdot \\frac{round(R)}{R}\\] where \\(Z\\) is charge. Fouquet, Thierry NJ, et al. \"On the Kendrick Mass Defect Plots of Multiply Charged Polymer Ions: Splits, Misalignments, and How to Correct Them.\" Journal of The American Society for Mass Spectrometry 29.8 (2018): 1611-1626. Resolution enhanced Kendrick mass defect plots Fouquet and Sato have shown that a fractional base unit (ivisor) can enhance the resolution of Kendrick mass plots. \\[X>1, KM(R,X)=m/z\\cdot \\frac{round(R/X)}{R/X}\\] where \\(X\\) is a fractional base unit. Fouquet, Thierry, and Hiroaki Sato. \"Extension of the Kendrick mass defect analysis of homopolymers to low resolution and high mass range mass spectra using fractional base units.\" Analytical chemistry 89.5 (2017): 2682-2686. Combining charge and fractional base unit (Divisor) If both charge and fractional base unit are changed, the following equation is used: \\[KM(R,Z,X)=Z\\cdot KM(RX)=Z\\cdot m/z\\cdot \\frac{round(R/X)}{R/X}\\] Fouquet, Thierry NJ, et al. \"On the Kendrick Mass Defect Plots of Multiply Charged Polymer Ions: Splits, Misalignments, and How to Correct Them.\" Journal of The American Society for Mass Spectrometry 29.8 (2018): 1611-1626. Fouquet, Thierry, Takaya Satoh, and Hiroaki Sato. \"First gut instincts are always right: the resolution required for a mass defect analysis of polymer ions can be as low as oligomeric.\" Analytical chemistry 90.4 (2018): 2404-2408. Remainders of Kendrick masses (RKM) Another option to increase the resolution of Kendrick mass plots is the by Fouquet et al. proposed concept of RKM (remainders of Kendrick masses). By clicking the KMD/RKM button in the toolbar on the right side, KMDs are transformed to RKMs. \\[RKM(R)=\\Bigg\\{\\frac{KM(R)}{round(R)}\\Bigg\\}\\] with \\(\\{ \\}\\) being the fractional part function defined as \\(x=x-floor(x)\\)","title":"Additional tools"},{"location":"visualization_modules/processed_additional/processed_additional.html#scatter-plot","text":"TODO Rename","title":"Scatter plot"},{"location":"visualization_modules/processed_additional/processed_additional.html#description","text":"This tool shows a scatter plot with data from identified peaks in aligned feature list. A search for a peak can be done using three options (name, retention time and m/z value).","title":"Description"},{"location":"visualization_modules/processed_additional/processed_additional.html#correlated-features-deltamz-histogram","text":"TODO","title":"Correlated features \\(\\Delta\\)m/z histogram"},{"location":"visualization_modules/processed_additional/processed_additional.html#feature-intensity-plot","text":"","title":"Feature intensity plot"},{"location":"visualization_modules/processed_additional/processed_additional.html#description_1","text":"TODO","title":"Description"},{"location":"visualization_modules/processed_additional/processed_additional.html#parameters","text":"Data files Selects the raw data files from where the peaks were detected X axis value X axis display the raw data file name or the parameter defined in the \"set sample parameters\" window X axis value The user can choose from peak's height, area or retention time value to display in this axis. Peaks The user can select the peaks to use in this plot.","title":"Parameters"},{"location":"visualization_modules/processed_additional/processed_additional.html#kendrick-mass-plot","text":"","title":"Kendrick mass plot"},{"location":"visualization_modules/processed_additional/processed_additional.html#description_2","text":"If you use this module for your analysis or visualization, please cite: Three\u2010dimensional Kendrick mass plots as a tool for graphical lipid identification. A. Korf, C. Vosse, R. Schmid, P. O. Helmer, V. Jeck, H. Hayen, Rapid Communications in Mass Spectrometry 32.12 (2018): 981-991.","title":"Description"},{"location":"visualization_modules/processed_additional/processed_additional.html#parameters_1","text":"Peak list Select the targeted peak list. Peaks Add peaks from the peak list. Kendrick mass base for y-Axis Enter a sum formula which will be used as Kendrick mass base for the y-Axis. X-axis value Select which parameters you want to display on the X-Axis (Kendrick mass (KM) or m/z). Kendrick mass base for x-Axis If you want to display a Kendrick mass defect on the x-axis, check the check box and enter a sum formula as Kendrick mass base. Z-axis value Select which parameters you want to display in the third dimension. If you select \"none\", a 2D Kendrick mass plot will be generated. Kendrick mass base for Z-Axis If you want to display a Kendrick mass defect on the z-axis in form of a heatmap, check the check box and enter a sum formula as Kendrick mass base. Z-axis scale value Choose the bounds for the Z-axis. \"Percentile\" allows to exclude values of a selected percentile bellow and/or above from the paint scale. Values below will be displayed in black, values above will be displayed in magenta. \"Custom\" allows to set custom ranges. Range for z-axis scale Enter lower bound left and higher bound right. If you have choosen percentile for Z-axis scale the values must be between 0 and 100. If you enter 0 and 100, all values will be included in the paint scale. Heatmap style Select the style of your paint scale. You can choose between rainbow and different monochrome color coded paint scales.","title":"Parameters"},{"location":"visualization_modules/processed_additional/processed_additional.html#background","text":"In 1963 Kendrick published his idea of a mass scale, the so-called Kendrick mass scale, which is based on defining the mass of CH2 as 14.0000 u. The Kendrick mass scale is calculated by multiplying the IUPAC mass scale with the factor 14.0000 u/14.01565 u = 0.9988834. This results in the same mass defect for homologous components, the so-called Kendrick mass defect (KMD) . The KMD is defined as the \\(\\Delta\\) of a nominal Kendrick mass and its associated Kendrick mass. Using the Kendrick mass scale has the purpose of data reduction. \\[KM(R)=m/z\\cdot\\frac{round(R)}{R}\\] \\[KMD(R)=round(KM(R))-KM(R)\\] where \\(KM\\) is Kendrick mass, \\(KMD\\) - Kendrick mass defect, \\(R\\) - exact mass of selected base unit More information: https://en.wikipedia.org/wiki/Kendrick_mass","title":"Background"},{"location":"visualization_modules/processed_additional/processed_additional.html#functionality","text":"This module allows to create 2 and 3 dimensional Kendrick mass plots. All possible feature characteristics can be plotted in a third dimension. Charge dependent Kendrick mass plots Multiply charged ions can cause splits in Kendrick mass plot. Fouquet et al. have shown considering the charge for the calculation of the KM can help to overcome this problem through clustering of features. \\[KM(R,Z)=Z\\cdot KM(R)=Z\\cdot m/z\\cdot \\frac{round(R)}{R}\\] where \\(Z\\) is charge. Fouquet, Thierry NJ, et al. \"On the Kendrick Mass Defect Plots of Multiply Charged Polymer Ions: Splits, Misalignments, and How to Correct Them.\" Journal of The American Society for Mass Spectrometry 29.8 (2018): 1611-1626. Resolution enhanced Kendrick mass defect plots Fouquet and Sato have shown that a fractional base unit (ivisor) can enhance the resolution of Kendrick mass plots. \\[X>1, KM(R,X)=m/z\\cdot \\frac{round(R/X)}{R/X}\\] where \\(X\\) is a fractional base unit. Fouquet, Thierry, and Hiroaki Sato. \"Extension of the Kendrick mass defect analysis of homopolymers to low resolution and high mass range mass spectra using fractional base units.\" Analytical chemistry 89.5 (2017): 2682-2686. Combining charge and fractional base unit (Divisor) If both charge and fractional base unit are changed, the following equation is used: \\[KM(R,Z,X)=Z\\cdot KM(RX)=Z\\cdot m/z\\cdot \\frac{round(R/X)}{R/X}\\] Fouquet, Thierry NJ, et al. \"On the Kendrick Mass Defect Plots of Multiply Charged Polymer Ions: Splits, Misalignments, and How to Correct Them.\" Journal of The American Society for Mass Spectrometry 29.8 (2018): 1611-1626. Fouquet, Thierry, Takaya Satoh, and Hiroaki Sato. \"First gut instincts are always right: the resolution required for a mass defect analysis of polymer ions can be as low as oligomeric.\" Analytical chemistry 90.4 (2018): 2404-2408. Remainders of Kendrick masses (RKM) Another option to increase the resolution of Kendrick mass plots is the by Fouquet et al. proposed concept of RKM (remainders of Kendrick masses). By clicking the KMD/RKM button in the toolbar on the right side, KMDs are transformed to RKMs. \\[RKM(R)=\\Bigg\\{\\frac{KM(R)}{round(R)}\\Bigg\\}\\] with \\(\\{ \\}\\) being the fractional part function defined as \\(x=x-floor(x)\\)","title":"Functionality"},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html","text":"Chromatogram plot \u00b6 Description \u00b6 There is a possibility to display chromatographic peaks outside of raw data overview. This standalone two-dimensional plot visualizes TIC/XIC data. All the chromatograms are displayed in the same plot. The x-axis corresponds to retention time and the y-axis is the intensity level of the signal. Parameters \u00b6 Raw data files List of raw data files to display in the TIC visualizer. MS level Scan level (MS1,MS2,... ,MSn) to display in the plot. Plot type TIC or base peak Retention time Retention time (x-axis) range. m/z range Range of m/z values. If this range does not include the entire scan m/z range, the resulting visualizer is XIC type. Selected peaks List of chromatographic peaks to display in the TIC visualizer. This option is available only if a peak list related to the selected raw data file exists in the current project. MS spectrum \u00b6 Displays all the ions from a selected scan. Can be used to explore mass spectrum outside of raw data overview. Only one raw file can be chosen. It shows a plot of two dimensions, where X axis corresponds to m/z value and Y axis is the intensity of the ion signal. Parameters \u00b6 Scan number Choose the scan to visualize 3D visualizer \u00b6 Description \u00b6 This tool presents a three dimensional plot where X axis represents the retention time, Y axis the m/z value and Z axis the intensity of the signal. This plot is the collection of all the information from the raw data in a graphical representation. Parameters \u00b6 MS level This refers to the scan level (MS1,MS2,... ,MSn) to be used to display the chromatogram. Retention time Retention time (X axis) range. Retention time resolution Number of data points on retention time axis. m/z range Range of m/z values. m/z resolution Number of data points on m/z axis. Scan histogram \u00b6 Description \u00b6 This module creates m/z distribution histograms of all m/z values in mass lists across specified scans. The binning width, in which the m/z values are counted, can be changed dynamically. The number of scans that contain a specific m/z value (bin) are plotted. https://youtu.be/31hwc74vUjA Parameters \u00b6 Raw data file, scans filter and mass list Specify the scans and mass lists m/z range Limit the range of the histogram to save performance Retention time range (optional) Limit the scans to a specific retention time range m/z bin width The binning width to count m/z value occurance in scans (can be changed dynamically in the dialog) The dialog The \"bin width\" and \"shift bins by\" parameter automatically listens for changes and updates the chart (indicated by red/green label above). User can also apply a Gaussian fit to a distribution. Scan inject time analysis \u00b6 TODO MS(n) spectra tree \u00b6 TODO TODO Describe MS plot window TODO Decribe chromatogram window","title":"Additional tools"},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#chromatogram-plot","text":"","title":"Chromatogram plot"},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#description","text":"There is a possibility to display chromatographic peaks outside of raw data overview. This standalone two-dimensional plot visualizes TIC/XIC data. All the chromatograms are displayed in the same plot. The x-axis corresponds to retention time and the y-axis is the intensity level of the signal.","title":"Description"},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#parameters","text":"Raw data files List of raw data files to display in the TIC visualizer. MS level Scan level (MS1,MS2,... ,MSn) to display in the plot. Plot type TIC or base peak Retention time Retention time (x-axis) range. m/z range Range of m/z values. If this range does not include the entire scan m/z range, the resulting visualizer is XIC type. Selected peaks List of chromatographic peaks to display in the TIC visualizer. This option is available only if a peak list related to the selected raw data file exists in the current project.","title":"Parameters"},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#ms-spectrum","text":"Displays all the ions from a selected scan. Can be used to explore mass spectrum outside of raw data overview. Only one raw file can be chosen. It shows a plot of two dimensions, where X axis corresponds to m/z value and Y axis is the intensity of the ion signal.","title":"MS spectrum"},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#parameters_1","text":"Scan number Choose the scan to visualize","title":"Parameters"},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#3d-visualizer","text":"","title":"3D visualizer"},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#description_1","text":"This tool presents a three dimensional plot where X axis represents the retention time, Y axis the m/z value and Z axis the intensity of the signal. This plot is the collection of all the information from the raw data in a graphical representation.","title":"Description"},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#parameters_2","text":"MS level This refers to the scan level (MS1,MS2,... ,MSn) to be used to display the chromatogram. Retention time Retention time (X axis) range. Retention time resolution Number of data points on retention time axis. m/z range Range of m/z values. m/z resolution Number of data points on m/z axis.","title":"Parameters"},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#scan-histogram","text":"","title":"Scan histogram"},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#description_2","text":"This module creates m/z distribution histograms of all m/z values in mass lists across specified scans. The binning width, in which the m/z values are counted, can be changed dynamically. The number of scans that contain a specific m/z value (bin) are plotted. https://youtu.be/31hwc74vUjA","title":"Description"},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#parameters_3","text":"Raw data file, scans filter and mass list Specify the scans and mass lists m/z range Limit the range of the histogram to save performance Retention time range (optional) Limit the scans to a specific retention time range m/z bin width The binning width to count m/z value occurance in scans (can be changed dynamically in the dialog) The dialog The \"bin width\" and \"shift bins by\" parameter automatically listens for changes and updates the chart (indicated by red/green label above). User can also apply a Gaussian fit to a distribution.","title":"Parameters"},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#scan-inject-time-analysis","text":"TODO","title":"Scan inject time analysis"},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#msn-spectra-tree","text":"TODO TODO Describe MS plot window TODO Decribe chromatogram window","title":"MS(n) spectra tree"},{"location":"visualization_modules/raw_data_overview/raw_data_overview.html","text":"Raw data overview (LC-MS) \u00b6 Raw data overview allows user to explore both chromatogram and MS views across all the selected files. By double-clicking on the raw file of interest in the \"MS data files\" tab, Raw data overview tab will open in the main content pane. Raw data overview can either display single or multiple overlaid chromatograms, depending on how many raw files are selected. Additionally, it can be accessed through: Visualization \u2192 Raw data overview. The view consists of three panes - chromatogram representation (on the left), mass spectrum (on the right), and table with tabs containing additional information about raw data files. Chromatogram parameters \u00b6 Show XIC To display an extracted ion chromatogram (XIC), the user can tick the \"Show XIC\" box. There are several options for defining the m/z range - from mass, from formula and auto range. \"Setup\" button allows to choose the appropriate plot type. Base peak intensity plot only shows the signal of the most intense mass peak in each MS spectrum, while the Total ion current plot shows the summed signal intensity of all masses at any one retention time point. Spectrum parameters \u00b6 When masses are detected, it is possible to display them on the spectrum by ticking an option \"Show mass list\". Page Contributors \u00b6 Olena Mokshyna (89.29%), lalalana5 (10.71%)","title":"Raw data overview"},{"location":"visualization_modules/raw_data_overview/raw_data_overview.html#raw-data-overview-lc-ms","text":"Raw data overview allows user to explore both chromatogram and MS views across all the selected files. By double-clicking on the raw file of interest in the \"MS data files\" tab, Raw data overview tab will open in the main content pane. Raw data overview can either display single or multiple overlaid chromatograms, depending on how many raw files are selected. Additionally, it can be accessed through: Visualization \u2192 Raw data overview. The view consists of three panes - chromatogram representation (on the left), mass spectrum (on the right), and table with tabs containing additional information about raw data files.","title":"Raw data overview (LC-MS)"},{"location":"visualization_modules/raw_data_overview/raw_data_overview.html#chromatogram-parameters","text":"Show XIC To display an extracted ion chromatogram (XIC), the user can tick the \"Show XIC\" box. There are several options for defining the m/z range - from mass, from formula and auto range. \"Setup\" button allows to choose the appropriate plot type. Base peak intensity plot only shows the signal of the most intense mass peak in each MS spectrum, while the Total ion current plot shows the summed signal intensity of all masses at any one retention time point.","title":"Chromatogram parameters"},{"location":"visualization_modules/raw_data_overview/raw_data_overview.html#spectrum-parameters","text":"When masses are detected, it is possible to display them on the spectrum by ticking an option \"Show mass list\".","title":"Spectrum parameters"},{"location":"visualization_modules/raw_data_overview/raw_data_overview.html#page-contributors","text":"Olena Mokshyna (89.29%), lalalana5 (10.71%)","title":"Page Contributors"},{"location":"visualization_modules/visualization_overview/visualization-overview.html","text":"Visualization modules \u00b6 MZmine provides a rangle of interactive visualization tools for analysis of raw and processed data. JFreeChart library is used for majority of plots. Most of the generated plots are interactive. The following functions are available: Use the + or - key on the keyboard to zoom in or out. Scroll with the mouse to zoom in or out. Drag the mouse from left to right to select the area to zoom in. Drag the mouse from right to left to zoom out to the default view. Single click on the y-axis to auto set the intensity to auto height. Double click on the y- or x-axis to reset the zoom to default. In the right part of the plot there is a toolbar. Its functionality is also included in a pop-up menu, which appears when you make right click on the plot area. TODO : Add video of working with plots","title":"Visualization overview"},{"location":"visualization_modules/visualization_overview/visualization-overview.html#visualization-modules","text":"MZmine provides a rangle of interactive visualization tools for analysis of raw and processed data. JFreeChart library is used for majority of plots. Most of the generated plots are interactive. The following functions are available: Use the + or - key on the keyboard to zoom in or out. Scroll with the mouse to zoom in or out. Drag the mouse from left to right to select the area to zoom in. Drag the mouse from right to left to zoom out to the default view. Single click on the y-axis to auto set the intensity to auto height. Double click on the y- or x-axis to reset the zoom to default. In the right part of the plot there is a toolbar. Its functionality is also included in a pop-up menu, which appears when you make right click on the plot area. TODO : Add video of working with plots","title":"Visualization modules"},{"location":"workflows/batch_processing/batch-processing.html","text":"Batch processing \u00b6 Besides the interactive GUI , MZmine allows the user to run processing workflows in an automated manner using the \"batch mode\". Entire processing pipelines (including data import/export) can be run with few clicks, or even through the command-line application. This makes MZmine suitable to be integrated into automated data analysis pipelines (e.g. QC systems). Batch files (XML format) are essentially lists of tasks run by MZmine one after another. Any of the methods available in MZmine 3 can be included in the batch file. How to run batch processing \u00b6 Project Batch mode When a new step is added to the queue its parameter setup dialog is shown. The \"Set paramaters\" button allows the user to modify a step's parameter settings. The \"Clear\" button removes all steps. The \"Load\" and \"Save\" buttons make it possible to read and write batch steps to XML files. The first step of a batch queue is performed on those raw data files and/or peak lists selected by the user. The remaining steps are performed on the results produced by each preceding step (File/Feature list selection must be set to Those created by previous batch step ). For example, if the first step of the batch queue is the ADAP chromatogram builder , it will produce peak lists as a result. If the following step were Peak list deconvolution then it will be performed on the peak lists produced by the preceding Chromatogram builder step. Tip MZmine \"remembers\" the last settings used. Processing wizard \u00b6 The processing wizard is inteded to quickly set up a general workflow for the processing of untargeted LC-MS and LC-IM-MS data. By clicking the \"Set default\" button, default settings for mass and feature detection are also provided according to the selected MS type (Orbitrap or TOF) and LC system (UHPLC or HPLC). Once the desired parameters have been set, hit the \"Build batch\" botton and a pre-populated batch window will open up. Tools Processing wizard Mass spectrometers presets \u00b6 MS type: When TOF is selected, the \"Ion mobility\" can be enabled MS1 and MS2 noise level: Minimum feature height: Scan to scan m/z tolerance: Feature to feature m/z tolerance: HPLC presets \u00b6 Stable ionization across samples: Crop retention time: Max peaks in chromatogram: Min samples per aligned feature: Min # of data points: Approximate feature FWHM: Intra-sample RT tolerance: Inter-sample RT tolerance: Only keep feature with 13C: Original feature list: Export path: Warning The default settings were optimized on sample datasets used during the MZmine 3 development. Although probably suitable for many appications, it is strongly recommended not to blindly rely on them. Rather, optimal processing parameters should be chosen based on the LC-(IM)-MS system performance and data acquisition settings.","title":"Batch processing"},{"location":"workflows/batch_processing/batch-processing.html#batch-processing","text":"Besides the interactive GUI , MZmine allows the user to run processing workflows in an automated manner using the \"batch mode\". Entire processing pipelines (including data import/export) can be run with few clicks, or even through the command-line application. This makes MZmine suitable to be integrated into automated data analysis pipelines (e.g. QC systems). Batch files (XML format) are essentially lists of tasks run by MZmine one after another. Any of the methods available in MZmine 3 can be included in the batch file.","title":"Batch processing"},{"location":"workflows/batch_processing/batch-processing.html#how-to-run-batch-processing","text":"Project Batch mode When a new step is added to the queue its parameter setup dialog is shown. The \"Set paramaters\" button allows the user to modify a step's parameter settings. The \"Clear\" button removes all steps. The \"Load\" and \"Save\" buttons make it possible to read and write batch steps to XML files. The first step of a batch queue is performed on those raw data files and/or peak lists selected by the user. The remaining steps are performed on the results produced by each preceding step (File/Feature list selection must be set to Those created by previous batch step ). For example, if the first step of the batch queue is the ADAP chromatogram builder , it will produce peak lists as a result. If the following step were Peak list deconvolution then it will be performed on the peak lists produced by the preceding Chromatogram builder step. Tip MZmine \"remembers\" the last settings used.","title":"How to run batch processing"},{"location":"workflows/batch_processing/batch-processing.html#processing-wizard","text":"The processing wizard is inteded to quickly set up a general workflow for the processing of untargeted LC-MS and LC-IM-MS data. By clicking the \"Set default\" button, default settings for mass and feature detection are also provided according to the selected MS type (Orbitrap or TOF) and LC system (UHPLC or HPLC). Once the desired parameters have been set, hit the \"Build batch\" botton and a pre-populated batch window will open up. Tools Processing wizard","title":"Processing wizard"},{"location":"workflows/batch_processing/batch-processing.html#mass-spectrometers-presets","text":"MS type: When TOF is selected, the \"Ion mobility\" can be enabled MS1 and MS2 noise level: Minimum feature height: Scan to scan m/z tolerance: Feature to feature m/z tolerance:","title":"Mass spectrometers presets"},{"location":"workflows/batch_processing/batch-processing.html#hplc-presets","text":"Stable ionization across samples: Crop retention time: Max peaks in chromatogram: Min samples per aligned feature: Min # of data points: Approximate feature FWHM: Intra-sample RT tolerance: Inter-sample RT tolerance: Only keep feature with 13C: Original feature list: Export path: Warning The default settings were optimized on sample datasets used during the MZmine 3 development. Although probably suitable for many appications, it is strongly recommended not to blindly rely on them. Rather, optimal processing parameters should be chosen based on the LC-(IM)-MS system performance and data acquisition settings.","title":"HPLC presets"},{"location":"workflows/imsworkflow/ion-mobility-data-processing-workflow.html","text":"LC-IMS-MS Workflow Overview \u00b6 Compared to regular LC-MS, LC-IM-MS data is more complex due to the additional separation dimension. Since some terms might not be straightforward for new users, a basic explanation of IM separation principles and the terminology used within this documentation is provided here . Supported formats \u00b6 Vendor formats: .tdf (Native Bruker LC-IMS-MS and MALDI-IMS-MSI format) .tsf (Native Bruker MALDI-IMS-MS (single shot) format) .mzML Created via MSConvert from native Bruker data Created via MSConvert from native Waters/Agilent data Feature detection workflows \u00b6 Ion mobility data can be processed in MZmine 3 in two ways. The first few steps are different for the two workflows (see below). LC-IMS-MS workflow via ADAP Chromatogram builder and IMS expander ( recommended) LC-IMS-MS workflow via Ion mobility trace builder / Recursive IMS builder While these lists might seem fairly similar, there are some differences in the processing approach. The LC-IMS-MS workflow builds ion mobility traces from the data in the mobility scans, whilst the LC-MS workflow builds EICs from the summed frames. For ion mobility data imported from .mzML files, accumulated frame spectra have to be built from the individual mobility scans after mass detection . Since the mass detection impacts the computation of accumulated frame spectra in the same way it would impact the ion mobility trace builder , the differences from this workflow and the ADAP workflow will be negligible. However, frame spectra for native Bruker .tdf raw data are summed by the vendor library during file import. Here, the frame spectra are generated from the raw data and thus result in higher intensities, since the low abundant data points on the edges of the mobility and retention time peaks are not cut-off by the mass detection step. (see below) Therefore, the more low abundant compounds might be detected, if the LC-MS workflow is recommended. LC-MS workflow (recommended) \u00b6 LC-IMS-MS data can also be processed via the regular LC-MS modules. If necessary, detected features can be expanded into the mobility dimension. For this workflow, generation of summed frame spectra via the Mobility scan merging module is a mandatory step, if the data was imported from an .mzML file (automatically generated via native Bruker import). Data import Mass detection Mobility scan merging (mzML data) ADAP Chromatogram builder Smoothing in retention time dimension (optional) Resolving in retention time dimension Expanding EICs in mobility dimension Smoothing in mobility dimension (optional) Resolving in mobility dimension Smoothing in rt and mobility dimension (optional) Some recognised features might have rather noisy signals (in rt and mobility dimension) after the mobility resolving step. If smoother shapes are required, the smoothing can be reapplied afterwards. In that case, smoothing can be applied to both dimensions at once. LC-IMS-MS workflow \u00b6 The LC-IMS-MS workflow will directly build ion mobility traces from the raw data in the mobility scans. This workflow does not necessarily require summed frame spectra. However, if extracted ion chromatograms shall be visualized via the Chromatogram visualizer , the frame intensities are used. In case these are not present, the chromatograms will be blank. Note that feature intensities from the LC-IMS-MS workflow might not exactly match the frame chromatograms due to summing being executed prior to thresholding (for native Bruker data). Furthermore, multiple isomers might hide behind a single chromatographic peak. Data import Mass detection Ion mobility trace builder Smoothing in retention time dimension (optional) Resolving in retention time dimension Smoothing in mobility dimension (optional) Resolving in mobility dimension Smoothing in rt and mobility dimension (optional) Some recognised features might have rather noisy signals (in rt and mobility dimension) after the mobility resolving step. If smoother shapes are required, the smoothing can be reapplied afterwards. In that case, smoothing can be applied to both dimensions at once. Graphical comparison of LC-MS and LC-IMS-MS data \u00b6 Data comparison Page Contributors \u00b6 Olena Mokshyna (5.88%), SteffenHeu (89.22%), tdamiani (4.9%)","title":"LC-IMS-MS workflow"},{"location":"workflows/imsworkflow/ion-mobility-data-processing-workflow.html#lc-ims-ms-workflow-overview","text":"Compared to regular LC-MS, LC-IM-MS data is more complex due to the additional separation dimension. Since some terms might not be straightforward for new users, a basic explanation of IM separation principles and the terminology used within this documentation is provided here .","title":"LC-IMS-MS Workflow Overview"},{"location":"workflows/imsworkflow/ion-mobility-data-processing-workflow.html#supported-formats","text":"Vendor formats: .tdf (Native Bruker LC-IMS-MS and MALDI-IMS-MSI format) .tsf (Native Bruker MALDI-IMS-MS (single shot) format) .mzML Created via MSConvert from native Bruker data Created via MSConvert from native Waters/Agilent data","title":"Supported formats"},{"location":"workflows/imsworkflow/ion-mobility-data-processing-workflow.html#feature-detection-workflows","text":"Ion mobility data can be processed in MZmine 3 in two ways. The first few steps are different for the two workflows (see below). LC-IMS-MS workflow via ADAP Chromatogram builder and IMS expander ( recommended) LC-IMS-MS workflow via Ion mobility trace builder / Recursive IMS builder While these lists might seem fairly similar, there are some differences in the processing approach. The LC-IMS-MS workflow builds ion mobility traces from the data in the mobility scans, whilst the LC-MS workflow builds EICs from the summed frames. For ion mobility data imported from .mzML files, accumulated frame spectra have to be built from the individual mobility scans after mass detection . Since the mass detection impacts the computation of accumulated frame spectra in the same way it would impact the ion mobility trace builder , the differences from this workflow and the ADAP workflow will be negligible. However, frame spectra for native Bruker .tdf raw data are summed by the vendor library during file import. Here, the frame spectra are generated from the raw data and thus result in higher intensities, since the low abundant data points on the edges of the mobility and retention time peaks are not cut-off by the mass detection step. (see below) Therefore, the more low abundant compounds might be detected, if the LC-MS workflow is recommended.","title":"Feature detection workflows"},{"location":"workflows/imsworkflow/ion-mobility-data-processing-workflow.html#lc-ms-workflow-recommended","text":"LC-IMS-MS data can also be processed via the regular LC-MS modules. If necessary, detected features can be expanded into the mobility dimension. For this workflow, generation of summed frame spectra via the Mobility scan merging module is a mandatory step, if the data was imported from an .mzML file (automatically generated via native Bruker import). Data import Mass detection Mobility scan merging (mzML data) ADAP Chromatogram builder Smoothing in retention time dimension (optional) Resolving in retention time dimension Expanding EICs in mobility dimension Smoothing in mobility dimension (optional) Resolving in mobility dimension Smoothing in rt and mobility dimension (optional) Some recognised features might have rather noisy signals (in rt and mobility dimension) after the mobility resolving step. If smoother shapes are required, the smoothing can be reapplied afterwards. In that case, smoothing can be applied to both dimensions at once.","title":"LC-MS workflow (recommended)"},{"location":"workflows/imsworkflow/ion-mobility-data-processing-workflow.html#lc-ims-ms-workflow","text":"The LC-IMS-MS workflow will directly build ion mobility traces from the raw data in the mobility scans. This workflow does not necessarily require summed frame spectra. However, if extracted ion chromatograms shall be visualized via the Chromatogram visualizer , the frame intensities are used. In case these are not present, the chromatograms will be blank. Note that feature intensities from the LC-IMS-MS workflow might not exactly match the frame chromatograms due to summing being executed prior to thresholding (for native Bruker data). Furthermore, multiple isomers might hide behind a single chromatographic peak. Data import Mass detection Ion mobility trace builder Smoothing in retention time dimension (optional) Resolving in retention time dimension Smoothing in mobility dimension (optional) Resolving in mobility dimension Smoothing in rt and mobility dimension (optional) Some recognised features might have rather noisy signals (in rt and mobility dimension) after the mobility resolving step. If smoother shapes are required, the smoothing can be reapplied afterwards. In that case, smoothing can be applied to both dimensions at once.","title":"LC-IMS-MS workflow"},{"location":"workflows/imsworkflow/ion-mobility-data-processing-workflow.html#graphical-comparison-of-lc-ms-and-lc-ims-ms-data","text":"Data comparison","title":"Graphical comparison of LC-MS and LC-IMS-MS data"},{"location":"workflows/imsworkflow/ion-mobility-data-processing-workflow.html#page-contributors","text":"Olena Mokshyna (5.88%), SteffenHeu (89.22%), tdamiani (4.9%)","title":"Page Contributors"},{"location":"workflows/imsworkflow/lc-ms-and-lc-ims-ms-data-comparison.html","text":"Graphical comparison of LC-MS and LC-IMS-MS data \u00b6 Classic LC-MS data consists of three dimensions: m/z, intensity, and retention time. At every retention time, a whole mass spectrum is acquired (yellow). Putting all scans together creates a three-dimensional plane. By slicing the three-dimensional data at a single m/z (+- a tolerance), EICs can be created (green). On the other hand, ion mobility resolved data consists of a three-dimensional data plane at each retention time. The three dimensions being m/z, intensity, and mobility (as drift time (ms) or inverse reduced mobility 1/k0 [Vs/(cm^2)]). The 3D projection of regular LC-MS data can be created by summing all mobility scans of a frame to create a frame spectrum. (see Mobility scan merging )","title":"IMS data format insight"},{"location":"workflows/imsworkflow/lc-ms-and-lc-ims-ms-data-comparison.html#graphical-comparison-of-lc-ms-and-lc-ims-ms-data","text":"Classic LC-MS data consists of three dimensions: m/z, intensity, and retention time. At every retention time, a whole mass spectrum is acquired (yellow). Putting all scans together creates a three-dimensional plane. By slicing the three-dimensional data at a single m/z (+- a tolerance), EICs can be created (green). On the other hand, ion mobility resolved data consists of a three-dimensional data plane at each retention time. The three dimensions being m/z, intensity, and mobility (as drift time (ms) or inverse reduced mobility 1/k0 [Vs/(cm^2)]). The 3D projection of regular LC-MS data can be created by summing all mobility scans of a frame to create a frame spectrum. (see Mobility scan merging )","title":"Graphical comparison of LC-MS and LC-IMS-MS data"},{"location":"workflows/lcmsworkflow/lcms-workflow.html","text":"LC-MS Workflow \u00b6 The workflow proposed herein is intended as a general pipeline for untargeted LC-MS (or LC\u2212MS/MS) data preprocessing. The main goal is essentially to turn the highly-complex LC-MS raw data into a list of features, and corresponding signal intensity, detected across the analysed samples. Such feature lists can then be exported for further downstream analysis (e.g., identification, search against spectral libraries, statistical analysis, etc.). A schematic representation of the workflow is shown below: Raw data processing \u00b6 The raw data processing consists of essentially two steps: Data import and Mass detection Raw data import \u00b6 Either open (e.g. mzML) and native vendor (e.g. Thermo, Bruker) data formats can be imported in MZmine 3. All the supported formats are listed here (LINK to Doc). For more details see the Data import module. Mass detection \u00b6 This step produces a list (referred to as \"mass list\") of the m/z values found in each MS scan across the LC run that exceed a user-defined threeshold (i.e. noise level). For more details see the Mass detection module. Feature processing \u00b6 The goal of the \"Feature processing\" is to obtain a list of all the detected features (characterized by a RT and m/z value) from the raw LC-MS data. Chromatogram building \u00b6 The first step in the \"Feature processing\" is to build the so-called extracted ion chromatograms (EICs) for each detected mass (see \"Mass detection\"). There are two modules in MZmine 3 that can fulfil this task: ADAP chromatogram builder (widely used) and Grid mass (create docs). The \"detected\" features in each \ufb01le are listed in the so-called \"feature lists\", which are then further processed and aligned to connect corresponding features across all samples. Smoothing in retention time dimension (optional) \u00b6 Depending on the LC peak shape (i.e. data noisiness), the user can perform smoothing in retention time dimension. For more details see the Mass detection and Smoothing modules. Feature resolving \u00b6 Feature resolving step enables separation of co-eluting and overlapping chromatography peaks and as such is one of the pivotal steps in data preprocessing. For more detalis on the algorithm used and parameters settings, see the Local minimum resolver module. 13 C isotope filter (isotope grouper) \u00b6 In order to remove redundant features, such as the ones generated due to the presence of isotopologues, isotope filter should be applied. 13 C isotope filter (isotope grouper) removes 13 C isotope features from the feature list. Use the isotope finder for more sensitive detection of possible isotope signals. Isotope pattern finder \u00b6 Isotope pattern finder searches for the isotope signals of selected chemical elements in the mass list of each feature. The isotope pattern detected by the isotope finder module has priority over the one detected by the isotope filter (grouper) module, if both are available. For more details, see the Isotope pattern finder module. Feature alignment \u00b6 Feature alignment enables alignment of corresponding features across all samples. Join aligner \u00b6 This module aligns detected peaks in different samples through a match score. The score is calculated based on the mass and retention time of each peak and ranges of tolerance stipulated in the parameter setup dialog. For more information, see the join aligner module. Gap-filling \u00b6 Absence of features in some samples can either reflect the truth - the metabolite is absent in the given sample, or it can be due to data preprocessing.To account for this, gap filling is applied as the next step. Gap-filling (peak finder) \u00b6 Gap-filling can be performed on the aligned feature lists to cope with missing features that might be artifacts of the feature-detection process. For more details see the Gap-filling (peak finder) module. Export \u00b6 Depending on the downstream analyses, there are several export options which are accessible through Feature list methods \u2192 Export feature list . For GNPS-Feature based molecular networking, see GNPS-FBMN References \u00b6 Karaman, I.; Climaco Pinto, R.; Gra\u00e7a, G. Chapter Eight - Metabolomics Data Preprocessing: From Raw Data to Features for Statistical Analysis. In Comprehensive Analytical Chemistry; Jaumot, J., Bedia, C., Tauler, R., Eds.; Elsevier, 2018; Vol. 82, pp 197\u2013225. Pluskal, T.; Korf, A.; Smirnov, A.; Schmid, R.; Fallon, T. R.; Du, X.; Weng, J.-K. CHAPTER 7:Metabolomics Data Analysis Using MZmine. In Processing Metabolomics and Proteomics Data with Open Software; 2020; pp 232\u2013254. Du, X.; Smirnov, A.; Pluskal, T.; Jia, W.; Sumner, S. Metabolomics Data Preprocessing Using ADAP and MZmine 2. In Computational Methods and Data Analysis for Metabolomics; Li, S., Ed.; Springer US: New York, NY, 2020; pp 25\u201348. Page Contributors \u00b6 Olena Mokshyna (3.95%), SteffenHeu (30.26%), tdamiani (9.21%), lalalana5 (55.26%), lalalana5 (1.32%)","title":"LC-MS workflow"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#lc-ms-workflow","text":"The workflow proposed herein is intended as a general pipeline for untargeted LC-MS (or LC\u2212MS/MS) data preprocessing. The main goal is essentially to turn the highly-complex LC-MS raw data into a list of features, and corresponding signal intensity, detected across the analysed samples. Such feature lists can then be exported for further downstream analysis (e.g., identification, search against spectral libraries, statistical analysis, etc.). A schematic representation of the workflow is shown below:","title":"LC-MS Workflow"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#raw-data-processing","text":"The raw data processing consists of essentially two steps: Data import and Mass detection","title":"Raw data processing"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#raw-data-import","text":"Either open (e.g. mzML) and native vendor (e.g. Thermo, Bruker) data formats can be imported in MZmine 3. All the supported formats are listed here (LINK to Doc). For more details see the Data import module.","title":"Raw data import"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#mass-detection","text":"This step produces a list (referred to as \"mass list\") of the m/z values found in each MS scan across the LC run that exceed a user-defined threeshold (i.e. noise level). For more details see the Mass detection module.","title":"Mass detection"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#feature-processing","text":"The goal of the \"Feature processing\" is to obtain a list of all the detected features (characterized by a RT and m/z value) from the raw LC-MS data.","title":"Feature processing"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#chromatogram-building","text":"The first step in the \"Feature processing\" is to build the so-called extracted ion chromatograms (EICs) for each detected mass (see \"Mass detection\"). There are two modules in MZmine 3 that can fulfil this task: ADAP chromatogram builder (widely used) and Grid mass (create docs). The \"detected\" features in each \ufb01le are listed in the so-called \"feature lists\", which are then further processed and aligned to connect corresponding features across all samples.","title":"Chromatogram building"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#smoothing-in-retention-time-dimension-optional","text":"Depending on the LC peak shape (i.e. data noisiness), the user can perform smoothing in retention time dimension. For more details see the Mass detection and Smoothing modules.","title":"Smoothing in retention time dimension (optional)"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#feature-resolving","text":"Feature resolving step enables separation of co-eluting and overlapping chromatography peaks and as such is one of the pivotal steps in data preprocessing. For more detalis on the algorithm used and parameters settings, see the Local minimum resolver module.","title":"Feature resolving"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#13c-isotope-filter-isotope-grouper","text":"In order to remove redundant features, such as the ones generated due to the presence of isotopologues, isotope filter should be applied. 13 C isotope filter (isotope grouper) removes 13 C isotope features from the feature list. Use the isotope finder for more sensitive detection of possible isotope signals.","title":"13C isotope filter (isotope grouper)"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#isotope-pattern-finder","text":"Isotope pattern finder searches for the isotope signals of selected chemical elements in the mass list of each feature. The isotope pattern detected by the isotope finder module has priority over the one detected by the isotope filter (grouper) module, if both are available. For more details, see the Isotope pattern finder module.","title":"Isotope pattern finder"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#feature-alignment","text":"Feature alignment enables alignment of corresponding features across all samples.","title":"Feature alignment"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#join-aligner","text":"This module aligns detected peaks in different samples through a match score. The score is calculated based on the mass and retention time of each peak and ranges of tolerance stipulated in the parameter setup dialog. For more information, see the join aligner module.","title":"Join aligner"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#gap-filling","text":"Absence of features in some samples can either reflect the truth - the metabolite is absent in the given sample, or it can be due to data preprocessing.To account for this, gap filling is applied as the next step.","title":"Gap-filling"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#gap-filling-peak-finder","text":"Gap-filling can be performed on the aligned feature lists to cope with missing features that might be artifacts of the feature-detection process. For more details see the Gap-filling (peak finder) module.","title":"Gap-filling (peak finder)"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#export","text":"Depending on the downstream analyses, there are several export options which are accessible through Feature list methods \u2192 Export feature list . For GNPS-Feature based molecular networking, see GNPS-FBMN","title":"Export"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#references","text":"Karaman, I.; Climaco Pinto, R.; Gra\u00e7a, G. Chapter Eight - Metabolomics Data Preprocessing: From Raw Data to Features for Statistical Analysis. In Comprehensive Analytical Chemistry; Jaumot, J., Bedia, C., Tauler, R., Eds.; Elsevier, 2018; Vol. 82, pp 197\u2013225. Pluskal, T.; Korf, A.; Smirnov, A.; Schmid, R.; Fallon, T. R.; Du, X.; Weng, J.-K. CHAPTER 7:Metabolomics Data Analysis Using MZmine. In Processing Metabolomics and Proteomics Data with Open Software; 2020; pp 232\u2013254. Du, X.; Smirnov, A.; Pluskal, T.; Jia, W.; Sumner, S. Metabolomics Data Preprocessing Using ADAP and MZmine 2. In Computational Methods and Data Analysis for Metabolomics; Li, S., Ed.; Springer US: New York, NY, 2020; pp 25\u201348.","title":"References"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#page-contributors","text":"Olena Mokshyna (3.95%), SteffenHeu (30.26%), tdamiani (9.21%), lalalana5 (55.26%), lalalana5 (1.32%)","title":"Page Contributors"}]}