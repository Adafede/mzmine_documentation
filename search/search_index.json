{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"index.html","text":"Welcome to the MZmine 3 wiki! \u00b6 MZmine 3 is an open-source and platform-independent software for mass spectrometry (MS) data processing and visualization. It enables large-scale metabolomics and lipidomics research by spectral preprocessing, feature detection, and various options for compound identification, including spectral library querying and creation. Since the introduction of MZmine 2 in 2010, the project has matured into a community-driven, highly collaborative platform and its functions continue to expand based on the users' needs and feedbacks. This has also enabled the tight integration of the MZmine ecosystem with popular third-party software for MS data analysis, such as the SIRIUS suite for in silico metabolite annotation, the GNPS platform with Ion Identity Molecular Networking, the MetaboAnalyst web app for univariate and multivariate statistical anlysis, etc. Such a great progress was made possible by the invaluable contribution of many developers from research labs distributed all over the world! Want to get started with MZmine 3? Check out our getting started page! What's new compared to MZmine 2? \u00b6 MZmine 3 comes with a redesigned and fully customizable GUI based on the JavaFX technology that allow an interactive visualization and validation of results from every processing step. A completely new data structure provides the flexibility to process any type of mass spectrometry, including LC-MS, GC-MS and MS-imaging. Moreover, MZmine 3 now supports ion mobility, with a dedicated LC-IM-MS data visualization module and feature detection algorithms. Finally, significant effort was devoted to trace memory issues and bottlenecks, resulting in an unprecendent processing performance and scalability. COMING SOON! We are implementing the Mass Spec Query Langauge (MassQL) to explore your MS data with human-readable, succinct queries! The project is suppported by the Google Summer of Code program. About this documentation \u00b6 Here you can find documentation for both processing and visualization modules in MZmine 3. Moreover, data processing pipelines for untargeted LC-MS and LC-IMS-MS feature detection are described and general recommendations are given. COMING SOON! We are currently working on a series of short videotutorials to help get you started with the main features of MZmine 3! How to contribute \u00b6 The MZmine community is always welcoming new developers and contributions! You can contribute by improving existing modules or even adding new featurs in MZmine 3! Please, check out our brief tutorial . You can also contribute to this wiki and help new users to get started with MZmine 3! See here how to contribute to the documentation.","title":"Home page"},{"location":"index.html#welcome-to-the-mzmine-3-wiki","text":"MZmine 3 is an open-source and platform-independent software for mass spectrometry (MS) data processing and visualization. It enables large-scale metabolomics and lipidomics research by spectral preprocessing, feature detection, and various options for compound identification, including spectral library querying and creation. Since the introduction of MZmine 2 in 2010, the project has matured into a community-driven, highly collaborative platform and its functions continue to expand based on the users' needs and feedbacks. This has also enabled the tight integration of the MZmine ecosystem with popular third-party software for MS data analysis, such as the SIRIUS suite for in silico metabolite annotation, the GNPS platform with Ion Identity Molecular Networking, the MetaboAnalyst web app for univariate and multivariate statistical anlysis, etc. Such a great progress was made possible by the invaluable contribution of many developers from research labs distributed all over the world! Want to get started with MZmine 3? Check out our getting started page!","title":"Welcome to the MZmine 3 wiki!"},{"location":"index.html#whats-new-compared-to-mzmine-2","text":"MZmine 3 comes with a redesigned and fully customizable GUI based on the JavaFX technology that allow an interactive visualization and validation of results from every processing step. A completely new data structure provides the flexibility to process any type of mass spectrometry, including LC-MS, GC-MS and MS-imaging. Moreover, MZmine 3 now supports ion mobility, with a dedicated LC-IM-MS data visualization module and feature detection algorithms. Finally, significant effort was devoted to trace memory issues and bottlenecks, resulting in an unprecendent processing performance and scalability. COMING SOON! We are implementing the Mass Spec Query Langauge (MassQL) to explore your MS data with human-readable, succinct queries! The project is suppported by the Google Summer of Code program.","title":"What's new compared to MZmine 2?"},{"location":"index.html#about-this-documentation","text":"Here you can find documentation for both processing and visualization modules in MZmine 3. Moreover, data processing pipelines for untargeted LC-MS and LC-IMS-MS feature detection are described and general recommendations are given. COMING SOON! We are currently working on a series of short videotutorials to help get you started with the main features of MZmine 3!","title":"About this documentation"},{"location":"index.html#how-to-contribute","text":"The MZmine community is always welcoming new developers and contributions! You can contribute by improving existing modules or even adding new featurs in MZmine 3! Please, check out our brief tutorial . You can also contribute to this wiki and help new users to get started with MZmine 3! See here how to contribute to the documentation.","title":"How to contribute"},{"location":"commandline_tool.html","text":"Command-line arguments \u00b6 Command-line arguments offer a variety of options that generally override the corresponding parameters in the preferences. Windows An easy way to start MZmine with arguments is to create a shortcut to the MZmine.exe, right-click, and define the target with additional arguments. This example runs MZMine in batch mode (headless), imports the specified batch file, overrides the memory management to none (which is the default), effectively using memory mapping to store and access spectral, centroid, and feature data from temporary files stored in the defined temp directory. By leaving out the memory or temp arguments, the values stored in the current preferences file will be used, or the default values if no preferences file was found. Start MZmine batch with memory mapping ( DEFAULT ) \"C:\\Program Files\\MZmine\\MZmine.exe\" -batch \"D:\\batch\\my_batch_file.xml\" -memory none -temp \"D:\\tmpmzmine\" Start MZmine batch on machines with enough memory (RAM) with -memory all \"C:\\Program Files\\MZmine\\MZmine.exe\" -batch \"D:\\batch\\my_batch_file.xml\" -memory all -temp \"D:\\tmpmzmine\" Argument table \u00b6 Argument Options ( default ) Description -batch a path, e.g. \"D:\\batch.xml\" Path to batch file -memory none , all, features, centroids, raw, masses_features Defines what data is kept in memory (RAM) or otherwise memory mapped to the temp directory. Generally this setting should be none . If memory is no issue this option might be set to all process all spectral and feature data in memory. The option masses_features keeps centroid mass lists and features in memory while memory mapping raw spectral data. -temp a path, e.g., \"-temp \"D:\\tmpmzmine\\\" The defined directory should be on a fast drive (usually SSD > HDD > network drive) with enough free space. Local drives are usually preferred. MZmine uses memory mapping to efficiently store and access spectral and feature data. This can lead to a considerable temporary consumption of disk space. Make sure that the selected drive has enough space (maybe 20 GB + 1 GB/10 files; generously over estimated).","title":"Command line tool (batch mode)"},{"location":"commandline_tool.html#command-line-arguments","text":"Command-line arguments offer a variety of options that generally override the corresponding parameters in the preferences. Windows An easy way to start MZmine with arguments is to create a shortcut to the MZmine.exe, right-click, and define the target with additional arguments. This example runs MZMine in batch mode (headless), imports the specified batch file, overrides the memory management to none (which is the default), effectively using memory mapping to store and access spectral, centroid, and feature data from temporary files stored in the defined temp directory. By leaving out the memory or temp arguments, the values stored in the current preferences file will be used, or the default values if no preferences file was found. Start MZmine batch with memory mapping ( DEFAULT ) \"C:\\Program Files\\MZmine\\MZmine.exe\" -batch \"D:\\batch\\my_batch_file.xml\" -memory none -temp \"D:\\tmpmzmine\" Start MZmine batch on machines with enough memory (RAM) with -memory all \"C:\\Program Files\\MZmine\\MZmine.exe\" -batch \"D:\\batch\\my_batch_file.xml\" -memory all -temp \"D:\\tmpmzmine\"","title":"Command-line arguments"},{"location":"commandline_tool.html#argument-table","text":"Argument Options ( default ) Description -batch a path, e.g. \"D:\\batch.xml\" Path to batch file -memory none , all, features, centroids, raw, masses_features Defines what data is kept in memory (RAM) or otherwise memory mapped to the temp directory. Generally this setting should be none . If memory is no issue this option might be set to all process all spectral and feature data in memory. The option masses_features keeps centroid mass lists and features in memory while memory mapping raw spectral data. -temp a path, e.g., \"-temp \"D:\\tmpmzmine\\\" The defined directory should be on a fast drive (usually SSD > HDD > network drive) with enough free space. Local drives are usually preferred. MZmine uses memory mapping to efficiently store and access spectral and feature data. This can lead to a considerable temporary consumption of disk space. Make sure that the selected drive has enough space (maybe 20 GB + 1 GB/10 files; generously over estimated).","title":"Argument table"},{"location":"contribute.html","text":"How to contribute \u00b6 Contribute to the MZmine documentation \u00b6 1. Make a GitHub Account You'll need to make a GitHub Account . 2. Click Edit Button on Page You Want to Edit 3. Fork the Repository When Prompted (only the first time) 4. Make the Edits in MarkDown 5. Propose Changes Please describe the change you are making. 6. Create Pull Request 7. Finalize Pull Request with Description Creating a new page \u00b6 Follow steps 1 - 3. Navigate to mzmine_documentation/docs in your fork and create a new file Follow steps 4 - 7. Page Contributors \u00b6 SteffenHeu This page was adapted from the GNPS documentation .","title":"Contribute"},{"location":"contribute.html#how-to-contribute","text":"","title":"How to contribute"},{"location":"contribute.html#contribute-to-the-mzmine-documentation","text":"1. Make a GitHub Account You'll need to make a GitHub Account . 2. Click Edit Button on Page You Want to Edit 3. Fork the Repository When Prompted (only the first time) 4. Make the Edits in MarkDown 5. Propose Changes Please describe the change you are making. 6. Create Pull Request 7. Finalize Pull Request with Description","title":"Contribute to the MZmine documentation"},{"location":"contribute.html#creating-a-new-page","text":"Follow steps 1 - 3. Navigate to mzmine_documentation/docs in your fork and create a new file Follow steps 4 - 7.","title":"Creating a new page"},{"location":"contribute.html#page-contributors","text":"SteffenHeu This page was adapted from the GNPS documentation .","title":"Page Contributors"},{"location":"getting_started.html","text":"Getting Started \u00b6 Before creating your first project, we recommend setting up some things. Set a temporary file directory. Go to Project \u2192 Set preferences \u2192 Temporary file directory . This requires a restart to take effect. We recommend setting the directory to an SSD with enough space for fast processing and visualizations. On Windows, old temporary files are deleted when a new session is started. MZmine 2 projects cannot be imported due to changes in the data structure. MZmine 2 batch files cannot be imported due to parameter optimizations. You can get familiar with the new GUI here: Main window overview A quick insight to data processing workflows can be found here: LC-MS workflow or LC-IMS-IMS workflow You can also check out the new processing wizard under Processing wizard in the main menu.","title":"Getting started"},{"location":"getting_started.html#getting-started","text":"Before creating your first project, we recommend setting up some things. Set a temporary file directory. Go to Project \u2192 Set preferences \u2192 Temporary file directory . This requires a restart to take effect. We recommend setting the directory to an SSD with enough space for fast processing and visualizations. On Windows, old temporary files are deleted when a new session is started. MZmine 2 projects cannot be imported due to changes in the data structure. MZmine 2 batch files cannot be imported due to parameter optimizations. You can get familiar with the new GUI here: Main window overview A quick insight to data processing workflows can be found here: LC-MS workflow or LC-IMS-IMS workflow You can also check out the new processing wizard under Processing wizard in the main menu.","title":"Getting Started"},{"location":"main-window-overview.html","text":"Main window overview \u00b6 The MZmine 3 man window is made up of mainly four important building blocks. MS data files and feature lists tab \u00b6 [1]: The (raw) ms data and feature list tabs. Here you can find your imported data files and processed feature lists. Hint: you can also import files by dragging & dropping them to the ms data tab. Main content pane \u00b6 [2]: The main content pane. Visualisations such as a raw data overview or a feature list can be viewed here. This pane can also contain multiple tabs. Every tab can also be opened in a new separate window by right-clicking on the header. Main menu \u00b6 [3]: The main menu. Here you can find methods to import and process your data files and feature lists and visualise the results. Furthermore, projects can be saved and preferences can be set. Task overview \u00b6 [4]: The task overview. Current tasks are displayed and their status and progress are indicated. Tasks can also be canceled by right clicking on a task. Page Contributors \u00b6 SteffenHeu","title":"Main window overview"},{"location":"main-window-overview.html#main-window-overview","text":"The MZmine 3 man window is made up of mainly four important building blocks.","title":"Main window overview"},{"location":"main-window-overview.html#ms-data-files-and-feature-lists-tab","text":"[1]: The (raw) ms data and feature list tabs. Here you can find your imported data files and processed feature lists. Hint: you can also import files by dragging & dropping them to the ms data tab.","title":"MS data files and feature lists tab"},{"location":"main-window-overview.html#main-content-pane","text":"[2]: The main content pane. Visualisations such as a raw data overview or a feature list can be viewed here. This pane can also contain multiple tabs. Every tab can also be opened in a new separate window by right-clicking on the header.","title":"Main content pane"},{"location":"main-window-overview.html#main-menu","text":"[3]: The main menu. Here you can find methods to import and process your data files and feature lists and visualise the results. Furthermore, projects can be saved and preferences can be set.","title":"Main menu"},{"location":"main-window-overview.html#task-overview","text":"[4]: The task overview. Current tasks are displayed and their status and progress are indicated. Tasks can also be canceled by right clicking on a task.","title":"Task overview"},{"location":"main-window-overview.html#page-contributors","text":"SteffenHeu","title":"Page Contributors"},{"location":"performance.html","text":"This section contains information on how to tune MZmine 3 for different systems. Preferences \u00b6 The preferences can be changed in MZmine's graphical user interface by accessing File/Set preferences from the menu. The choices will be stored in a (hidden) .mzmine3.conf file in the user's home directory (Windows: C:\\Users\\USERNAME ) once MZmine is closed. Temporary files \u00b6 MZmine will create multiple temporary files at various times of the processing stage, e.g., when importing spectral data, running mass detection, or creating feature lists. These files will be stored in a folder that can be specified in the preferences. We recommend putting this folder on an SSD drive, ideally an M.2 for the best performance. The temporary files will be deleted when MZmine is closed (Mac & Linux) or when a new session is started (Windows). Memory options \u00b6 The parameter Keep in Memory defines what data is kept in memory (RAM) or otherwise memory mapped to the temp directory. Generally this setting should be none ( default ). If memory is no issue this option might be set to all process all spectral and feature data in memory. The option masses_features keeps centroid mass lists and features in memory while memory mapping raw spectral data. The option mass_lists will keep only mass lists in RAM, while memory mapping the raw spectral data and features. Logs \u00b6 Currently, the logs are written to an mzmine_0_0.log file in the user's home directory. Please submit your log files together with any issues on GitHub .","title":"Performance options"},{"location":"performance.html#preferences","text":"The preferences can be changed in MZmine's graphical user interface by accessing File/Set preferences from the menu. The choices will be stored in a (hidden) .mzmine3.conf file in the user's home directory (Windows: C:\\Users\\USERNAME ) once MZmine is closed.","title":"Preferences"},{"location":"performance.html#temporary-files","text":"MZmine will create multiple temporary files at various times of the processing stage, e.g., when importing spectral data, running mass detection, or creating feature lists. These files will be stored in a folder that can be specified in the preferences. We recommend putting this folder on an SSD drive, ideally an M.2 for the best performance. The temporary files will be deleted when MZmine is closed (Mac & Linux) or when a new session is started (Windows).","title":"Temporary files"},{"location":"performance.html#memory-options","text":"The parameter Keep in Memory defines what data is kept in memory (RAM) or otherwise memory mapped to the temp directory. Generally this setting should be none ( default ). If memory is no issue this option might be set to all process all spectral and feature data in memory. The option masses_features keeps centroid mass lists and features in memory while memory mapping raw spectral data. The option mass_lists will keep only mass lists in RAM, while memory mapping the raw spectral data and features.","title":"Memory options"},{"location":"performance.html#logs","text":"Currently, the logs are written to an mzmine_0_0.log file in the user's home directory. Please submit your log files together with any issues on GitHub .","title":"Logs"},{"location":"wikiacknowledgements.html","text":"Acknowledgements \u00b6 We would like to point out that this wiki was set up in tight collaboration with the GNPS staff. We highly appreciate your help! Related projects \u00b6 GNPS SIRIUS Libraries we use in MZmine \u00b6 Apache XML Graphics - EPS image export Chemistry Development Kit - Isotope pattern and molecular calculations Freehep - EMF image export Google Guava - Utility classes JDK Documentation JChemPaint - 2D molecule visualization JFreeChart - TIC, Spectra and 2D visualizers JMol - 3D molecule visualization jmzml - mzML file import jmzTab - mzTab file import and export NetCDF-Java - NetCDF file import VisAD - 3D visualizer WEKA - Clustering and other machine learning algorithms Bruker TDF SDK - Native tdf/tdf file import (requires VC++ 2017 redist.) Thermo raw file parser - Native Thermo raw import","title":"Acknowledgements"},{"location":"wikiacknowledgements.html#acknowledgements","text":"We would like to point out that this wiki was set up in tight collaboration with the GNPS staff. We highly appreciate your help!","title":"Acknowledgements"},{"location":"wikiacknowledgements.html#related-projects","text":"GNPS SIRIUS","title":"Related projects"},{"location":"wikiacknowledgements.html#libraries-we-use-in-mzmine","text":"Apache XML Graphics - EPS image export Chemistry Development Kit - Isotope pattern and molecular calculations Freehep - EMF image export Google Guava - Utility classes JDK Documentation JChemPaint - 2D molecule visualization JFreeChart - TIC, Spectra and 2D visualizers JMol - 3D molecule visualization jmzml - mzML file import jmzTab - mzTab file import and export NetCDF-Java - NetCDF file import VisAD - 3D visualizer WEKA - Clustering and other machine learning algorithms Bruker TDF SDK - Native tdf/tdf file import (requires VC++ 2017 redist.) Thermo raw file parser - Native Thermo raw import","title":"Libraries we use in MZmine"},{"location":"module_docs/featdet_adap_chromatogram_builder/adap-chromatogram-builder.html","text":"ADAP chromatogram builder \u00b6 The ADAP chromatogram builder module is one of the LC-MS feature detection algorithms provided by MZmine 3. The module essentially builds an EIC for each m/z value that was detected over a minum number of consecutive scans in the LC-MS run. Each data file is processed individually. The mass list associated to each MS1 scan in a data file (see Mass detection module) are taken as input and a feature list is returned as output. Since a mass list must be avaialble, the Mass detection module must be run first. The ADAP chromatogram builder algorithm operates as follow. Only MS1 scans are processed. All the the data points are extracted from all the MS1 scans in a data file and and sorted in order of decreasing intensity. The processing starts from the most intense data point and, since no EICs have yet been created, a new EIC is initialized and associated to the corresponding m/z value. The processing proceeds with the second-highest data point and the corresponding m/z is checked to determine if it \"belongs\" to the existing EIC based the user-defined tolerance ( i.e. \"Scan to scan accuracy (m/z)\" parameter). If so, the data point is added to the EIC and the EIC-associated m/z is updated. Otherwise, a new EIC is inizialized. The process is iterated until all the data points have been processed and a set of EICs has been created. Finally, the EICs are checked according to the user-defined parameters ( i.e. minimum number of data points and intensity). The EICs matching the requirements are retained in the feature list , whereas the rest are discarded. The so-built EICs can then be resolved into individual features by one of the deconvolution algorithms provided by MZmine 3 ( e.g. Local mimimum resolver module). Parameters settings \u00b6 :material-menu-open: Feature detection \u2192 LC-MS \u2192 ADAP chromatogram builder Raw data files \u00b6 Select the input raw data files for chromatogram building. Mass lists associated with the data files will be automatically selected. See option descriptions in Mass detection module. Scans \u00b6 Select (or filter out) the MS scans to be processed. Although setting the MS level = 1 is usually sufficient for this module, several filters are avialble (see option descriptions in Mass detection module). For example, specific RT ranges ( e.g. dead volume, equilibration time, calibration segments, etc. ) can be excluded from the processing by setting the corresponding filter. Min group size in # of scans \u00b6 Minimum number of consecutive MS1 scans where a m/z must be detected with a non-zero intensity in order for the corresponding EICs to be considered valid and retained in the feature list. :octicons-light-bulb-16: Tip . This parameter largely depends on the chromatographic system setup ( e.g. HPLC vs UHPLC) and the acquisition rate ( a.k.a. MS scan speed) of the mass spectrometer. The best way to optimize this setting is by manually inspecting the the raw data and determining the typical minimum number of data points of the LC peaks. Usually, no less than 4-5 should be used. Group intensity threshold \u00b6 Minimum signal intensity that the group scans (see previous parameter) must exceed in order for the corresponding EICs to be considered valid and retained in the feature list. :octicons-light-bulb-16: Tip . A good starting point for this parameter is 3 times the noise level used in the Mass detection , if the instrumental noise is used as cutoff (see here for more details). Min highest intensity \u00b6 Minimum intensity that the highest point in the EIC must exceed in order for the corresponding trace to be considered valid and retained in the feature list. :octicons-light-bulb-16: Tip . A good starting point for this parameter is 7-10 times the noise level used in the Mass detection , if the instrumental noise is used as cutoff. Scan to scan accuracy (m/z) \u00b6 Maximum allowed difference between an EIC-associated m/z and a new data point to be added to the existing EIC trace. It is essentially the maximum allowed mass accuracy deviation between consecutive data points in the EICs. The tolerance can be set in m/z , ppm or both. It is an inter-scan m/z tolerance and it depends on the mass accuracy, resolution and stabiity of the instrument. :octicons-light-bulb-16: Tip . The best way to optimize this parameter is by manually inspecting the the raw data and determining the typical fluctuation of the accurate mass measurement over consecutive scans. A good starting point is 0.002-0.005 m/z and 5-10 ppm for Orbitrap instruments, while 0.005 m/z and 10-15 ppm can be used for TOF devices. Suffix \u00b6 String added to the filename as suffix when creating the corresponding feature list.","title":"ADAP Chromatogram builder"},{"location":"module_docs/featdet_adap_chromatogram_builder/adap-chromatogram-builder.html#adap-chromatogram-builder","text":"The ADAP chromatogram builder module is one of the LC-MS feature detection algorithms provided by MZmine 3. The module essentially builds an EIC for each m/z value that was detected over a minum number of consecutive scans in the LC-MS run. Each data file is processed individually. The mass list associated to each MS1 scan in a data file (see Mass detection module) are taken as input and a feature list is returned as output. Since a mass list must be avaialble, the Mass detection module must be run first. The ADAP chromatogram builder algorithm operates as follow. Only MS1 scans are processed. All the the data points are extracted from all the MS1 scans in a data file and and sorted in order of decreasing intensity. The processing starts from the most intense data point and, since no EICs have yet been created, a new EIC is initialized and associated to the corresponding m/z value. The processing proceeds with the second-highest data point and the corresponding m/z is checked to determine if it \"belongs\" to the existing EIC based the user-defined tolerance ( i.e. \"Scan to scan accuracy (m/z)\" parameter). If so, the data point is added to the EIC and the EIC-associated m/z is updated. Otherwise, a new EIC is inizialized. The process is iterated until all the data points have been processed and a set of EICs has been created. Finally, the EICs are checked according to the user-defined parameters ( i.e. minimum number of data points and intensity). The EICs matching the requirements are retained in the feature list , whereas the rest are discarded. The so-built EICs can then be resolved into individual features by one of the deconvolution algorithms provided by MZmine 3 ( e.g. Local mimimum resolver module).","title":"ADAP chromatogram builder"},{"location":"module_docs/featdet_adap_chromatogram_builder/adap-chromatogram-builder.html#parameters-settings","text":":material-menu-open: Feature detection \u2192 LC-MS \u2192 ADAP chromatogram builder","title":"Parameters settings"},{"location":"module_docs/featdet_adap_chromatogram_builder/adap-chromatogram-builder.html#raw-data-files","text":"Select the input raw data files for chromatogram building. Mass lists associated with the data files will be automatically selected. See option descriptions in Mass detection module.","title":"Raw data files"},{"location":"module_docs/featdet_adap_chromatogram_builder/adap-chromatogram-builder.html#scans","text":"Select (or filter out) the MS scans to be processed. Although setting the MS level = 1 is usually sufficient for this module, several filters are avialble (see option descriptions in Mass detection module). For example, specific RT ranges ( e.g. dead volume, equilibration time, calibration segments, etc. ) can be excluded from the processing by setting the corresponding filter.","title":"Scans"},{"location":"module_docs/featdet_adap_chromatogram_builder/adap-chromatogram-builder.html#min-group-size-in-of-scans","text":"Minimum number of consecutive MS1 scans where a m/z must be detected with a non-zero intensity in order for the corresponding EICs to be considered valid and retained in the feature list. :octicons-light-bulb-16: Tip . This parameter largely depends on the chromatographic system setup ( e.g. HPLC vs UHPLC) and the acquisition rate ( a.k.a. MS scan speed) of the mass spectrometer. The best way to optimize this setting is by manually inspecting the the raw data and determining the typical minimum number of data points of the LC peaks. Usually, no less than 4-5 should be used.","title":"Min group size in # of scans"},{"location":"module_docs/featdet_adap_chromatogram_builder/adap-chromatogram-builder.html#group-intensity-threshold","text":"Minimum signal intensity that the group scans (see previous parameter) must exceed in order for the corresponding EICs to be considered valid and retained in the feature list. :octicons-light-bulb-16: Tip . A good starting point for this parameter is 3 times the noise level used in the Mass detection , if the instrumental noise is used as cutoff (see here for more details).","title":"Group intensity threshold"},{"location":"module_docs/featdet_adap_chromatogram_builder/adap-chromatogram-builder.html#min-highest-intensity","text":"Minimum intensity that the highest point in the EIC must exceed in order for the corresponding trace to be considered valid and retained in the feature list. :octicons-light-bulb-16: Tip . A good starting point for this parameter is 7-10 times the noise level used in the Mass detection , if the instrumental noise is used as cutoff.","title":"Min highest intensity"},{"location":"module_docs/featdet_adap_chromatogram_builder/adap-chromatogram-builder.html#scan-to-scan-accuracy-mz","text":"Maximum allowed difference between an EIC-associated m/z and a new data point to be added to the existing EIC trace. It is essentially the maximum allowed mass accuracy deviation between consecutive data points in the EICs. The tolerance can be set in m/z , ppm or both. It is an inter-scan m/z tolerance and it depends on the mass accuracy, resolution and stabiity of the instrument. :octicons-light-bulb-16: Tip . The best way to optimize this parameter is by manually inspecting the the raw data and determining the typical fluctuation of the accurate mass measurement over consecutive scans. A good starting point is 0.002-0.005 m/z and 5-10 ppm for Orbitrap instruments, while 0.005 m/z and 10-15 ppm can be used for TOF devices.","title":"Scan to scan accuracy (m/z)"},{"location":"module_docs/featdet_adap_chromatogram_builder/adap-chromatogram-builder.html#suffix","text":"String added to the filename as suffix when creating the corresponding feature list.","title":"Suffix"},{"location":"module_docs/featdet_ims_expander/ims-expander.html","text":"IMS Expander \u00b6 The IMS expander will search for data points in mobility scans for existing features. This requires prior chromatogram building ( see ADAP Chromatogram builder and resolving in retention time dimension (see Resolving ). Parameter settings \u00b6 m/z tolerance \u00b6 If selected, a tolerance will be applied to the feature's detected m/z while searching for data points in mobility dimension. Otherwise, the accepted m/z range is determined by the feature's m/z distribution in accumulated frame spectra. Recommended setting: selected, 0.003 m/z and 15 ppm Raw data instead of thresholded \u00b6 Enables searching in mobility scan raw data instead of the thresholded (=mass detected) data. Only possible for centroid raw data files. Override default mobility bin width (scans) \u00b6 If selected, the default number of binned mobility scans can be overriden. Useful for data with high mobility resolution. Binned mobilogram example \u00b6","title":"Ion mobility expander"},{"location":"module_docs/featdet_ims_expander/ims-expander.html#ims-expander","text":"The IMS expander will search for data points in mobility scans for existing features. This requires prior chromatogram building ( see ADAP Chromatogram builder and resolving in retention time dimension (see Resolving ).","title":"IMS Expander"},{"location":"module_docs/featdet_ims_expander/ims-expander.html#parameter-settings","text":"","title":"Parameter settings"},{"location":"module_docs/featdet_ims_expander/ims-expander.html#mz-tolerance","text":"If selected, a tolerance will be applied to the feature's detected m/z while searching for data points in mobility dimension. Otherwise, the accepted m/z range is determined by the feature's m/z distribution in accumulated frame spectra. Recommended setting: selected, 0.003 m/z and 15 ppm","title":"m/z tolerance"},{"location":"module_docs/featdet_ims_expander/ims-expander.html#raw-data-instead-of-thresholded","text":"Enables searching in mobility scan raw data instead of the thresholded (=mass detected) data. Only possible for centroid raw data files.","title":"Raw data instead of thresholded"},{"location":"module_docs/featdet_ims_expander/ims-expander.html#override-default-mobility-bin-width-scans","text":"If selected, the default number of binned mobility scans can be overriden. Useful for data with high mobility resolution.","title":"Override default mobility bin width (scans)"},{"location":"module_docs/featdet_ims_expander/ims-expander.html#binned-mobilogram-example","text":"","title":"Binned mobilogram example"},{"location":"module_docs/featdet_ion_mobility_trace_builder/ion-mobility-trace-builder.html","text":"Ion mobility trace builder \u00b6 The Ion mobility trace builder will build ion mobility traces from the raw data. Alternatively, the Recursive IMS builder can be used, which requires less ram but takes longer. The Ion mobility trace builder is found under Feature detection \u2192 LC-IMS-MS \u2192 Ion mobility trace builder . Scan selection \u00b6 The scan selection parameter specifies the scans that shall be processed for feature detection. Usually, setting the ms level to 1 is sufficient. If a calibration segment is present, it can be cut out via the retention time filter in the scan selection. m/z tolerance \u00b6 The m/z tolerance specifies the scan-to-scan tolerance for ion mobility traces. This tolerance window may need to be set higher that for classic LC-MS feature detection (e.g. to 0.005 m/z and 15-20 ppm instead of 10 ppm) due to lower intensities therefore less accuracy in individual mobility scans compared to LC-MS scans. Note that the overall accuracy is achieved via LC-IMS-MS is the same due to the higher number of scans. Minimum consecutive retention time data points \u00b6 This parameter specifies the number of consecutive detections of the same m/z value in a chromatographic peak (rt dimension only). This means that a single m/z has to be detected in, e.g, 5 frames with an intensity higher than zero. This parameter helps to filter noise. Consecutive detections in the mobility dimension do not affect this parameter. Usually no less than 5 should be set here if the MS1 acquisition rate is sufficient. Minimum total signals \u00b6 Specifies the total number of peaks in the mobility dimension in all mobility scans. Every \"dot\" in an ion mobility trace represents a single datapoint. ( see ion mobility traces ) Advanced parameters \u00b6 For most applications, these parameters do not need to set/altered. For high mobility resolved data the mobilograms might become noisy due to less ions reaching the detector at the same time. By default, the number of binned scans is set to cover about 0.0008 Vs/cm^2 per bin. The effect of binning can be seen here . If you are unsure about the nature of your data, you can perform trace building with the standard parameters and apply/preview the binning afterwards via the Feature detection \u2192 Mobilogram binning module. Processing result \u00b6 After performing ion mobiltiy trace detection, a feature list is created in the feature list tab (see feature lists tab ). In the feature table, multiple columns are created. The displayed columns can be set via the button on the right of the feature table ([1]). The shapes displays an EIC of the ion mobility trace (intensities summed in rt dimension). The mobilograms column shows a mobilogram for the ion mobility trace (intensities summed in mobility dimension). The shapes and projections can be smoothed and resolved. However, the ion mobility trace is always represented by the raw data and remains unaltered. After resolving, the shapes and mobilograms have to be recalculated from the raw data, which is why the smoothing is lost after resolving.","title":"Ion mobility trace builder"},{"location":"module_docs/featdet_ion_mobility_trace_builder/ion-mobility-trace-builder.html#ion-mobility-trace-builder","text":"The Ion mobility trace builder will build ion mobility traces from the raw data. Alternatively, the Recursive IMS builder can be used, which requires less ram but takes longer. The Ion mobility trace builder is found under Feature detection \u2192 LC-IMS-MS \u2192 Ion mobility trace builder .","title":"Ion mobility trace builder"},{"location":"module_docs/featdet_ion_mobility_trace_builder/ion-mobility-trace-builder.html#scan-selection","text":"The scan selection parameter specifies the scans that shall be processed for feature detection. Usually, setting the ms level to 1 is sufficient. If a calibration segment is present, it can be cut out via the retention time filter in the scan selection.","title":"Scan selection"},{"location":"module_docs/featdet_ion_mobility_trace_builder/ion-mobility-trace-builder.html#mz-tolerance","text":"The m/z tolerance specifies the scan-to-scan tolerance for ion mobility traces. This tolerance window may need to be set higher that for classic LC-MS feature detection (e.g. to 0.005 m/z and 15-20 ppm instead of 10 ppm) due to lower intensities therefore less accuracy in individual mobility scans compared to LC-MS scans. Note that the overall accuracy is achieved via LC-IMS-MS is the same due to the higher number of scans.","title":"m/z tolerance"},{"location":"module_docs/featdet_ion_mobility_trace_builder/ion-mobility-trace-builder.html#minimum-consecutive-retention-time-data-points","text":"This parameter specifies the number of consecutive detections of the same m/z value in a chromatographic peak (rt dimension only). This means that a single m/z has to be detected in, e.g, 5 frames with an intensity higher than zero. This parameter helps to filter noise. Consecutive detections in the mobility dimension do not affect this parameter. Usually no less than 5 should be set here if the MS1 acquisition rate is sufficient.","title":"Minimum consecutive retention time data points"},{"location":"module_docs/featdet_ion_mobility_trace_builder/ion-mobility-trace-builder.html#minimum-total-signals","text":"Specifies the total number of peaks in the mobility dimension in all mobility scans. Every \"dot\" in an ion mobility trace represents a single datapoint. ( see ion mobility traces )","title":"Minimum total signals"},{"location":"module_docs/featdet_ion_mobility_trace_builder/ion-mobility-trace-builder.html#advanced-parameters","text":"For most applications, these parameters do not need to set/altered. For high mobility resolved data the mobilograms might become noisy due to less ions reaching the detector at the same time. By default, the number of binned scans is set to cover about 0.0008 Vs/cm^2 per bin. The effect of binning can be seen here . If you are unsure about the nature of your data, you can perform trace building with the standard parameters and apply/preview the binning afterwards via the Feature detection \u2192 Mobilogram binning module.","title":"Advanced parameters"},{"location":"module_docs/featdet_ion_mobility_trace_builder/ion-mobility-trace-builder.html#processing-result","text":"After performing ion mobiltiy trace detection, a feature list is created in the feature list tab (see feature lists tab ). In the feature table, multiple columns are created. The displayed columns can be set via the button on the right of the feature table ([1]). The shapes displays an EIC of the ion mobility trace (intensities summed in rt dimension). The mobilograms column shows a mobilogram for the ion mobility trace (intensities summed in mobility dimension). The shapes and projections can be smoothed and resolved. However, the ion mobility trace is always represented by the raw data and remains unaltered. After resolving, the shapes and mobilograms have to be recalculated from the raw data, which is why the smoothing is lost after resolving.","title":"Processing result"},{"location":"module_docs/featdet_mass_detection/mass-detection-algorithms.html","text":"Mass detection algorithms \u00b6 To-do","title":"Mass detection algorithms"},{"location":"module_docs/featdet_mass_detection/mass-detection-algorithms.html#mass-detection-algorithms","text":"To-do","title":"Mass detection algorithms"},{"location":"module_docs/featdet_mass_detection/mass-detection.html","text":"Mass detection \u00b6 The mass detection module generates a mass list ( i.e. list of m/z values and correspoinding signal intensities) for each scan, in each raw data file. During the mass detection, profile raw data are centroided and a noise filtering is performed based on a user-defined threshold (see Setting the noise level ). Parameters settings \u00b6 :material-menu-open: Raw data methods \u2192 Mass detection \u2192 Mass detection Raw data files \u00b6 Select the input raw data files for the mass detection. All the imported data files can be processed in bulk ( i.e. All raw data files ), or a subset can be selected directly from the MS data files panel ( i.e. As selected in the main window ) or based on the filename ( i.e. File name pattern ) As an alternative, the files' directory can be also specified ( i.e. Specific raw data files ). Finally, if the Those created by previous batch step option is selected, MZmine takes the output of the last processing step as input. This option is only avaialble for batch processing . Scans \u00b6 Select (or filter out) the MS scans to be processed. Several filters are avialble ( Select filters button). A scan number, RT and mobility range can be set ( i.e Scan number , Retention time and Mobility options); only the scans belonging to the defined range(s) will be processed. The Base Filtering Integer option allows to prcesses one every- N scans. The Scan definition field can be used to filter scans based on the scan's description normally included in the raw file's metadata ( e.g. FTMS). Scans can also be filtered by MS level ( i.e. 1, 2, ..., N ), polarity and spectrum type ( i.e. Centroided, Profile and Thresholded). Scan types (IMS) \u00b6 This parameter applies only to IM data and determines if mobility scans , frame scans or both ( i.e. All scan types ) are processed. For more details about mobility and frame scans , see here . :octicons-light-bulb-16: Tip . Since frame scans are obtained by merging multiple mobility scans , the noise thresholds will likely be different. However, only one noise level can be set per processing step. Therefore, if one wants to run the mass detection for mobility and frame scans using different noise cutoffs, two module calls are required. As an alternative, mass detection can be performed only on the mobility scans by selecteing the appropriate noise level. Mobility scans can then be merged into frame scans with a dedicated module . Mass detector \u00b6 Select the algorithm to be used for the mass detection. Several mass detection algorithms are available and can be selected in the drop-down menu. The choice depends on the raw data characteristics (profile/centroided, mass resolution, etc.). The Centroid algorithm must be used for already-centroided data. A step-by-step guide to convert profile into centroided data is provided in the GNPS documentation Other algorithms are available for profile raw data and are described in more details here . The Exact mass algorithm is highly recommended for profile HRMS data. When Auto is selected, the Centroid and Exact mass algorithms are used by default for centroided and profile data, respectively. Setting the noise level \u00b6 All the mass detection algorithms allow to set a threshold for the noise filtering ( i.e. Noise level ) by hitting the Setup button next to the Mass detector field. A dialog box like the following will open up: The noise threshold can be entered either in standard or scientific notation. By checking the Show preview box, an interactive visualization panel will open to help the user to adjust the noise level (see also How do I determine the noise level in my data? ). The red dots denotes the mass signals retained in the mass list according to the set threshold. Different data files and scan numbers can be visualized using the corresponding drop-down menus. Detect isotope signals below noise level \u00b6 The Centroid and Exact mass algorithms provide the option to retain signals that are below the noise level (and would be otherwise discarded), but correspond to isotopes of the detected masses. Theoretical isotopic distributions are calculated for each mass detected in the mass list based on the speciefied chemical elements. If a signal below the noise threshold that matches a theoretical isotopic mass is found in the raw data, it will be included in the final mass list. :octicons-light-bulb-16: Tip . In the case of LC-MS data processing, the low-intensity isotope signals included in the final mass list will undergo the whole feature detection workflow (see, for example, LC-MS data processing workflow . Due to the low intensity, these masses often produce LC peaks with poor peak shape during the chromatogram building step and might be discarded if they do not meet the user-defined parameters ( e.g. minimum number of data points and intensity, see ADAP chromatogram builder for more details). Therefore, it might be advisable not to use this option during the mass detection, but rather use the Isotope finder module (CREATE DOC) By ticking the corresponding checkbox and hitting the Setup button, the following dialog box opens up: Chemical elements \u00b6 Elements considered when generating the isotopic distributions. Select the elements from the periodic table by hitting the Setup button. m/z tolerance \u00b6 Maximum allowed difference between measured and theoretical isotope m/z . It is an intra-scan m/z tolerance . The tolerance can be set in m/z , ppm or both. Since mass deviations expressed in ppm are dependent on the m/z ( e.g. higher at low m/z and lower at high m/z ), MZmine automatically uses the largest tolerance. Maximum charge of isotope m/z \u00b6 Maximum allowed charge state of the isotope to be retained in the mass list. Default value is 1. How do I determine the instrumental noise level in my data? \u00b6 To-do. The detector noise is usually determined by a lot of signals of the same intensity.","title":"Mass detection"},{"location":"module_docs/featdet_mass_detection/mass-detection.html#mass-detection","text":"The mass detection module generates a mass list ( i.e. list of m/z values and correspoinding signal intensities) for each scan, in each raw data file. During the mass detection, profile raw data are centroided and a noise filtering is performed based on a user-defined threshold (see Setting the noise level ).","title":"Mass detection"},{"location":"module_docs/featdet_mass_detection/mass-detection.html#parameters-settings","text":":material-menu-open: Raw data methods \u2192 Mass detection \u2192 Mass detection","title":"Parameters settings"},{"location":"module_docs/featdet_mass_detection/mass-detection.html#raw-data-files","text":"Select the input raw data files for the mass detection. All the imported data files can be processed in bulk ( i.e. All raw data files ), or a subset can be selected directly from the MS data files panel ( i.e. As selected in the main window ) or based on the filename ( i.e. File name pattern ) As an alternative, the files' directory can be also specified ( i.e. Specific raw data files ). Finally, if the Those created by previous batch step option is selected, MZmine takes the output of the last processing step as input. This option is only avaialble for batch processing .","title":"Raw data files"},{"location":"module_docs/featdet_mass_detection/mass-detection.html#scans","text":"Select (or filter out) the MS scans to be processed. Several filters are avialble ( Select filters button). A scan number, RT and mobility range can be set ( i.e Scan number , Retention time and Mobility options); only the scans belonging to the defined range(s) will be processed. The Base Filtering Integer option allows to prcesses one every- N scans. The Scan definition field can be used to filter scans based on the scan's description normally included in the raw file's metadata ( e.g. FTMS). Scans can also be filtered by MS level ( i.e. 1, 2, ..., N ), polarity and spectrum type ( i.e. Centroided, Profile and Thresholded).","title":"Scans"},{"location":"module_docs/featdet_mass_detection/mass-detection.html#scan-types-ims","text":"This parameter applies only to IM data and determines if mobility scans , frame scans or both ( i.e. All scan types ) are processed. For more details about mobility and frame scans , see here . :octicons-light-bulb-16: Tip . Since frame scans are obtained by merging multiple mobility scans , the noise thresholds will likely be different. However, only one noise level can be set per processing step. Therefore, if one wants to run the mass detection for mobility and frame scans using different noise cutoffs, two module calls are required. As an alternative, mass detection can be performed only on the mobility scans by selecteing the appropriate noise level. Mobility scans can then be merged into frame scans with a dedicated module .","title":"Scan types (IMS)"},{"location":"module_docs/featdet_mass_detection/mass-detection.html#mass-detector","text":"Select the algorithm to be used for the mass detection. Several mass detection algorithms are available and can be selected in the drop-down menu. The choice depends on the raw data characteristics (profile/centroided, mass resolution, etc.). The Centroid algorithm must be used for already-centroided data. A step-by-step guide to convert profile into centroided data is provided in the GNPS documentation Other algorithms are available for profile raw data and are described in more details here . The Exact mass algorithm is highly recommended for profile HRMS data. When Auto is selected, the Centroid and Exact mass algorithms are used by default for centroided and profile data, respectively.","title":"Mass detector"},{"location":"module_docs/featdet_mass_detection/mass-detection.html#setting-the-noise-level","text":"All the mass detection algorithms allow to set a threshold for the noise filtering ( i.e. Noise level ) by hitting the Setup button next to the Mass detector field. A dialog box like the following will open up: The noise threshold can be entered either in standard or scientific notation. By checking the Show preview box, an interactive visualization panel will open to help the user to adjust the noise level (see also How do I determine the noise level in my data? ). The red dots denotes the mass signals retained in the mass list according to the set threshold. Different data files and scan numbers can be visualized using the corresponding drop-down menus.","title":"Setting the noise level"},{"location":"module_docs/featdet_mass_detection/mass-detection.html#detect-isotope-signals-below-noise-level","text":"The Centroid and Exact mass algorithms provide the option to retain signals that are below the noise level (and would be otherwise discarded), but correspond to isotopes of the detected masses. Theoretical isotopic distributions are calculated for each mass detected in the mass list based on the speciefied chemical elements. If a signal below the noise threshold that matches a theoretical isotopic mass is found in the raw data, it will be included in the final mass list. :octicons-light-bulb-16: Tip . In the case of LC-MS data processing, the low-intensity isotope signals included in the final mass list will undergo the whole feature detection workflow (see, for example, LC-MS data processing workflow . Due to the low intensity, these masses often produce LC peaks with poor peak shape during the chromatogram building step and might be discarded if they do not meet the user-defined parameters ( e.g. minimum number of data points and intensity, see ADAP chromatogram builder for more details). Therefore, it might be advisable not to use this option during the mass detection, but rather use the Isotope finder module (CREATE DOC) By ticking the corresponding checkbox and hitting the Setup button, the following dialog box opens up:","title":"Detect isotope signals below noise level"},{"location":"module_docs/featdet_mass_detection/mass-detection.html#chemical-elements","text":"Elements considered when generating the isotopic distributions. Select the elements from the periodic table by hitting the Setup button.","title":"Chemical elements"},{"location":"module_docs/featdet_mass_detection/mass-detection.html#mz-tolerance","text":"Maximum allowed difference between measured and theoretical isotope m/z . It is an intra-scan m/z tolerance . The tolerance can be set in m/z , ppm or both. Since mass deviations expressed in ppm are dependent on the m/z ( e.g. higher at low m/z and lower at high m/z ), MZmine automatically uses the largest tolerance.","title":"m/z tolerance"},{"location":"module_docs/featdet_mass_detection/mass-detection.html#maximum-charge-of-isotope-mz","text":"Maximum allowed charge state of the isotope to be retained in the mass list. Default value is 1.","title":"Maximum charge of isotope m/z"},{"location":"module_docs/featdet_mass_detection/mass-detection.html#how-do-i-determine-the-instrumental-noise-level-in-my-data","text":"To-do. The detector noise is usually determined by a lot of signals of the same intensity.","title":"How do I determine the instrumental noise level in my data?"},{"location":"module_docs/featdet_mobility_scan_merging/mobility-scan-merging.html","text":"Mobility scan merging \u00b6 If a .mzML file is imported, the merged frame spectrum must be created via the File merging \u2192 Mobility scan merging module. This is required to gain access to MZmine's regular LC-MS functionality. This step uses the centroided and thresholded data produced by the mass detection step. This step is not required when importing native Bruker .tdf or .tsf data from .d folders. When importing native Bruker data, a merged spectrum for the frame is created automatically by the vendor library.","title":"Mobility scan merging"},{"location":"module_docs/featdet_mobility_scan_merging/mobility-scan-merging.html#mobility-scan-merging","text":"If a .mzML file is imported, the merged frame spectrum must be created via the File merging \u2192 Mobility scan merging module. This is required to gain access to MZmine's regular LC-MS functionality. This step uses the centroided and thresholded data produced by the mass detection step. This step is not required when importing native Bruker .tdf or .tsf data from .d folders. When importing native Bruker data, a merged spectrum for the frame is created automatically by the vendor library.","title":"Mobility scan merging"},{"location":"module_docs/featdet_ms2_scan_pairing/ms2_scan_pairing.html","text":"MS2 Scan Pairing \u00b6 Description Parameters settings \u00b6 :material-menu-open: Feature list methods \u2192 Processing \u2192 Assign MS2 to feature Retention time tolerance \u00b6 To-do MS1 to MS2 precursor tolerance (m/z) \u00b6 To-do Limit by RT edges \u00b6 To-do Combine MS/MS spectra (TIMS) \u00b6 To-do Lock to feature mobility range \u00b6 To-do Minimum merged intensity \u00b6 To-do","title":"MS2 scan paring"},{"location":"module_docs/featdet_ms2_scan_pairing/ms2_scan_pairing.html#ms2-scan-pairing","text":"Description","title":"MS2 Scan Pairing"},{"location":"module_docs/featdet_ms2_scan_pairing/ms2_scan_pairing.html#parameters-settings","text":":material-menu-open: Feature list methods \u2192 Processing \u2192 Assign MS2 to feature","title":"Parameters settings"},{"location":"module_docs/featdet_ms2_scan_pairing/ms2_scan_pairing.html#retention-time-tolerance","text":"To-do","title":"Retention time tolerance"},{"location":"module_docs/featdet_ms2_scan_pairing/ms2_scan_pairing.html#ms1-to-ms2-precursor-tolerance-mz","text":"To-do","title":"MS1 to MS2 precursor tolerance (m/z)"},{"location":"module_docs/featdet_ms2_scan_pairing/ms2_scan_pairing.html#limit-by-rt-edges","text":"To-do","title":"Limit by RT edges"},{"location":"module_docs/featdet_ms2_scan_pairing/ms2_scan_pairing.html#combine-msms-spectra-tims","text":"To-do","title":"Combine MS/MS spectra (TIMS)"},{"location":"module_docs/featdet_ms2_scan_pairing/ms2_scan_pairing.html#lock-to-feature-mobility-range","text":"To-do","title":"Lock to feature mobility range"},{"location":"module_docs/featdet_ms2_scan_pairing/ms2_scan_pairing.html#minimum-merged-intensity","text":"To-do","title":"Minimum merged intensity"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html","text":"Local Minimum Resolver \u00b6 During the EICs building, overalpping and partially co-eluting peaks are retained as single features in the faeture list (see, for example, ADAP chromatogram builder ). The local minimum resolver module aims at splitting such \"shoulder\" LC peaks into individual features ( i.e. chromatographic deconvolution ) based on local minima. In fact, a local minimum in the EIC trace might correspond to the valley between two adjacent, partially-resolved peaks. The algorithm examines all the data points in the EIC trace starting from the earliest RT. A scan window is set (see Minimum search range RT/Mobility parameter) and centred around the examined data point. A data point is considered a local minimum if it is the lowest intense point within the scan window. Moreover, it has to be X times lower than the highest point in the window (see Min ratio of peak top/edge parameter). When a local minumum is found, a set of user-defined intensity and peak duration requirements is checked. If they are fulfilled, the original overlapping peaks are split into new, distinct features. With the implementation of IM support in MZmine 3, this module was expanded and can now be applied to both the RT and IM dimension (see Resolving the ion mobility dimension ). :octicons-light-bulb-16: Tip . The LMR is particularly suitable for LC-MS data with little noise and nice peak shapes. Parameters settings \u00b6 :material-menu-open: Feature detection \u2192 Chromatogram resolving \u2192 Local minimum resolver Suffix \u00b6 String added as suffix when creating the corresponding feature list. Original feature list \u00b6 Keep or remove the processed feature list(s). MS/MS scan pairing \u00b6 Pair MS/MS fragmentation spectra collected in DDA mode to the resolved features. This is optional at this stage as the same can be done with a separate module . See MS2 scan pairing documentation for more details. Dimension \u00b6 Dimension to be resolved. Select Retention time or Mobility to run the module over the RT or ion mobility dimension, respectively. Chromatographic threshold \u00b6 Percentage of data points in the EIC removed before local minima search. The algorithm finds the intensity value (threshold) such that the specified percentage of EIC's data points are below the threshold. All such data points are removed. For example, a Chromatographic threshold = 50% will discard the lowest-intense 50% data points. This represents an important filter for noisy chromatogram and significantly reduces the precessing time. :octicons-alert-16: Since the algorithms examines the EICs throughout the entire RT range ( i.e. also the zero data points are considered), we recommend to set this value rather high ( e.g. 95%) and lower it only if necessary. :octicons-alert-16: ION MOBILITY 80% Minimum search range RT/Mobility (absolute) \u00b6 Size of the moving window examined for local minima search. Overly low values can cause peak edges to be cut off. On the other hand, too high might lead to incomplete separation of narrowly eluting compounds. Minimum relative height \u00b6 Minimum relative intensity (respect to the highest data point in the EIC) a peak need to reach to be retained as a feature. Overly high thresholds may lead tolow-intensity features being discarded. :octicons-light-bulb-16: Tip . Modern HRMS instruments can show linear dynamic ranges op to five orders of magnitude. If we take an Orbitrap device with a detector saturation level around 1.0E10 intensity, a Minimum relative height = 0.001 would correspond to 1.0E5. Minimum absolute height \u00b6 Minimum absolute intensity a peak needs to reach to be retained as a feature. This parameter depends on what you want to detect, the instrument and detector type. Usually, Orbitrap instruments report higher intensities than TOF instruments. However, the noise level is also higher for Orbitrap than for TOF instruments. For TOF instruments 1E3 or even 5E2 can be appropriate, whilst Orbitraps can require 1E5 or 5E4. :octicons-light-bulb-16: Tip . The same value used as Min highest intensity in the EICs building step ( e.g. ADAP chromatogram builder can normally be used here. Min ratio of peak top/edge : Describes the minimum ratio between the highest and lowest point of a peak. This mostly affects detection of low intensity and not-baseline-resolved signals and should be optimised using such a signal as an example. :octicons-light-bulb-16: Tip . We recommend values between 1.7 (not baseline separated) and 2 to start the optimisation. Peak durantion range (min/mobility) : Describes valid peak lengths. Can be used to filter out very short or long noise signals. Min # of data points : Can be used in addition to Peak duration range to filter out noise. Should be set no lower than 5 in most cases. Show preview : To-do Example \u00b6 Optimal algorithm settings [1] can lead to recognition of all good features in a \"good\" EICs [2] and to few noise recognised as feature in EIC that also contains chromatographic noise [3]. On the other hand, poorly set parameters [4] will likely recognize all features in a good EIC [5], but also retain a lot of noise as feature in a noisy EIC [6]. Therefore, we recommend optimising the parameters on good EICs and checking the results of these parameters with a noisy EIC. Most of the time, a noisy EIC can be found by sorting the feature table by decreasing area. Resolving the ion mobility dimension \u00b6 To-finish In general, the same principles apply as in the retention time resolving step. However, a few differences shall be noted. In the screenshot you can also see, that the resolved mobilograms are recalculated from the raw data and previously apply smoothing steps are therefore lost and must be reapplied if necessary. Dimension \u00b6 Mobility has to be selected as a dimension to resolve mobilograms [1]. Chromatographic threshold \u00b6 Since there are less scans in mobility dimension (e.g., 400 - >1000 per frame, depending on the instrument type and setting) than in rt dimension (e.g. 5000 for LC-MS depending on acquisition rate), the threshold should be lowered to 80 or less. Search minimum range \u00b6 This value determines the search range in mobility dimension. Therefore, this value has to be set lower when resolving a TIMS (Bruker data) mobilogram, because the absolute numerical values are smaller (e.g., 0.01). When resolving mobilograms from Waters or Agilent data (mobility as drift time in ms), the values are higher and must therefore be increased. Other parameters such as minimum intensities or minimum number of data points should be adjusted depending on what you want to detect.","title":"Resolving"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#local-minimum-resolver","text":"During the EICs building, overalpping and partially co-eluting peaks are retained as single features in the faeture list (see, for example, ADAP chromatogram builder ). The local minimum resolver module aims at splitting such \"shoulder\" LC peaks into individual features ( i.e. chromatographic deconvolution ) based on local minima. In fact, a local minimum in the EIC trace might correspond to the valley between two adjacent, partially-resolved peaks. The algorithm examines all the data points in the EIC trace starting from the earliest RT. A scan window is set (see Minimum search range RT/Mobility parameter) and centred around the examined data point. A data point is considered a local minimum if it is the lowest intense point within the scan window. Moreover, it has to be X times lower than the highest point in the window (see Min ratio of peak top/edge parameter). When a local minumum is found, a set of user-defined intensity and peak duration requirements is checked. If they are fulfilled, the original overlapping peaks are split into new, distinct features. With the implementation of IM support in MZmine 3, this module was expanded and can now be applied to both the RT and IM dimension (see Resolving the ion mobility dimension ). :octicons-light-bulb-16: Tip . The LMR is particularly suitable for LC-MS data with little noise and nice peak shapes.","title":"Local Minimum Resolver"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#parameters-settings","text":":material-menu-open: Feature detection \u2192 Chromatogram resolving \u2192 Local minimum resolver","title":"Parameters settings"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#suffix","text":"String added as suffix when creating the corresponding feature list.","title":"Suffix"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#original-feature-list","text":"Keep or remove the processed feature list(s).","title":"Original feature list"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#msms-scan-pairing","text":"Pair MS/MS fragmentation spectra collected in DDA mode to the resolved features. This is optional at this stage as the same can be done with a separate module . See MS2 scan pairing documentation for more details.","title":"MS/MS scan pairing"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#dimension","text":"Dimension to be resolved. Select Retention time or Mobility to run the module over the RT or ion mobility dimension, respectively.","title":"Dimension"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#chromatographic-threshold","text":"Percentage of data points in the EIC removed before local minima search. The algorithm finds the intensity value (threshold) such that the specified percentage of EIC's data points are below the threshold. All such data points are removed. For example, a Chromatographic threshold = 50% will discard the lowest-intense 50% data points. This represents an important filter for noisy chromatogram and significantly reduces the precessing time. :octicons-alert-16: Since the algorithms examines the EICs throughout the entire RT range ( i.e. also the zero data points are considered), we recommend to set this value rather high ( e.g. 95%) and lower it only if necessary. :octicons-alert-16: ION MOBILITY 80%","title":"Chromatographic threshold"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#minimum-search-range-rtmobility-absolute","text":"Size of the moving window examined for local minima search. Overly low values can cause peak edges to be cut off. On the other hand, too high might lead to incomplete separation of narrowly eluting compounds.","title":"Minimum search range RT/Mobility (absolute)"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#minimum-relative-height","text":"Minimum relative intensity (respect to the highest data point in the EIC) a peak need to reach to be retained as a feature. Overly high thresholds may lead tolow-intensity features being discarded. :octicons-light-bulb-16: Tip . Modern HRMS instruments can show linear dynamic ranges op to five orders of magnitude. If we take an Orbitrap device with a detector saturation level around 1.0E10 intensity, a Minimum relative height = 0.001 would correspond to 1.0E5.","title":"Minimum relative height"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#minimum-absolute-height","text":"Minimum absolute intensity a peak needs to reach to be retained as a feature. This parameter depends on what you want to detect, the instrument and detector type. Usually, Orbitrap instruments report higher intensities than TOF instruments. However, the noise level is also higher for Orbitrap than for TOF instruments. For TOF instruments 1E3 or even 5E2 can be appropriate, whilst Orbitraps can require 1E5 or 5E4. :octicons-light-bulb-16: Tip . The same value used as Min highest intensity in the EICs building step ( e.g. ADAP chromatogram builder can normally be used here. Min ratio of peak top/edge : Describes the minimum ratio between the highest and lowest point of a peak. This mostly affects detection of low intensity and not-baseline-resolved signals and should be optimised using such a signal as an example. :octicons-light-bulb-16: Tip . We recommend values between 1.7 (not baseline separated) and 2 to start the optimisation. Peak durantion range (min/mobility) : Describes valid peak lengths. Can be used to filter out very short or long noise signals. Min # of data points : Can be used in addition to Peak duration range to filter out noise. Should be set no lower than 5 in most cases. Show preview : To-do","title":"Minimum absolute height"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#example","text":"Optimal algorithm settings [1] can lead to recognition of all good features in a \"good\" EICs [2] and to few noise recognised as feature in EIC that also contains chromatographic noise [3]. On the other hand, poorly set parameters [4] will likely recognize all features in a good EIC [5], but also retain a lot of noise as feature in a noisy EIC [6]. Therefore, we recommend optimising the parameters on good EICs and checking the results of these parameters with a noisy EIC. Most of the time, a noisy EIC can be found by sorting the feature table by decreasing area.","title":"Example"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#resolving-the-ion-mobility-dimension","text":"To-finish In general, the same principles apply as in the retention time resolving step. However, a few differences shall be noted. In the screenshot you can also see, that the resolved mobilograms are recalculated from the raw data and previously apply smoothing steps are therefore lost and must be reapplied if necessary.","title":"Resolving the ion mobility dimension"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#dimension_1","text":"Mobility has to be selected as a dimension to resolve mobilograms [1].","title":"Dimension"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#chromatographic-threshold_1","text":"Since there are less scans in mobility dimension (e.g., 400 - >1000 per frame, depending on the instrument type and setting) than in rt dimension (e.g. 5000 for LC-MS depending on acquisition rate), the threshold should be lowered to 80 or less.","title":"Chromatographic threshold"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#search-minimum-range","text":"This value determines the search range in mobility dimension. Therefore, this value has to be set lower when resolving a TIMS (Bruker data) mobilogram, because the absolute numerical values are smaller (e.g., 0.01). When resolving mobilograms from Waters or Agilent data (mobility as drift time in ms), the values are higher and must therefore be increased. Other parameters such as minimum intensities or minimum number of data points should be adjusted depending on what you want to detect.","title":"Search minimum range"},{"location":"module_docs/featdet_smoothing/smoothing.html","text":"Smoothing \u00b6 Retention time dimension \u00b6 Smoothing chromatograms is optional. The necessity of smoothing in RT dimension is determined by the noisiness of chromatographic peaks. These can be influenced by the overall spray stability, instrument accumulation times, transfer efficiency and many more. The number of data points to be smoothed in rt dimension can be set at [1]. Note that the correct preview dimension is selected at [2]. For large batch modes, the Remove original feature list parameter should be selected. While parameters are being optimised, this is not recommended, because removing a feature list cannot be undone. Mobility dimension \u00b6 After resolving a feature in RT dimension, the mobilograms will be recalculated from the raw data (the resolved ion mobility trace). Therefore, a smoothing step is necessary if the data requires it. The smoothing dialog is opened via Feature detection \u2192 Smoothing Select to smooth the mobility dimension [1] and select it as preview dimension [2]. The filter with depends on the number of spectra acquired in the observed mobility range. Usually, a value between 5 and 15 should be appropriate.","title":"Smoothing"},{"location":"module_docs/featdet_smoothing/smoothing.html#smoothing","text":"","title":"Smoothing"},{"location":"module_docs/featdet_smoothing/smoothing.html#retention-time-dimension","text":"Smoothing chromatograms is optional. The necessity of smoothing in RT dimension is determined by the noisiness of chromatographic peaks. These can be influenced by the overall spray stability, instrument accumulation times, transfer efficiency and many more. The number of data points to be smoothed in rt dimension can be set at [1]. Note that the correct preview dimension is selected at [2]. For large batch modes, the Remove original feature list parameter should be selected. While parameters are being optimised, this is not recommended, because removing a feature list cannot be undone.","title":"Retention time dimension"},{"location":"module_docs/featdet_smoothing/smoothing.html#mobility-dimension","text":"After resolving a feature in RT dimension, the mobilograms will be recalculated from the raw data (the resolved ion mobility trace). Therefore, a smoothing step is necessary if the data requires it. The smoothing dialog is opened via Feature detection \u2192 Smoothing Select to smooth the mobility dimension [1] and select it as preview dimension [2]. The filter with depends on the number of spectra acquired in the observed mobility range. Usually, a value between 5 and 15 should be appropriate.","title":"Mobility dimension"},{"location":"module_docs/filter_isotope_filter/isotope_filter.html","text":"13 C isotope filter (Isotope grouper) \u00b6 The 13 C isotope filter is found under Feature list methods \u2192 Isotopes \u2192 13 isotope filter (formerly: isotope grouper). Parameters \u00b6 Name suffix \u00b6 Suffix to be added to feature list name. m/z tolerance \u00b6 Maximum allowed difference between two features' m/z values in order for them to be considered the same. The value is specified both as absolute tolerance (in m/z) and relative tolerance (in ppm). The tolerance range is calculated using maximum of the absolute and relative tolerances. Retention time tolerance \u00b6 Maximum allowed difference between the retention time values of two features that will taken into account when performing the 13 isotope filtering . Mobility tolerance \u00b6 If enabled(and mobility dimension was recorded), isotopic peaks will only be grouped if they fit the given tolerance. Monotonic shape \u00b6 If true, then monotonically decreasing height of isotope pattern is required.This is usually the case for 13 C isotope pattern of small molecules. Maximum charge \u00b6 Maximum charge to consider for detecting the isotope patterns. The charge state with the maximum number of detected isotope features will be used. Never remove feature with MS2 \u00b6 If checked, all features with MS2 are retained without applying any further filters on them. Original feature lists \u00b6 The input feature list can either be kept, removed, or directly filtered (PROCESS IN PLACE). This allows for more control over memory usage. Where available, in place processing is the most performant.","title":"13C isotope filter (isotope grouper)"},{"location":"module_docs/filter_isotope_filter/isotope_filter.html#13c-isotope-filter-isotope-grouper","text":"The 13 C isotope filter is found under Feature list methods \u2192 Isotopes \u2192 13 isotope filter (formerly: isotope grouper).","title":"13C isotope filter (Isotope grouper)"},{"location":"module_docs/filter_isotope_filter/isotope_filter.html#parameters","text":"","title":"Parameters"},{"location":"module_docs/filter_isotope_filter/isotope_filter.html#name-suffix","text":"Suffix to be added to feature list name.","title":"Name suffix"},{"location":"module_docs/filter_isotope_filter/isotope_filter.html#mz-tolerance","text":"Maximum allowed difference between two features' m/z values in order for them to be considered the same. The value is specified both as absolute tolerance (in m/z) and relative tolerance (in ppm). The tolerance range is calculated using maximum of the absolute and relative tolerances.","title":"m/z tolerance"},{"location":"module_docs/filter_isotope_filter/isotope_filter.html#retention-time-tolerance","text":"Maximum allowed difference between the retention time values of two features that will taken into account when performing the 13 isotope filtering .","title":"Retention time tolerance"},{"location":"module_docs/filter_isotope_filter/isotope_filter.html#mobility-tolerance","text":"If enabled(and mobility dimension was recorded), isotopic peaks will only be grouped if they fit the given tolerance.","title":"Mobility tolerance"},{"location":"module_docs/filter_isotope_filter/isotope_filter.html#monotonic-shape","text":"If true, then monotonically decreasing height of isotope pattern is required.This is usually the case for 13 C isotope pattern of small molecules.","title":"Monotonic shape"},{"location":"module_docs/filter_isotope_filter/isotope_filter.html#maximum-charge","text":"Maximum charge to consider for detecting the isotope patterns. The charge state with the maximum number of detected isotope features will be used.","title":"Maximum charge"},{"location":"module_docs/filter_isotope_filter/isotope_filter.html#never-remove-feature-with-ms2","text":"If checked, all features with MS2 are retained without applying any further filters on them.","title":"Never remove feature with MS2"},{"location":"module_docs/filter_isotope_filter/isotope_filter.html#original-feature-lists","text":"The input feature list can either be kept, removed, or directly filtered (PROCESS IN PLACE). This allows for more control over memory usage. Where available, in place processing is the most performant.","title":"Original feature lists"},{"location":"module_docs/filter_isotope_finder/isotope_finder.html","text":"Isotope pattern finder \u00b6 The Isotope pattern finder is found under Feature list methods \u2192 Isotopes \u2192 Isotope pattern finder. The module searches isotope patterns for each feature in selected feature lists by going back to the mass spectra. Starting from the feature m/z the algorithm will first backtrack any possible preceding isotope signals using a list of delta masses created from elements, their stable isotopes, and an m/z tolerance. For example, a -2 signal might be detected when searching for Br isotopes. In a second step, all picked potential isotope m/z values are used to search next isotope (with higher m/z). This is done for each cahrge state. I Parameters \u00b6 Chemical elements \u00b6 All stable isotopes of the chosen elements are used to create a list of mass differences to search. Signals with this mass difference (m/z difference with different charge states) are then considered as potential isotope signals. m/z tolerance \u00b6 Maximum allowed difference between two features' m/z values in order for them to be considered the same. The value is specified both as absolute tolerance (in m/z) and relative tolerance (in ppm). The tolerance range is calculated using maximum of the absolute and relative tolerances. Maximum charge of isotope m/z \u00b6 Maximum possible charge of isotope m/z distributions. All present m/z values obtained by dividing isotope masses with 1,2 ...,maxCharge values will be considered. The default value is 1, but insert an integer greater than 1 if you want to consider ions of higher charge states. Search in scans \u00b6 Currently, the supported option is \"Single most intense\", which means the search for isotopes will happen in the single most intense MS scan of each feature.","title":"Isotope pattern finder"},{"location":"module_docs/filter_isotope_finder/isotope_finder.html#isotope-pattern-finder","text":"The Isotope pattern finder is found under Feature list methods \u2192 Isotopes \u2192 Isotope pattern finder. The module searches isotope patterns for each feature in selected feature lists by going back to the mass spectra. Starting from the feature m/z the algorithm will first backtrack any possible preceding isotope signals using a list of delta masses created from elements, their stable isotopes, and an m/z tolerance. For example, a -2 signal might be detected when searching for Br isotopes. In a second step, all picked potential isotope m/z values are used to search next isotope (with higher m/z). This is done for each cahrge state. I","title":"Isotope pattern finder"},{"location":"module_docs/filter_isotope_finder/isotope_finder.html#parameters","text":"","title":"Parameters"},{"location":"module_docs/filter_isotope_finder/isotope_finder.html#chemical-elements","text":"All stable isotopes of the chosen elements are used to create a list of mass differences to search. Signals with this mass difference (m/z difference with different charge states) are then considered as potential isotope signals.","title":"Chemical elements"},{"location":"module_docs/filter_isotope_finder/isotope_finder.html#mz-tolerance","text":"Maximum allowed difference between two features' m/z values in order for them to be considered the same. The value is specified both as absolute tolerance (in m/z) and relative tolerance (in ppm). The tolerance range is calculated using maximum of the absolute and relative tolerances.","title":"m/z tolerance"},{"location":"module_docs/filter_isotope_finder/isotope_finder.html#maximum-charge-of-isotope-mz","text":"Maximum possible charge of isotope m/z distributions. All present m/z values obtained by dividing isotope masses with 1,2 ...,maxCharge values will be considered. The default value is 1, but insert an integer greater than 1 if you want to consider ions of higher charge states.","title":"Maximum charge of isotope m/z"},{"location":"module_docs/filter_isotope_finder/isotope_finder.html#search-in-scans","text":"Currently, the supported option is \"Single most intense\", which means the search for isotopes will happen in the single most intense MS scan of each feature.","title":"Search in scans"},{"location":"module_docs/gapfill_peak_finder/gap-filling.html","text":"Gap-filling \u00b6 Some chromatographic peaks may not be detected in every sample for several reason: - Reason 1 - Reason 2 - Reason 3 This causes undesirable gaps (missing values) in the aligned feature table. To tackle this issue, a value for the peak needs to be imputed A simple gap-filling approach is to integrate the area where the peak is expected but not detected These areas usually correspond to spectral noise By doing so, no bias is introduced The gap-filled feature table can now be used in downstream data analysis","title":"Gap filling (Peak finder)"},{"location":"module_docs/gapfill_peak_finder/gap-filling.html#gap-filling","text":"Some chromatographic peaks may not be detected in every sample for several reason: - Reason 1 - Reason 2 - Reason 3 This causes undesirable gaps (missing values) in the aligned feature table. To tackle this issue, a value for the peak needs to be imputed A simple gap-filling approach is to integrate the area where the peak is expected but not detected These areas usually correspond to spectral noise By doing so, no bias is introduced The gap-filled feature table can now be used in downstream data analysis","title":"Gap-filling"},{"location":"module_docs/id_ccs_calibration/ccs_calibration.html","text":"CCS Calibration and calculation \u00b6 Accurate determination of CCS values requires a valid CCS calibration and molecule charge states to be detected. timsTOF raw data can be recalibrated using data analysis and imported in MZmine. The recalibrated data will be used by default. (see Calculating CCS values ) mzML raw data requires the determination of a calibration function from the raw data (e.g. as detected features) or as import from an external file. (see Creating or importing a CCS calibration ) Creating or importing a CCS calibration \u00b6 Importing a CCS calibration \u00b6 Agilent calibration data can be imported from the \"OverrideImsCal.xml\" file in the Agilent raw data folder. Waters calibration data can be imported from the \"mob_cal.csv\" file in the Waters raw data folder. The \"_extern.inf\" file is also required, but will be read automatically when the \"mob_cal.csv\" is selected. The calibration import is accessed via Feature list methods -> Processing -> External CCS Calibration . Then select the calibration \"OverrideImsCal.xml\"/\"mob_cal.csv\" from the raw data folder, and select the raw data files the calibration should be applied to. Reference CSS calibration \u00b6 If a mobility calibrant is infused during an HPLC run of every sample, a CCS calibration can be calculated on a per-raw file basis. (Common procedure on Bruker devices) Otherwise, a single run can be used to calibrate multiple files. Please note that this is currently only supported for TIMS and DTIMS data. The calibration module can be accessed via Feature list methods -> Processing -> Internal reference calibration . Set to additional raw files If a calibration calculated from a single feature list shall be applied to multiple other raw files, the raw files can be selected here. This requires only a single raw file to be selected. Feature list (with reference compounds) Specifies (a) feature list(s) that contains the reference compounds. If multiple feature lists are selected, every feature list will be searched for reference compounds, and the calibration will be used for the raw data files in the particular feature list. This means that no raw data file may be selected. (Cannot set multiple calibrations to a single raw file.) If a single feature list is selected, the calibration may be applied to additional raw data files via the Set to additional raw files parameter. Reference list Specifies a \".csv\" reference list of for CCS calibrant ions. Must contain the columns \" mz\", \"mobility\", \"ccs\", \"charge\". Columns must be separated by \";\". The ion mode may be specified via the charge of the ion, e.g., as 1 or -1. Only the correct polarity will be used to calculate the calibration. m/z tolerance The m/z tolerance for the reference compounds. Mobility tolerance the mobiltiy tolerance to detect the reference compounds. Calibration segment RT Range Specifies the rt range that shall be searched for calibrant ions. Usually either the beginning or end of a HPLC run. Minimum height A minimum intensity for reference compounds to be used as calibrant signals for determination of the calibration. Calculating CCS values \u00b6 After a calibration as been set (Agilent/Waters/Bruker mzML) (Bruker tdf works out-of-the-box) CCS values can be calculated via Feature list methods -> Processing -> Calculate CCS values . Here, a default charge state may be set, in case it could not be determined. Otherwise, the charge state determined via the isotope pattern will be used.","title":"CCS calibration"},{"location":"module_docs/id_ccs_calibration/ccs_calibration.html#ccs-calibration-and-calculation","text":"Accurate determination of CCS values requires a valid CCS calibration and molecule charge states to be detected. timsTOF raw data can be recalibrated using data analysis and imported in MZmine. The recalibrated data will be used by default. (see Calculating CCS values ) mzML raw data requires the determination of a calibration function from the raw data (e.g. as detected features) or as import from an external file. (see Creating or importing a CCS calibration )","title":"CCS Calibration and calculation"},{"location":"module_docs/id_ccs_calibration/ccs_calibration.html#creating-or-importing-a-ccs-calibration","text":"","title":"Creating or importing a CCS calibration"},{"location":"module_docs/id_ccs_calibration/ccs_calibration.html#importing-a-ccs-calibration","text":"Agilent calibration data can be imported from the \"OverrideImsCal.xml\" file in the Agilent raw data folder. Waters calibration data can be imported from the \"mob_cal.csv\" file in the Waters raw data folder. The \"_extern.inf\" file is also required, but will be read automatically when the \"mob_cal.csv\" is selected. The calibration import is accessed via Feature list methods -> Processing -> External CCS Calibration . Then select the calibration \"OverrideImsCal.xml\"/\"mob_cal.csv\" from the raw data folder, and select the raw data files the calibration should be applied to.","title":"Importing a CCS calibration"},{"location":"module_docs/id_ccs_calibration/ccs_calibration.html#reference-css-calibration","text":"If a mobility calibrant is infused during an HPLC run of every sample, a CCS calibration can be calculated on a per-raw file basis. (Common procedure on Bruker devices) Otherwise, a single run can be used to calibrate multiple files. Please note that this is currently only supported for TIMS and DTIMS data. The calibration module can be accessed via Feature list methods -> Processing -> Internal reference calibration . Set to additional raw files If a calibration calculated from a single feature list shall be applied to multiple other raw files, the raw files can be selected here. This requires only a single raw file to be selected. Feature list (with reference compounds) Specifies (a) feature list(s) that contains the reference compounds. If multiple feature lists are selected, every feature list will be searched for reference compounds, and the calibration will be used for the raw data files in the particular feature list. This means that no raw data file may be selected. (Cannot set multiple calibrations to a single raw file.) If a single feature list is selected, the calibration may be applied to additional raw data files via the Set to additional raw files parameter. Reference list Specifies a \".csv\" reference list of for CCS calibrant ions. Must contain the columns \" mz\", \"mobility\", \"ccs\", \"charge\". Columns must be separated by \";\". The ion mode may be specified via the charge of the ion, e.g., as 1 or -1. Only the correct polarity will be used to calculate the calibration. m/z tolerance The m/z tolerance for the reference compounds. Mobility tolerance the mobiltiy tolerance to detect the reference compounds. Calibration segment RT Range Specifies the rt range that shall be searched for calibrant ions. Usually either the beginning or end of a HPLC run. Minimum height A minimum intensity for reference compounds to be used as calibrant signals for determination of the calibration.","title":"Reference CSS calibration"},{"location":"module_docs/id_ccs_calibration/ccs_calibration.html#calculating-ccs-values","text":"After a calibration as been set (Agilent/Waters/Bruker mzML) (Bruker tdf works out-of-the-box) CCS values can be calculated via Feature list methods -> Processing -> Calculate CCS values . Here, a default charge state may be set, in case it could not be determined. Otherwise, the charge state determined via the isotope pattern will be used.","title":"Calculating CCS values"},{"location":"module_docs/io/raw_data_import/data-import.html","text":"Data import \u00b6 LC-MS data \u00b6 Raw data can be imported via the main menu Raw data methods \u2192 Raw data import . Note that multiple data files/folders can be dropped into the MS data (advanced) dialog. If individual modules are used, folder based formats can only imported as one folder at a time. When using the MS data (advanced) dialog, inexperienced users should deactivate the direct mass detection steps, since they alter the raw data on the import. Mass detection is then performed, when the scans are loaded and only peaks above the noise level are imported. Alternatively, you can simply drag & drop the raw data into the raw data list of the main window. LC-IMS-MS data \u00b6 As any other data format, ion mobility data can be imported via the main menu Raw data methods \u2192 Raw data import . Note that multiple .tdf data folders can be dropped into the MS data (advanced) dialog. The Bruker TDF import can only select a single folder. When using the MS data (advanced) dialog, inexperienced users should deactivate the direct mass detection steps, since they alter the raw data on the import. Mass detection is then performend, when the scans are loaded and only peaks above the noise level are imported. Alternatively, you can simply drag & drop the raw data into the raw data list of the main window.","title":"Data import"},{"location":"module_docs/io/raw_data_import/data-import.html#data-import","text":"","title":"Data import"},{"location":"module_docs/io/raw_data_import/data-import.html#lc-ms-data","text":"Raw data can be imported via the main menu Raw data methods \u2192 Raw data import . Note that multiple data files/folders can be dropped into the MS data (advanced) dialog. If individual modules are used, folder based formats can only imported as one folder at a time. When using the MS data (advanced) dialog, inexperienced users should deactivate the direct mass detection steps, since they alter the raw data on the import. Mass detection is then performed, when the scans are loaded and only peaks above the noise level are imported. Alternatively, you can simply drag & drop the raw data into the raw data list of the main window.","title":"LC-MS data"},{"location":"module_docs/io/raw_data_import/data-import.html#lc-ims-ms-data","text":"As any other data format, ion mobility data can be imported via the main menu Raw data methods \u2192 Raw data import . Note that multiple .tdf data folders can be dropped into the MS data (advanced) dialog. The Bruker TDF import can only select a single folder. When using the MS data (advanced) dialog, inexperienced users should deactivate the direct mass detection steps, since they alter the raw data on the import. Mass detection is then performend, when the scans are loaded and only peaks above the noise level are imported. Alternatively, you can simply drag & drop the raw data into the raw data list of the main window.","title":"LC-IMS-MS data"},{"location":"terminology/general-terminology.html","text":"General terminology \u00b6 MS \u00b6 Precursor and fragment ions \u00b6 The precuror ion (a.k.a. \"parent ion\") is the ion that dissociates to a smaller fragment ions in a MS/MS experiment. A fragment ion (a.k.a. \"daughter ion\" or \"product ion\") is the charged product of an ion dissociation. A fragment ion may be stable itself or may dissociate further to form other charged fragment ions and neutral species of successively lower mass. Accurate mass, exact mass and mass accuracy \u00b6 The accurate mass is the experimentally-determined mass of an ion measured with an high-resolution mass spectrometer. The exact mass is the calculated mass of an ion based on its elemental formula, isotopic composition and charge state. While the accurate mass is an experimentally-measured quantity, the exact mass is a theoretically-calculated quantity. The mass accuracy is defined as the difference between the measured value (accurate mass) and the true value (exact mass). It can be expressed either in absolute (mDa) or relative (ppm) terms. Monoisotopic mass \u00b6 Exact mass of an ion calculated using the mass of the lightest isotope of each element. Mass resolution \u00b6 Todo. Often called/expressed as mass resolvin power Full scan acqusition mode \u00b6 Todo Data-dependent acqusition mode \u00b6 In data-dependent acquisition (DDA) schemes, the mass spectrometer detects 'suitable' precursor ions in each MS scan and selects them for fragmentation in consecutive MS2 scans. Todo:'Cycle time' and 'topN' acquisition schemes Data-independent acqusition mode \u00b6 Todo LC-MS \u00b6 Total ion current chromatogram \u00b6 The total ion current (TIC) chromatogram displays the summed signal intensity (y-axis) over the entire m/z range at any one retention time point (x-axis) in the LC-MS run. The following figure shows a TIC chromatogram of a 9-compounds mixture analysed on LC-MS system. Note . In complex samples, the TIC chromatogram often provides limited information as multiple analytes elute simultaneously, obscuring individual species. Base peak chromatogram \u00b6 The base peak chromatogram (BPC) displays the signal intensity of the most intense maass peak in the MS spectra at any one retention time point (x-axis) in the LC-MS run. The following figure shows the same data as above, visualized in BPI mode. Extracted ion chromatogram \u00b6 The extracted ion chromatogram (EIC) displays the signal intensity of a specific m/z value, within a defined tolerance (e.g. \u00b1 5 ppm), at any one retention time point in the LC-MS run. The following figure shows the EIC of m/z 455.2945 \u00b1 5 ppm (same sample as above). Chromatographic resolving \u00b6 Peak overlapping, or co-elution, is a common problem in any chromatographic separation technique. In the case of LC-MS (especially untargeted omics analysis), it is virtually impossible to obtain a full baseline separation for the hundreds (or thousands) of analytes eluted through the column. The split of partially-overlapping and shoulder peaks into indivual features is generally referred to as chromatographic resolving and is one of the most crucial steps of data processing. TO FINISH. MZmine-specific terminology \u00b6 Masses and Features \u00b6 In MS data processing, the term mass is normally used to refer to an individual signal in a mass spectrum, which corresponds to an ion detected by the mass spectrometer (see Mass detection ). In LC-MS, a feature is defined as a bounded, two-dimensional ( m/z and RT dimensions) signal characterized by a pair of m/z and RT values and associated with the detected signal intensity. In the case of LC-IM-MS data, a feature is also characterized by the ion mobility value recorded for the ion (see LC-MS and LC-IMS-MS data comparison . MZmine 3 provides a selection of different algorithms for LC-(IM)-MS feature detection, depending on the nature of the MS data ( e.g. mass accuracy and resolution). All the algorithms follow the same logic: EICs are constructed starting from each m/z value in the mass lists and subsequently deconvoluted into individual features (see figure). Further, additional information, such as isotope pattern, adduct type, etc. can be associated to the indivual features. Mass list \u00b6 In MZmine we call mass list the output of the mass detection module. A mass list is a list of m/z values (and corresponding signal intensities) found in each mass spectrum (MS or MSn) of each processed raw data file. Every mass spetrum contained in the raw file is processed indivudally and the signals exceeding the set noise threshold are included in the mass list. See Mass detection module. Feature list \u00b6 In MZmine, feature lists are the output of the feature detection process (see Masses and features ). The set of detected features in each LC-MS run is stored as a list, hence the name \"feature list\" (see, for example, ADAP chromatogram builder and Local mimimum resolver for more details). Multiple feature lists can undergo further processing ( e.g. feature alingment) which results in a table (often referred to as feature table ) where samples are arranged in columns, features in rows and each entry contains the signal intensity detected for the corresponding feature, in the corresponding sample. Intra and inter-scan tolerances \u00b6 To-do References \u00b6 Pluskal, T., Castillo, S., Villar-Briones, A. & Oresic, M. MZmine 2: Modular framework for processing, visualizing, and analyzing mass spectrometry-based molecular profile data. BMC Bioinformatics (2010). DOI: 10.1186/1471-2105-11-395 Pluskal, T. et al. Processing Metabolomics and Proteomics Data with Open Software: A Practical Guide, Chapter 7: Metabolomics Data Analysis Using MZmine (2020). DOI: 10.1039/9781788019880-00232 Smoluch M., Piechura K. Mass Spectrometry: An Applied Approach, Chapter 3: Basic Definitions (2019). DOI: 10.1002/9781119377368.ch3","title":"Gerneral Terminology"},{"location":"terminology/general-terminology.html#general-terminology","text":"","title":"General terminology"},{"location":"terminology/general-terminology.html#ms","text":"","title":"MS"},{"location":"terminology/general-terminology.html#precursor-and-fragment-ions","text":"The precuror ion (a.k.a. \"parent ion\") is the ion that dissociates to a smaller fragment ions in a MS/MS experiment. A fragment ion (a.k.a. \"daughter ion\" or \"product ion\") is the charged product of an ion dissociation. A fragment ion may be stable itself or may dissociate further to form other charged fragment ions and neutral species of successively lower mass.","title":"Precursor and fragment ions"},{"location":"terminology/general-terminology.html#accurate-mass-exact-mass-and-mass-accuracy","text":"The accurate mass is the experimentally-determined mass of an ion measured with an high-resolution mass spectrometer. The exact mass is the calculated mass of an ion based on its elemental formula, isotopic composition and charge state. While the accurate mass is an experimentally-measured quantity, the exact mass is a theoretically-calculated quantity. The mass accuracy is defined as the difference between the measured value (accurate mass) and the true value (exact mass). It can be expressed either in absolute (mDa) or relative (ppm) terms.","title":"Accurate mass, exact mass and mass accuracy"},{"location":"terminology/general-terminology.html#monoisotopic-mass","text":"Exact mass of an ion calculated using the mass of the lightest isotope of each element.","title":"Monoisotopic mass"},{"location":"terminology/general-terminology.html#mass-resolution","text":"Todo. Often called/expressed as mass resolvin power","title":"Mass resolution"},{"location":"terminology/general-terminology.html#full-scan-acqusition-mode","text":"Todo","title":"Full scan acqusition mode"},{"location":"terminology/general-terminology.html#data-dependent-acqusition-mode","text":"In data-dependent acquisition (DDA) schemes, the mass spectrometer detects 'suitable' precursor ions in each MS scan and selects them for fragmentation in consecutive MS2 scans. Todo:'Cycle time' and 'topN' acquisition schemes","title":"Data-dependent acqusition mode"},{"location":"terminology/general-terminology.html#data-independent-acqusition-mode","text":"Todo","title":"Data-independent acqusition mode"},{"location":"terminology/general-terminology.html#lc-ms","text":"","title":"LC-MS"},{"location":"terminology/general-terminology.html#total-ion-current-chromatogram","text":"The total ion current (TIC) chromatogram displays the summed signal intensity (y-axis) over the entire m/z range at any one retention time point (x-axis) in the LC-MS run. The following figure shows a TIC chromatogram of a 9-compounds mixture analysed on LC-MS system. Note . In complex samples, the TIC chromatogram often provides limited information as multiple analytes elute simultaneously, obscuring individual species.","title":"Total ion current chromatogram"},{"location":"terminology/general-terminology.html#base-peak-chromatogram","text":"The base peak chromatogram (BPC) displays the signal intensity of the most intense maass peak in the MS spectra at any one retention time point (x-axis) in the LC-MS run. The following figure shows the same data as above, visualized in BPI mode.","title":"Base peak chromatogram"},{"location":"terminology/general-terminology.html#extracted-ion-chromatogram","text":"The extracted ion chromatogram (EIC) displays the signal intensity of a specific m/z value, within a defined tolerance (e.g. \u00b1 5 ppm), at any one retention time point in the LC-MS run. The following figure shows the EIC of m/z 455.2945 \u00b1 5 ppm (same sample as above).","title":"Extracted ion chromatogram"},{"location":"terminology/general-terminology.html#chromatographic-resolving","text":"Peak overlapping, or co-elution, is a common problem in any chromatographic separation technique. In the case of LC-MS (especially untargeted omics analysis), it is virtually impossible to obtain a full baseline separation for the hundreds (or thousands) of analytes eluted through the column. The split of partially-overlapping and shoulder peaks into indivual features is generally referred to as chromatographic resolving and is one of the most crucial steps of data processing. TO FINISH.","title":"Chromatographic resolving"},{"location":"terminology/general-terminology.html#mzmine-specific-terminology","text":"","title":"MZmine-specific terminology"},{"location":"terminology/general-terminology.html#masses-and-features","text":"In MS data processing, the term mass is normally used to refer to an individual signal in a mass spectrum, which corresponds to an ion detected by the mass spectrometer (see Mass detection ). In LC-MS, a feature is defined as a bounded, two-dimensional ( m/z and RT dimensions) signal characterized by a pair of m/z and RT values and associated with the detected signal intensity. In the case of LC-IM-MS data, a feature is also characterized by the ion mobility value recorded for the ion (see LC-MS and LC-IMS-MS data comparison . MZmine 3 provides a selection of different algorithms for LC-(IM)-MS feature detection, depending on the nature of the MS data ( e.g. mass accuracy and resolution). All the algorithms follow the same logic: EICs are constructed starting from each m/z value in the mass lists and subsequently deconvoluted into individual features (see figure). Further, additional information, such as isotope pattern, adduct type, etc. can be associated to the indivual features.","title":"Masses and Features"},{"location":"terminology/general-terminology.html#mass-list","text":"In MZmine we call mass list the output of the mass detection module. A mass list is a list of m/z values (and corresponding signal intensities) found in each mass spectrum (MS or MSn) of each processed raw data file. Every mass spetrum contained in the raw file is processed indivudally and the signals exceeding the set noise threshold are included in the mass list. See Mass detection module.","title":"Mass list"},{"location":"terminology/general-terminology.html#feature-list","text":"In MZmine, feature lists are the output of the feature detection process (see Masses and features ). The set of detected features in each LC-MS run is stored as a list, hence the name \"feature list\" (see, for example, ADAP chromatogram builder and Local mimimum resolver for more details). Multiple feature lists can undergo further processing ( e.g. feature alingment) which results in a table (often referred to as feature table ) where samples are arranged in columns, features in rows and each entry contains the signal intensity detected for the corresponding feature, in the corresponding sample.","title":"Feature list"},{"location":"terminology/general-terminology.html#intra-and-inter-scan-tolerances","text":"To-do","title":"Intra and inter-scan tolerances"},{"location":"terminology/general-terminology.html#references","text":"Pluskal, T., Castillo, S., Villar-Briones, A. & Oresic, M. MZmine 2: Modular framework for processing, visualizing, and analyzing mass spectrometry-based molecular profile data. BMC Bioinformatics (2010). DOI: 10.1186/1471-2105-11-395 Pluskal, T. et al. Processing Metabolomics and Proteomics Data with Open Software: A Practical Guide, Chapter 7: Metabolomics Data Analysis Using MZmine (2020). DOI: 10.1039/9781788019880-00232 Smoluch M., Piechura K. Mass Spectrometry: An Applied Approach, Chapter 3: Basic Definitions (2019). DOI: 10.1002/9781119377368.ch3","title":"References"},{"location":"terminology/ion-mobility-terminology.html","text":"Ion mobility spectrometry terminology \u00b6 Background \u00b6 Ion-mobility mass-spectrometry, here simply referred to as ion-mobility (IM), is an analytical technique where ions are separated through a gas-filled mobility cell prior to the MS acquisition. Ions drift through the IM cell with different velocity based on their interaction with the buffer gas, which allows for the separation of different shaped molecules. Modern devieces are able to perform IM separation on a millisecond timescale, typically within 10 to 100 ms. Thus, IM nicely fits in-between LC separation (~seconds timescale) and MS detection of TOF instruments (~microseconds timescale). This allows LC-IM-MS insturments to acqurie several MS spectra during each accumulation , without incurring sensitivity loss. For example, assuming a typical 100 \u00b5s MS-acquisition time of TOF analyzers, around 1000 spectra can be recorded within 100 ms of IM separation. Therefore, as opposed to LC-MS, multiple MS (or MS2) spectra are associated to each RT in LC-IM-MS data. A more detailed explanation of LC-MS and LC-IMS-MS raw data structure is provided here . Trapped ion mobility spectrometry (TIMS) - Todo \u00b6 Trapped ion mobility spectrometry (TIMS) reverses the concept of traditional drift tube IM. Rather than moving ions through astationary gas, TIMS holds ions stationary against a moving gas and then releases them according to their mobility. Video: https://www.youtube.com/watch?v=cWjz32wky2A Time-dispersve ion mobility spectrometry (DTIMS and TWIMS) - Todo \u00b6 Time-dispersve IM devices include \"traditional\" drift tube (DTIMS) and travelling-wave (TWIMS) devices. In classic DTIM, ions migrate through aninert buffer gas under the influence of a weak electricfield, whereas collisions with buffer gas molecules retard theprogress of the ions. As larger ions have more collisions withthe gas, they are more strongly retarded than their smaller counterparts. Thus, smaller ions, having a smaller cross section, arrive earlier at the detector than ions with a larger collisional cross section (CCS). The ion mobility K is then defined as the ratio of the analyte's steady-state net drift velocity to the applied electric field, and it is convention toc alculate the reduced ion mobility K0 at standard pressur eand standard temperature, often reported as the inverse reduced ion mobility 1/K0. Terminology \u00b6 Accumulations, Mobility Scans and Frames \u00b6 Altough mainly used for TIMS, the term \" accumulation \" refers to the pack of ions gathered at the head of the IM device prior to the release and separation in the IM cell. As explained above , since the accumulation-separation cycle typically last ~100 ms, multiple MS spectra (referred to as \" mobility scans \" in MZmine) are acquired during each cycle. The set of mobility scans collected during each IM separation constitutes a \" frame \". A frame can be seen as the IM separation of a single accumulation , along which multiple MS spectra are collected. Several frames are contained within one LC peak. Thus, the frame number are a natural unit to measure chromatographic RT. See here for more details. --FIGURE HERE-- Mobilograms \u00b6 A \" mobilogram \" represents the intensity of an m/z or m/z range along the mobility axis. A mobilogram may be build from multiple frames and summed or built from a single frame. Ion mobility trace \u00b6 An \" ion mobility trace \" basically represents a mobility resolved extracted ion chromatogram (EIC). Cross Collisional Section \u00b6 IM-derived CCS values can be used as an additional molecular descriptor to support the compound unknown identification process.(Paglia et al. 2014) However, the number of acquired spectra per run increases from several thousand to several million, requiring memory-efficient software and new processing algorithms. References \u00b6 https://doi.org/10.1074/mcp.TIR118.000900","title":"IMS Terminology"},{"location":"terminology/ion-mobility-terminology.html#ion-mobility-spectrometry-terminology","text":"","title":"Ion mobility spectrometry terminology"},{"location":"terminology/ion-mobility-terminology.html#background","text":"Ion-mobility mass-spectrometry, here simply referred to as ion-mobility (IM), is an analytical technique where ions are separated through a gas-filled mobility cell prior to the MS acquisition. Ions drift through the IM cell with different velocity based on their interaction with the buffer gas, which allows for the separation of different shaped molecules. Modern devieces are able to perform IM separation on a millisecond timescale, typically within 10 to 100 ms. Thus, IM nicely fits in-between LC separation (~seconds timescale) and MS detection of TOF instruments (~microseconds timescale). This allows LC-IM-MS insturments to acqurie several MS spectra during each accumulation , without incurring sensitivity loss. For example, assuming a typical 100 \u00b5s MS-acquisition time of TOF analyzers, around 1000 spectra can be recorded within 100 ms of IM separation. Therefore, as opposed to LC-MS, multiple MS (or MS2) spectra are associated to each RT in LC-IM-MS data. A more detailed explanation of LC-MS and LC-IMS-MS raw data structure is provided here .","title":"Background"},{"location":"terminology/ion-mobility-terminology.html#trapped-ion-mobility-spectrometry-tims-todo","text":"Trapped ion mobility spectrometry (TIMS) reverses the concept of traditional drift tube IM. Rather than moving ions through astationary gas, TIMS holds ions stationary against a moving gas and then releases them according to their mobility. Video: https://www.youtube.com/watch?v=cWjz32wky2A","title":"Trapped ion mobility spectrometry (TIMS) - Todo"},{"location":"terminology/ion-mobility-terminology.html#time-dispersve-ion-mobility-spectrometry-dtims-and-twims-todo","text":"Time-dispersve IM devices include \"traditional\" drift tube (DTIMS) and travelling-wave (TWIMS) devices. In classic DTIM, ions migrate through aninert buffer gas under the influence of a weak electricfield, whereas collisions with buffer gas molecules retard theprogress of the ions. As larger ions have more collisions withthe gas, they are more strongly retarded than their smaller counterparts. Thus, smaller ions, having a smaller cross section, arrive earlier at the detector than ions with a larger collisional cross section (CCS). The ion mobility K is then defined as the ratio of the analyte's steady-state net drift velocity to the applied electric field, and it is convention toc alculate the reduced ion mobility K0 at standard pressur eand standard temperature, often reported as the inverse reduced ion mobility 1/K0.","title":"Time-dispersve ion mobility spectrometry (DTIMS and TWIMS) - Todo"},{"location":"terminology/ion-mobility-terminology.html#terminology","text":"","title":"Terminology"},{"location":"terminology/ion-mobility-terminology.html#accumulations-mobility-scans-and-frames","text":"Altough mainly used for TIMS, the term \" accumulation \" refers to the pack of ions gathered at the head of the IM device prior to the release and separation in the IM cell. As explained above , since the accumulation-separation cycle typically last ~100 ms, multiple MS spectra (referred to as \" mobility scans \" in MZmine) are acquired during each cycle. The set of mobility scans collected during each IM separation constitutes a \" frame \". A frame can be seen as the IM separation of a single accumulation , along which multiple MS spectra are collected. Several frames are contained within one LC peak. Thus, the frame number are a natural unit to measure chromatographic RT. See here for more details. --FIGURE HERE--","title":"Accumulations, Mobility Scans and Frames"},{"location":"terminology/ion-mobility-terminology.html#mobilograms","text":"A \" mobilogram \" represents the intensity of an m/z or m/z range along the mobility axis. A mobilogram may be build from multiple frames and summed or built from a single frame.","title":"Mobilograms"},{"location":"terminology/ion-mobility-terminology.html#ion-mobility-trace","text":"An \" ion mobility trace \" basically represents a mobility resolved extracted ion chromatogram (EIC).","title":"Ion mobility trace"},{"location":"terminology/ion-mobility-terminology.html#cross-collisional-section","text":"IM-derived CCS values can be used as an additional molecular descriptor to support the compound unknown identification process.(Paglia et al. 2014) However, the number of acquired spectra per run increases from several thousand to several million, requiring memory-efficient software and new processing algorithms.","title":"Cross Collisional Section"},{"location":"terminology/ion-mobility-terminology.html#references","text":"https://doi.org/10.1074/mcp.TIR118.000900","title":"References"},{"location":"visualization_modules/raw-data-visualisation.html","text":"Raw data visualisation \u00b6 todo Raw data overview (LC-MS) \u00b6 todo Ion mobility raw data overview (LC-IMS-MS) \u00b6 todo Chromatogram plot \u00b6 todo Spectrum plot \u00b6 todo Page Contributors \u00b6 SteffenHeu","title":"Raw data visualisation"},{"location":"visualization_modules/raw-data-visualisation.html#raw-data-visualisation","text":"todo","title":"Raw data visualisation"},{"location":"visualization_modules/raw-data-visualisation.html#raw-data-overview-lc-ms","text":"todo","title":"Raw data overview (LC-MS)"},{"location":"visualization_modules/raw-data-visualisation.html#ion-mobility-raw-data-overview-lc-ims-ms","text":"todo","title":"Ion mobility raw data overview (LC-IMS-MS)"},{"location":"visualization_modules/raw-data-visualisation.html#chromatogram-plot","text":"todo","title":"Chromatogram plot"},{"location":"visualization_modules/raw-data-visualisation.html#spectrum-plot","text":"todo","title":"Spectrum plot"},{"location":"visualization_modules/raw-data-visualisation.html#page-contributors","text":"SteffenHeu","title":"Page Contributors"},{"location":"visualization_modules/ims_raw_data_overview/IM-data-visualisation.html","text":"Ion mobility raw data overview (LC-IMS-MS) \u00b6 The \"Ion mobilitiy raw data visualization\" module allow a comprehensive navigation of the complex LC-IM-MS raw data. The screenshot belows shows an example of LC-IM-MS data acquired with a Bruker timsTOF instrument: The main window consists of 5 panels and a set of displaying parameters. All the panels are interconnected, which means that moving the cursor in one panel, automatically updates the others. Cursors are displayed as light-blue solid lines in the panels. Summed frame spectrum panel [1] \u00b6 The MS spectrum corresponding to each frame is shown in this panel. The displayed MS spectrum is the sum of all the mobility scans acquired over that frame (see Ion mobility spectrometry terminology ). BPC panel [2] \u00b6 In this panel, the base peak chromatogram is displayed. Each data point corresponds to an individual frame . Moving the cursor frame-by-frame automatically updateds the 'frame heatmap' and 'summed frame spectrum' panels. Moving the cursor frame-by-frame automatically updateds the 'summed frame spectrum' panels as changing data point in regular LC-MS data would display a different MS scan. Since each frame is made of several mobily scans , the 'mobilogram chart' and 'frame heatmap' panels automatically updates too. Note . It is currently not possible to display the TIC chromatogram ) Mobility scan [3] \u00b6 Todo Note that this is the only panel that does not possess a cursor as [...]. Mobilogram chart [4] \u00b6 Todo The signal intensity is displayed as a continuous colour scale. Frame heatmap [5] \u00b6 Todo The signal intensity is displayed as a continuous colour scale. Ion trace chart [6] \u00b6 Todo Displaying parameters [6] \u00b6 Mobility scan noise level : This parameter controls the signals shown in the XXX panels (panel n\u00b0X). For example, a noise level of 5.0E1 will show only the signals above this value (see below) SCREENSHOT Frame noise level : This parameter sets a threshold for the signals shown in the \"Summed frame spectrum panel\" (panel n\u00b0X). Signals from MS spectra acquired over the same frame are summed and shown m/z tolerance : Todo Scan selection : Todo Retention time width : Todo Mobilogram bin width (abs) : Todo EIC/mobilogram ranges : Todo To-do list: - Explain EIC and EIC in mobilogram chart","title":"Ion mobility data visualisation"},{"location":"visualization_modules/ims_raw_data_overview/IM-data-visualisation.html#ion-mobility-raw-data-overview-lc-ims-ms","text":"The \"Ion mobilitiy raw data visualization\" module allow a comprehensive navigation of the complex LC-IM-MS raw data. The screenshot belows shows an example of LC-IM-MS data acquired with a Bruker timsTOF instrument: The main window consists of 5 panels and a set of displaying parameters. All the panels are interconnected, which means that moving the cursor in one panel, automatically updates the others. Cursors are displayed as light-blue solid lines in the panels.","title":"Ion mobility raw data overview (LC-IMS-MS)"},{"location":"visualization_modules/ims_raw_data_overview/IM-data-visualisation.html#summed-frame-spectrum-panel-1","text":"The MS spectrum corresponding to each frame is shown in this panel. The displayed MS spectrum is the sum of all the mobility scans acquired over that frame (see Ion mobility spectrometry terminology ).","title":"Summed frame spectrum panel [1]"},{"location":"visualization_modules/ims_raw_data_overview/IM-data-visualisation.html#bpc-panel-2","text":"In this panel, the base peak chromatogram is displayed. Each data point corresponds to an individual frame . Moving the cursor frame-by-frame automatically updateds the 'frame heatmap' and 'summed frame spectrum' panels. Moving the cursor frame-by-frame automatically updateds the 'summed frame spectrum' panels as changing data point in regular LC-MS data would display a different MS scan. Since each frame is made of several mobily scans , the 'mobilogram chart' and 'frame heatmap' panels automatically updates too. Note . It is currently not possible to display the TIC chromatogram )","title":"BPC panel [2]"},{"location":"visualization_modules/ims_raw_data_overview/IM-data-visualisation.html#mobility-scan-3","text":"Todo Note that this is the only panel that does not possess a cursor as [...].","title":"Mobility scan [3]"},{"location":"visualization_modules/ims_raw_data_overview/IM-data-visualisation.html#mobilogram-chart-4","text":"Todo The signal intensity is displayed as a continuous colour scale.","title":"Mobilogram chart [4]"},{"location":"visualization_modules/ims_raw_data_overview/IM-data-visualisation.html#frame-heatmap-5","text":"Todo The signal intensity is displayed as a continuous colour scale.","title":"Frame heatmap [5]"},{"location":"visualization_modules/ims_raw_data_overview/IM-data-visualisation.html#ion-trace-chart-6","text":"Todo","title":"Ion trace chart [6]"},{"location":"visualization_modules/ims_raw_data_overview/IM-data-visualisation.html#displaying-parameters-6","text":"Mobility scan noise level : This parameter controls the signals shown in the XXX panels (panel n\u00b0X). For example, a noise level of 5.0E1 will show only the signals above this value (see below) SCREENSHOT Frame noise level : This parameter sets a threshold for the signals shown in the \"Summed frame spectrum panel\" (panel n\u00b0X). Signals from MS spectra acquired over the same frame are summed and shown m/z tolerance : Todo Scan selection : Todo Retention time width : Todo Mobilogram bin width (abs) : Todo EIC/mobilogram ranges : Todo To-do list: - Explain EIC and EIC in mobilogram chart","title":"Displaying parameters [6]"},{"location":"visualization_modules/msmsplot/msms-plot.html","text":"MS/MS plot \u00b6 This module provides a colored scatter plot of the MS/MS data. There are 4 options for X and Y axes: retention time, precursor ion m/z, product ion m/z, neutral loss and 3 options for Z axis (color): precursor ion intensity, product ion intensity, retention time. The module additionally allows you to filter ions by their intensities and to perform diagnostic fragmentation filtering. In order to focus on the values of interest you can highlight specific data points and sort them by color axis. This tool can be very useful to get an overview of large amounts of MS/MS data by tuning parameters and filters. Parameters \u00b6 Raw data file \u00b6 Selection of the raw data file to visualize. Only one file can be selected. X axis \u00b6 Selection of the values for X axis. There are 4 options available: Retention time, Precursor ion m/z, Product ion m/z, Neutral loss. Y axis \u00b6 Selection of the values for Y axis. Options are the same as for X axis. Z axis \u00b6 Selection of the vales for Z axis. There are 3 options available: Precursor ion intensity, Product ion intensity, Retention time. MS level \u00b6 MS level of the scans to be plotted. Retention time \u00b6 Retention time range. m/z range \u00b6 Range of m/z values for precursor ions in MSn scans. m/z tolerance \u00b6 Maximum allowed difference between two m/z values to be considered same. Intensities filtering \u00b6 Optional parameter to filter ions by intensity. There are 3 different ways of filtering: Number of best fragments - Number of ions with highest intensities from each scan to be visualized. For example 5(for each scan 5 ions with highest intensities will be plotted). Base peak percent, % - Ions with intensity values lower than the given percent of base peak intensity will be plotted. For example 95(ions with intensity values lower than 0.95 multiplied by base peak intensity will not be plotted). Intensity threshold - Ions having intensities lower than the given value will not be plotted. For example 6.0E6(ions with intensity values lower than 6.0E6 will not be plotted). Diagnostic fragmentation filtering \u00b6 Optional parameter for diagnostic fragmentation filtering described below. It has 2 subparameters: diagnostic product ions and diagnostic neutral loss values. Scans not containing any ion satisfying each input criterion will not be considered for the visualization. Diagnostic fragmentation filtering \u00b6 Due to common structural features, compounds within the same class undergo similar MS/MS fragmentation and as a result of many identical product ions and/or neutral losses. Diagnostic fragmentation filter (product ion filter) is a post-acquisition approach to screen LC-MS/MS datasets for entire classes of both known and unknown natural products. This tool searches all MS/MS spectra for product ions and/or neutral losses that has defined as being diagnostic for the entire class of compounds. In other words it screens LC-MS/MS datasets for MS/MS spectra containing production ions and/or neutral losses that are specific to that class of compounds. The user defines the diagnostic product ions and/or the diagnostic neutral loss values (Da) to use in the filtering. The user can also define the minimum diagnostic ion intensity (% base peak) to use in the filtering. If a recurrent neutral loss occurs, a line pattern in the plot can be observed. If compounds carrying those diagnostic product ions and/or the neutral loss values are detected the resulting plot will show their product ion m/z and precusor ion m/z. Additionally, an output file may be specified that will output the results of the filtering. For a detailed view of diagnostic fragmentation filtering: Walsh, Jacob P., et al. \"Diagnostic Fragmentation Filtering for the Discovery of New Chaetoglobosins and Cytochalasins.\" Rapid Communications in Mass Spectrometry (2018) . Functionality \u00b6 This plot is using the third part library JfreeChart for its basic functionality. Drag the mouse from left to right - selecting the area to zoom Drag the mouse from right to left - zoom out Select combo boxes below - change axes types Hold the mouse on data point - show detailed information in a tooltip Double click on data point - show spectrum plot - highlight points representing ions with specific values given by input ranges (Note: colors of range input boxes determine the highlighting color, green color denotes ions satisfying both ranges) - show intense points in front - show pale points in front","title":"MSMS Visualizer"},{"location":"visualization_modules/msmsplot/msms-plot.html#msms-plot","text":"This module provides a colored scatter plot of the MS/MS data. There are 4 options for X and Y axes: retention time, precursor ion m/z, product ion m/z, neutral loss and 3 options for Z axis (color): precursor ion intensity, product ion intensity, retention time. The module additionally allows you to filter ions by their intensities and to perform diagnostic fragmentation filtering. In order to focus on the values of interest you can highlight specific data points and sort them by color axis. This tool can be very useful to get an overview of large amounts of MS/MS data by tuning parameters and filters.","title":"MS/MS plot"},{"location":"visualization_modules/msmsplot/msms-plot.html#parameters","text":"","title":"Parameters"},{"location":"visualization_modules/msmsplot/msms-plot.html#raw-data-file","text":"Selection of the raw data file to visualize. Only one file can be selected.","title":"Raw data file"},{"location":"visualization_modules/msmsplot/msms-plot.html#x-axis","text":"Selection of the values for X axis. There are 4 options available: Retention time, Precursor ion m/z, Product ion m/z, Neutral loss.","title":"X axis"},{"location":"visualization_modules/msmsplot/msms-plot.html#y-axis","text":"Selection of the values for Y axis. Options are the same as for X axis.","title":"Y axis"},{"location":"visualization_modules/msmsplot/msms-plot.html#z-axis","text":"Selection of the vales for Z axis. There are 3 options available: Precursor ion intensity, Product ion intensity, Retention time.","title":"Z axis"},{"location":"visualization_modules/msmsplot/msms-plot.html#ms-level","text":"MS level of the scans to be plotted.","title":"MS level"},{"location":"visualization_modules/msmsplot/msms-plot.html#retention-time","text":"Retention time range.","title":"Retention time"},{"location":"visualization_modules/msmsplot/msms-plot.html#mz-range","text":"Range of m/z values for precursor ions in MSn scans.","title":"m/z range"},{"location":"visualization_modules/msmsplot/msms-plot.html#mz-tolerance","text":"Maximum allowed difference between two m/z values to be considered same.","title":"m/z tolerance"},{"location":"visualization_modules/msmsplot/msms-plot.html#intensities-filtering","text":"Optional parameter to filter ions by intensity. There are 3 different ways of filtering: Number of best fragments - Number of ions with highest intensities from each scan to be visualized. For example 5(for each scan 5 ions with highest intensities will be plotted). Base peak percent, % - Ions with intensity values lower than the given percent of base peak intensity will be plotted. For example 95(ions with intensity values lower than 0.95 multiplied by base peak intensity will not be plotted). Intensity threshold - Ions having intensities lower than the given value will not be plotted. For example 6.0E6(ions with intensity values lower than 6.0E6 will not be plotted).","title":"Intensities filtering"},{"location":"visualization_modules/msmsplot/msms-plot.html#diagnostic-fragmentation-filtering","text":"Optional parameter for diagnostic fragmentation filtering described below. It has 2 subparameters: diagnostic product ions and diagnostic neutral loss values. Scans not containing any ion satisfying each input criterion will not be considered for the visualization.","title":"Diagnostic fragmentation filtering"},{"location":"visualization_modules/msmsplot/msms-plot.html#diagnostic-fragmentation-filtering_1","text":"Due to common structural features, compounds within the same class undergo similar MS/MS fragmentation and as a result of many identical product ions and/or neutral losses. Diagnostic fragmentation filter (product ion filter) is a post-acquisition approach to screen LC-MS/MS datasets for entire classes of both known and unknown natural products. This tool searches all MS/MS spectra for product ions and/or neutral losses that has defined as being diagnostic for the entire class of compounds. In other words it screens LC-MS/MS datasets for MS/MS spectra containing production ions and/or neutral losses that are specific to that class of compounds. The user defines the diagnostic product ions and/or the diagnostic neutral loss values (Da) to use in the filtering. The user can also define the minimum diagnostic ion intensity (% base peak) to use in the filtering. If a recurrent neutral loss occurs, a line pattern in the plot can be observed. If compounds carrying those diagnostic product ions and/or the neutral loss values are detected the resulting plot will show their product ion m/z and precusor ion m/z. Additionally, an output file may be specified that will output the results of the filtering. For a detailed view of diagnostic fragmentation filtering: Walsh, Jacob P., et al. \"Diagnostic Fragmentation Filtering for the Discovery of New Chaetoglobosins and Cytochalasins.\" Rapid Communications in Mass Spectrometry (2018) .","title":"Diagnostic fragmentation filtering"},{"location":"visualization_modules/msmsplot/msms-plot.html#functionality","text":"This plot is using the third part library JfreeChart for its basic functionality. Drag the mouse from left to right - selecting the area to zoom Drag the mouse from right to left - zoom out Select combo boxes below - change axes types Hold the mouse on data point - show detailed information in a tooltip Double click on data point - show spectrum plot - highlight points representing ions with specific values given by input ranges (Note: colors of range input boxes determine the highlighting color, green color denotes ions satisfying both ranges) - show intense points in front - show pale points in front","title":"Functionality"},{"location":"workflows/batch_processing/batch-processing.html","text":"Batch processing \u00b6 Besides the interactive GUI , MZmine allows the user to run processing workflows in an automated manner using the \"batch mode\". Entire processing pipelines (including data import/export) can be run with few clicks, or even through the command-line application. This makes MZmine suitable to be integrated into automated data analysis pipelines (e.g. QC systems). Batch files (XML format) are essentially lists of tasks run by MZmine one after another. Any of the methods available in MZmine 3 can be included in the batch file. How to run batch processing \u00b6 Project :material-arrow-right-thin: Batch mode When a new step is added to the queue its parameter setup dialog is shown. The \"Set paramaters\" button allows the user to modify a step's parameter settings. The \"Clear\" button removes all steps. The \"Load\" and \"Save\" buttons make it possible to read and write batch steps to XML files. The first step of a batch queue is performed on those raw data files and/or peak lists selected by the user. The remaining steps are performed on the results produced by each preceding step (File/Feature list selection must be set to Those created by previous batch step ). For example, if the first step of the batch queue is the ADAP chromatogram builder , it will produce peak lists as a result. If the following step were Peak list deconvolution then it will be performed on the peak lists produced by the preceding Chromatogram builder step. :octicons-alert-16: Tip MZmine \"remembers\" the last settings used. Processing wizard \u00b6 The processing wizard is inteded to quickly set up a general workflow for the processing of untargeted LC-MS and LC-IM-MS data. By clicking the \"Set default\" button, default settings for mass and feature detection are also provided according to the selected MS type (Orbitrap or TOF) and LC system (UHPLC or HPLC). Once the desired parameters have been set, hit the \"Build batch\" botton and a pre-populated batch window will open up. Tools :material-arrow-right-thin: Processing wizard Mass spectrometers presets \u00b6 MS type: When TOF is selected, the \"Ion mobility\" can be enabled MS1 and MS2 noise level: Minimum feature height: Scan to scan m/z tolerance: Feature to feature m/z tolerance: HPLC presets \u00b6 Stable ionization across samples: Crop retention time: Max peaks in chromatogram: Min samples per aligned feature: Min # of data points: Approximate feature FWHM: Intra-sample RT tolerance: Inter-sample RT tolerance: Only keep feature with 13C: Original feature list: Export path: Warning The default settings were optimized on sample datasets used during the MZmine 3 development. Although probably suitable for many appications, it is strongly recommended not to blindly rely on them. Rather, optimal processing parameters should be chosen based on the LC-(IM)-MS system performance and data acquisition settings.","title":"Batch processing"},{"location":"workflows/batch_processing/batch-processing.html#batch-processing","text":"Besides the interactive GUI , MZmine allows the user to run processing workflows in an automated manner using the \"batch mode\". Entire processing pipelines (including data import/export) can be run with few clicks, or even through the command-line application. This makes MZmine suitable to be integrated into automated data analysis pipelines (e.g. QC systems). Batch files (XML format) are essentially lists of tasks run by MZmine one after another. Any of the methods available in MZmine 3 can be included in the batch file.","title":"Batch processing"},{"location":"workflows/batch_processing/batch-processing.html#how-to-run-batch-processing","text":"Project :material-arrow-right-thin: Batch mode When a new step is added to the queue its parameter setup dialog is shown. The \"Set paramaters\" button allows the user to modify a step's parameter settings. The \"Clear\" button removes all steps. The \"Load\" and \"Save\" buttons make it possible to read and write batch steps to XML files. The first step of a batch queue is performed on those raw data files and/or peak lists selected by the user. The remaining steps are performed on the results produced by each preceding step (File/Feature list selection must be set to Those created by previous batch step ). For example, if the first step of the batch queue is the ADAP chromatogram builder , it will produce peak lists as a result. If the following step were Peak list deconvolution then it will be performed on the peak lists produced by the preceding Chromatogram builder step. :octicons-alert-16: Tip MZmine \"remembers\" the last settings used.","title":"How to run batch processing"},{"location":"workflows/batch_processing/batch-processing.html#processing-wizard","text":"The processing wizard is inteded to quickly set up a general workflow for the processing of untargeted LC-MS and LC-IM-MS data. By clicking the \"Set default\" button, default settings for mass and feature detection are also provided according to the selected MS type (Orbitrap or TOF) and LC system (UHPLC or HPLC). Once the desired parameters have been set, hit the \"Build batch\" botton and a pre-populated batch window will open up. Tools :material-arrow-right-thin: Processing wizard","title":"Processing wizard"},{"location":"workflows/batch_processing/batch-processing.html#mass-spectrometers-presets","text":"MS type: When TOF is selected, the \"Ion mobility\" can be enabled MS1 and MS2 noise level: Minimum feature height: Scan to scan m/z tolerance: Feature to feature m/z tolerance:","title":"Mass spectrometers presets"},{"location":"workflows/batch_processing/batch-processing.html#hplc-presets","text":"Stable ionization across samples: Crop retention time: Max peaks in chromatogram: Min samples per aligned feature: Min # of data points: Approximate feature FWHM: Intra-sample RT tolerance: Inter-sample RT tolerance: Only keep feature with 13C: Original feature list: Export path: Warning The default settings were optimized on sample datasets used during the MZmine 3 development. Although probably suitable for many appications, it is strongly recommended not to blindly rely on them. Rather, optimal processing parameters should be chosen based on the LC-(IM)-MS system performance and data acquisition settings.","title":"HPLC presets"},{"location":"workflows/imsworkflow/ion-mobility-data-processing-workflow.html","text":"LC-IMS-MS Workflow Overview \u00b6 Compared to regular LC-MS, LC-IM-MS data is more complex due to the additional separation dimension. Since some terms might not be straightforward for new users, a basic explanation of IM separation principles and the terminology used within this documentation is provided here . Supported formats \u00b6 Vendor formats: .tdf (Native Bruker LC-IMS-MS and MALDI-IMS-MSI format) .tsf (Native Bruker MALDI-IMS-MS (single shot) format) .mzML Created via MSConvert from native Bruker data Created via MSConvert from native Waters/Agilent data Feature detection workflows \u00b6 Ion mobility data can be processed in MZmine 3 in two ways. The first few steps are different for the two workflows (see below). LC-IMS-MS workflow via ADAP Chromatogram builder and IMS expander ( recommended) LC-IMS-MS workflow via Ion mobility trace builder / Recursive IMS builder While these lists might seem fairly similar, there are some differences in the processing approach. The LC-IMS-MS workflow builds ion mobility traces from the data in the mobility scans, whilst the LC-MS workflow builds EICs from the summed frames. For ion mobility data imported from .mzML files, accumulated frame spectra have to be built from the individual mobility scans after mass detection . Since the mass detection impacts the computation of accumulated frame spectra in the same way it would impact the ion mobility trace builder , the differences from this workflow and the ADAP workflow will be negligible. However, frame spectra for native Bruker .tdf raw data are summed by the vendor library during file import. Here, the frame spectra are generated from the raw data and thus result in higher intensities, since the low abundant data points on the edges of the mobility and retention time peaks are not cut-off by the mass detection step. (see below) Therefore, the more low abundant compounds might be detected, if the LC-MS workflow is recommended. LC-MS workflow (recommended) \u00b6 LC-IMS-MS data can also be processed via the regular LC-MS modules. If necessary, detected features can be expanded into the mobility dimension. For this workflow, generation of summed frame spectra via the Mobility scan merging module is a mandatory step, if the data was imported from an .mzML file (automatically generated via native Bruker import). Data import Mass detection Mobility scan merging (mzML data) ADAP Chromatogram builder Smoothing in retention time dimension (optional) Resolving in retention time dimension Expanding EICs in mobility dimension Smoothing in mobility dimension (optional) Resolving in mobility dimension Smoothing in rt and mobility dimension (optional) Some recognised features might have rather noisy signals (in rt and mobility dimension) after the mobility resolving step. If smoother shapes are required, the smoothing can be reapplied afterwards. In that case, smoothing can be applied to both dimensions at once. LC-IMS-MS workflow \u00b6 The LC-IMS-MS workflow will directly build ion mobility traces from the raw data in the mobility scans. This workflow does not necessarily require summed frame spectra. However, if extracted ion chromatograms shall be visualized via the Chromatogram visualizer , the frame intensities are used. In case these are not present, the chromatograms will be blank. Note that feature intensities from the LC-IMS-MS workflow might not exactly match the frame chromatograms due to summing being executed prior to thresholding (for native Bruker data). Furthermore, multiple isomers might hide behind a single chromatographic peak. Data import Mass detection Ion mobility trace builder Smoothing in retention time dimension (optional) Resolving in retention time dimension Smoothing in mobility dimension (optional) Resolving in mobility dimension Smoothing in rt and mobility dimension (optional) Some recognised features might have rather noisy signals (in rt and mobility dimension) after the mobility resolving step. If smoother shapes are required, the smoothing can be reapplied afterwards. In that case, smoothing can be applied to both dimensions at once. Graphical comparison of LC-MS and LC-IMS-MS data \u00b6 Data comparison Page Contributors \u00b6 SteffenHeu (94.12%), tdamiani (5.88%)","title":"LC-IMS-MS workflow"},{"location":"workflows/imsworkflow/ion-mobility-data-processing-workflow.html#lc-ims-ms-workflow-overview","text":"Compared to regular LC-MS, LC-IM-MS data is more complex due to the additional separation dimension. Since some terms might not be straightforward for new users, a basic explanation of IM separation principles and the terminology used within this documentation is provided here .","title":"LC-IMS-MS Workflow Overview"},{"location":"workflows/imsworkflow/ion-mobility-data-processing-workflow.html#supported-formats","text":"Vendor formats: .tdf (Native Bruker LC-IMS-MS and MALDI-IMS-MSI format) .tsf (Native Bruker MALDI-IMS-MS (single shot) format) .mzML Created via MSConvert from native Bruker data Created via MSConvert from native Waters/Agilent data","title":"Supported formats"},{"location":"workflows/imsworkflow/ion-mobility-data-processing-workflow.html#feature-detection-workflows","text":"Ion mobility data can be processed in MZmine 3 in two ways. The first few steps are different for the two workflows (see below). LC-IMS-MS workflow via ADAP Chromatogram builder and IMS expander ( recommended) LC-IMS-MS workflow via Ion mobility trace builder / Recursive IMS builder While these lists might seem fairly similar, there are some differences in the processing approach. The LC-IMS-MS workflow builds ion mobility traces from the data in the mobility scans, whilst the LC-MS workflow builds EICs from the summed frames. For ion mobility data imported from .mzML files, accumulated frame spectra have to be built from the individual mobility scans after mass detection . Since the mass detection impacts the computation of accumulated frame spectra in the same way it would impact the ion mobility trace builder , the differences from this workflow and the ADAP workflow will be negligible. However, frame spectra for native Bruker .tdf raw data are summed by the vendor library during file import. Here, the frame spectra are generated from the raw data and thus result in higher intensities, since the low abundant data points on the edges of the mobility and retention time peaks are not cut-off by the mass detection step. (see below) Therefore, the more low abundant compounds might be detected, if the LC-MS workflow is recommended.","title":"Feature detection workflows"},{"location":"workflows/imsworkflow/ion-mobility-data-processing-workflow.html#lc-ms-workflow-recommended","text":"LC-IMS-MS data can also be processed via the regular LC-MS modules. If necessary, detected features can be expanded into the mobility dimension. For this workflow, generation of summed frame spectra via the Mobility scan merging module is a mandatory step, if the data was imported from an .mzML file (automatically generated via native Bruker import). Data import Mass detection Mobility scan merging (mzML data) ADAP Chromatogram builder Smoothing in retention time dimension (optional) Resolving in retention time dimension Expanding EICs in mobility dimension Smoothing in mobility dimension (optional) Resolving in mobility dimension Smoothing in rt and mobility dimension (optional) Some recognised features might have rather noisy signals (in rt and mobility dimension) after the mobility resolving step. If smoother shapes are required, the smoothing can be reapplied afterwards. In that case, smoothing can be applied to both dimensions at once.","title":"LC-MS workflow (recommended)"},{"location":"workflows/imsworkflow/ion-mobility-data-processing-workflow.html#lc-ims-ms-workflow","text":"The LC-IMS-MS workflow will directly build ion mobility traces from the raw data in the mobility scans. This workflow does not necessarily require summed frame spectra. However, if extracted ion chromatograms shall be visualized via the Chromatogram visualizer , the frame intensities are used. In case these are not present, the chromatograms will be blank. Note that feature intensities from the LC-IMS-MS workflow might not exactly match the frame chromatograms due to summing being executed prior to thresholding (for native Bruker data). Furthermore, multiple isomers might hide behind a single chromatographic peak. Data import Mass detection Ion mobility trace builder Smoothing in retention time dimension (optional) Resolving in retention time dimension Smoothing in mobility dimension (optional) Resolving in mobility dimension Smoothing in rt and mobility dimension (optional) Some recognised features might have rather noisy signals (in rt and mobility dimension) after the mobility resolving step. If smoother shapes are required, the smoothing can be reapplied afterwards. In that case, smoothing can be applied to both dimensions at once.","title":"LC-IMS-MS workflow"},{"location":"workflows/imsworkflow/ion-mobility-data-processing-workflow.html#graphical-comparison-of-lc-ms-and-lc-ims-ms-data","text":"Data comparison","title":"Graphical comparison of LC-MS and LC-IMS-MS data"},{"location":"workflows/imsworkflow/ion-mobility-data-processing-workflow.html#page-contributors","text":"SteffenHeu (94.12%), tdamiani (5.88%)","title":"Page Contributors"},{"location":"workflows/imsworkflow/lc-ms-and-lc-ims-ms-data-comparison.html","text":"Graphical comparison of LC-MS and LC-IMS-MS data \u00b6 Classic LC-MS data consists of three dimensions: m/z, intensity, and retention time. At every retention time, a whole mass spectrum is acquired (yellow). Putting all scans together creates a three-dimensional plane. By slicing the three-dimensional data at a single m/z (+- a tolerance), EICs can be created (green). On the other hand, ion mobility resolved data consists of a three-dimensional data plane at each retention time. The three dimensions being m/z, intensity, and mobility (as drift time (ms) or inverse reduced mobility 1/k0 [Vs/(cm^2)]). The 3D projection of regular LC-MS data can be created by summing all mobility scans of a frame to create a frame spectrum. (see Mobility scan merging )","title":"IMS data format insight"},{"location":"workflows/imsworkflow/lc-ms-and-lc-ims-ms-data-comparison.html#graphical-comparison-of-lc-ms-and-lc-ims-ms-data","text":"Classic LC-MS data consists of three dimensions: m/z, intensity, and retention time. At every retention time, a whole mass spectrum is acquired (yellow). Putting all scans together creates a three-dimensional plane. By slicing the three-dimensional data at a single m/z (+- a tolerance), EICs can be created (green). On the other hand, ion mobility resolved data consists of a three-dimensional data plane at each retention time. The three dimensions being m/z, intensity, and mobility (as drift time (ms) or inverse reduced mobility 1/k0 [Vs/(cm^2)]). The 3D projection of regular LC-MS data can be created by summing all mobility scans of a frame to create a frame spectrum. (see Mobility scan merging )","title":"Graphical comparison of LC-MS and LC-IMS-MS data"},{"location":"workflows/lcmsworkflow/lcms-workflow.html","text":"LC-MS Workflow \u00b6 The workflow proposed herein is intended as a general pipeline for untargeted LC-MS (or LC\u2212MS/MS) data preprocessing. The main goal is essentially to turn the highly-complex LC-MS raw data into a list of features, and corresponding signal intensity, detected across the analysed samples. Such feature lists can then be exported for furhter downstream analysis (e.g., identification, search against spectral libraries, statistical analysis, etc.). A schematic representation of the workflow is shown below: References: - 10.1039/9781788019880-00232 - 10.1007/978-1-0716-0239-3_3 - 10.1016/bs.coac.2018.08.003 Raw data processing \u00b6 The raw data processing consists of essentially two steps: Data import and Mass detection Raw data import \u00b6 Either open (e.g. mzML) and native vendor (e.g. Thermo, Bruker) data formats can be imported in MZmine 3. All the supported formats are listed here (LINK to Doc). For more details see the Data import module. Mass detection \u00b6 This step produces a list (referred to as \"mass list\") of the m/z values found in each MS scan across the LC run that exceed a user-defined threeshold (i.e. noise level). For more details see the Mass detection module. Feature processing \u00b6 The goal of the \"Feature processing\" is to obtain a list of all the detected features (characterized by a RT and m/z value) from the raw LC-MS data. Chromatogram building \u00b6 The first step in the \"Feature processing\" is to build the so-called extracted ion chromatograms (EICs) for each detected mass (see \"Mass detection\"). There are two modules in MZmine 3 that can fulfil this task: ADAP chromatogram builder (widely used) and Grid mass (create docs). The \"detected\" features in each \ufb01le are listed in the so-called \"feature lists\", which are then further processed. (e.g. to ) and aligned to connect correspond-ing features across all samples. Smoothing in retention time dimension (optional) \u00b6 Optional, depends on the LC peak shape For more details see the Mass detection module. Smoothing Feature resolving \u00b6 Local minimum resolver 13 C isotope filter (isotope grouper) \u00b6 Removes 13 C isotope features from the feature list Has limited chance to detect isotope patterns for all features as only detected features (with all their filters and contraints are considered) Use the isotope finder for more sensitive detection of possible isotope signals 13 C isotope filter (isotope grouper) Isotope pattern finder \u00b6 Searches for the isotope signals of selected chemical elements in the mass list of each feature. The isotope pattern detected by the isotope finder module has priority over the one detected by the isotope filter (grouper) module, if both are available. Isotope pattern finder Gap-filling \u00b6 Gap-filling can be performed on the aligned feature lists to cope with missing features that might be artifacts of the feature-detection process. - For more details see the Gap-filling module. Page Contributors \u00b6 SteffenHeu (47.69%), tdamiani (27.69%), Robin Schmid (9.23%), lalalana5 (9.23%), lalalana5 (6.15%)","title":"LC-MS workflow"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#lc-ms-workflow","text":"The workflow proposed herein is intended as a general pipeline for untargeted LC-MS (or LC\u2212MS/MS) data preprocessing. The main goal is essentially to turn the highly-complex LC-MS raw data into a list of features, and corresponding signal intensity, detected across the analysed samples. Such feature lists can then be exported for furhter downstream analysis (e.g., identification, search against spectral libraries, statistical analysis, etc.). A schematic representation of the workflow is shown below: References: - 10.1039/9781788019880-00232 - 10.1007/978-1-0716-0239-3_3 - 10.1016/bs.coac.2018.08.003","title":"LC-MS Workflow"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#raw-data-processing","text":"The raw data processing consists of essentially two steps: Data import and Mass detection","title":"Raw data processing"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#raw-data-import","text":"Either open (e.g. mzML) and native vendor (e.g. Thermo, Bruker) data formats can be imported in MZmine 3. All the supported formats are listed here (LINK to Doc). For more details see the Data import module.","title":"Raw data import"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#mass-detection","text":"This step produces a list (referred to as \"mass list\") of the m/z values found in each MS scan across the LC run that exceed a user-defined threeshold (i.e. noise level). For more details see the Mass detection module.","title":"Mass detection"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#feature-processing","text":"The goal of the \"Feature processing\" is to obtain a list of all the detected features (characterized by a RT and m/z value) from the raw LC-MS data.","title":"Feature processing"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#chromatogram-building","text":"The first step in the \"Feature processing\" is to build the so-called extracted ion chromatograms (EICs) for each detected mass (see \"Mass detection\"). There are two modules in MZmine 3 that can fulfil this task: ADAP chromatogram builder (widely used) and Grid mass (create docs). The \"detected\" features in each \ufb01le are listed in the so-called \"feature lists\", which are then further processed. (e.g. to ) and aligned to connect correspond-ing features across all samples.","title":"Chromatogram building"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#smoothing-in-retention-time-dimension-optional","text":"Optional, depends on the LC peak shape For more details see the Mass detection module. Smoothing","title":"Smoothing in retention time dimension (optional)"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#feature-resolving","text":"Local minimum resolver","title":"Feature resolving"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#13c-isotope-filter-isotope-grouper","text":"Removes 13 C isotope features from the feature list Has limited chance to detect isotope patterns for all features as only detected features (with all their filters and contraints are considered) Use the isotope finder for more sensitive detection of possible isotope signals 13 C isotope filter (isotope grouper)","title":"13C isotope filter (isotope grouper)"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#isotope-pattern-finder","text":"Searches for the isotope signals of selected chemical elements in the mass list of each feature. The isotope pattern detected by the isotope finder module has priority over the one detected by the isotope filter (grouper) module, if both are available. Isotope pattern finder","title":"Isotope pattern finder"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#gap-filling","text":"Gap-filling can be performed on the aligned feature lists to cope with missing features that might be artifacts of the feature-detection process. - For more details see the Gap-filling module.","title":"Gap-filling"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#page-contributors","text":"SteffenHeu (47.69%), tdamiani (27.69%), Robin Schmid (9.23%), lalalana5 (9.23%), lalalana5 (6.15%)","title":"Page Contributors"}]}